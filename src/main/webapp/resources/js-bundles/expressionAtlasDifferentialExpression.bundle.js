var expressionAtlasDifferentialExpression =
(window["webpackJsonp_name_"] = window["webpackJsonp_name_"] || []).push([["expressionAtlasDifferentialExpression"],{

/***/ "./bundles/differential-expression/index.js":
/*!**************************************************!*\
  !*** ./bundles/differential-expression/index.js ***!
  \**************************************************/
/*! exports provided: render */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return render; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _src_DifferentialRouterLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/DifferentialRouterLoader */ \"./bundles/differential-expression/src/DifferentialRouterLoader.js\");\n\n\n\n\nvar render = function render(props, target) {\n  react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_DifferentialRouterLoader__WEBPACK_IMPORTED_MODULE_2__[\"default\"], props), document.getElementById(target));\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlyZWZveC8uL2J1bmRsZXMvZGlmZmVyZW50aWFsLWV4cHJlc3Npb24vaW5kZXguanM/MGZiMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJ1xuXG5pbXBvcnQgRGlmZmVyZW50aWFsUm91dGVyTG9hZGVyIGZyb20gJy4vc3JjL0RpZmZlcmVudGlhbFJvdXRlckxvYWRlcidcblxuY29uc3QgcmVuZGVyID0gKHByb3BzLCB0YXJnZXQpID0+IHtcbiAgUmVhY3RET00ucmVuZGVyKFxuICAgIDxEaWZmZXJlbnRpYWxSb3V0ZXJMb2FkZXIgey4uLnByb3BzfSAvPixcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpXG4gIClcbn1cblxuZXhwb3J0IHsgcmVuZGVyIH1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./bundles/differential-expression/index.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/DifferentialDownloadButton.js":
/*!***************************************************************************!*\
  !*** ./bundles/differential-expression/src/DifferentialDownloadButton.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar jsonToTsv = function jsonToTsv(results) {\n  var arrayResults = typeof results !== \"object\" ? JSON.parse(results) : results;\n  return [[\"Gene\", \"Species\", \"Experiment accession\", \"Comparison\", \"log_2 fold change\", \"Adjusted p-value\"].concat(arrayResults.some(function (diffResults) {\n    return diffResults.tStatistics !== null;\n  }) ? [\"t-statistic\"] : []).join(\"\\t\")].concat(arrayResults.map(function (diffResults) {\n    return [diffResults.bioentityIdentifier, diffResults.species, diffResults.experimentAccession, diffResults.comparison, diffResults.foldChange, diffResults.pValue, diffResults.tStatistics].filter(function (el) {\n      return el !== null;\n    }) // tStatistics might be missing\n    .join(\"\\t\");\n  })).join(\"\\n\");\n};\n\nvar DownloadDifferentialButton = function DownloadDifferentialButton(_ref) {\n  var results = _ref.results;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n    className: \"button\",\n    download: \"differentialResults.tsv\",\n    href: \"data:text/tsv;charset=utf-8,\".concat(encodeURI(jsonToTsv(results))),\n    target: \"_blank\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"icon icon-functional\",\n    \"data-icon\": \"=\"\n  }, \" Download results\"));\n};\n\nDownloadDifferentialButton.propTypes = {\n  results: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({\n    species: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n    kingdom: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n    experimentType: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n    numReplicates: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n    // faceting only works with strings https://issues.apache.org/jira/browse/SOLR-7496\n    regulation: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n    factors: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string).isRequired,\n    bioentityIdentifier: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n    experimentAccession: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n    experimentName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n    contrastId: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n    comparison: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n    foldChange: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n    pValue: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n    tStatistics: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n    colour: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired\n  })).isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DownloadDifferentialButton);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy9EaWZmZXJlbnRpYWxEb3dubG9hZEJ1dHRvbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmVmb3gvLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy9EaWZmZXJlbnRpYWxEb3dubG9hZEJ1dHRvbi5qcz9hNDE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcblxuY29uc3QganNvblRvVHN2ID0gKHJlc3VsdHMpICA9PiB7XG4gIGNvbnN0IGFycmF5UmVzdWx0cyA9IHR5cGVvZiByZXN1bHRzICE9PSBgb2JqZWN0YCA/IEpTT04ucGFyc2UocmVzdWx0cykgOiByZXN1bHRzXG5cbiAgcmV0dXJuIChcbiAgICBbXG4gICAgICBbYEdlbmVgLCBgU3BlY2llc2AsIGBFeHBlcmltZW50IGFjY2Vzc2lvbmAsIGBDb21wYXJpc29uYCwgYGxvZ18yIGZvbGQgY2hhbmdlYCwgYEFkanVzdGVkIHAtdmFsdWVgXVxuICAgICAgICAuY29uY2F0KGFycmF5UmVzdWx0cy5zb21lKChkaWZmUmVzdWx0cykgPT4gZGlmZlJlc3VsdHMudFN0YXRpc3RpY3MgIT09IG51bGwpID8gW2B0LXN0YXRpc3RpY2BdIDpbXSlcbiAgICAgICAgLmpvaW4oYFxcdGApXG4gICAgXS5jb25jYXQoXG4gICAgICBhcnJheVJlc3VsdHNcbiAgICAgICAgLm1hcCgoZGlmZlJlc3VsdHMpID0+XG4gICAgICAgICAgW1xuICAgICAgICAgICAgZGlmZlJlc3VsdHMuYmlvZW50aXR5SWRlbnRpZmllcixcbiAgICAgICAgICAgIGRpZmZSZXN1bHRzLnNwZWNpZXMsXG4gICAgICAgICAgICBkaWZmUmVzdWx0cy5leHBlcmltZW50QWNjZXNzaW9uLFxuICAgICAgICAgICAgZGlmZlJlc3VsdHMuY29tcGFyaXNvbixcbiAgICAgICAgICAgIGRpZmZSZXN1bHRzLmZvbGRDaGFuZ2UsXG4gICAgICAgICAgICBkaWZmUmVzdWx0cy5wVmFsdWUsXG4gICAgICAgICAgICBkaWZmUmVzdWx0cy50U3RhdGlzdGljc1xuICAgICAgICAgIF1cbiAgICAgICAgICAgIC5maWx0ZXIoZWwgPT4gZWwgIT09IG51bGwpICAgIC8vIHRTdGF0aXN0aWNzIG1pZ2h0IGJlIG1pc3NpbmdcbiAgICAgICAgICAgIC5qb2luKGBcXHRgKVxuICAgICAgICApXG4gICAgKS5qb2luKGBcXG5gKVxuICApXG59XG5cbmNvbnN0IERvd25sb2FkRGlmZmVyZW50aWFsQnV0dG9uID0gKHtyZXN1bHRzfSkgPT5cbiAgPGEgY2xhc3NOYW1lPXtgYnV0dG9uYH1cbiAgICAgZG93bmxvYWQ9e2BkaWZmZXJlbnRpYWxSZXN1bHRzLnRzdmB9XG4gICAgIGhyZWY9e2BkYXRhOnRleHQvdHN2O2NoYXJzZXQ9dXRmLTgsJHtlbmNvZGVVUkkoanNvblRvVHN2KHJlc3VsdHMpKX1gfVxuICAgICB0YXJnZXQ9e2BfYmxhbmtgfT5cbiAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tZnVuY3Rpb25hbFwiIGRhdGEtaWNvbj1cIj1cIj4gRG93bmxvYWQgcmVzdWx0czwvc3Bhbj5cbiAgPC9hPlxuXG5Eb3dubG9hZERpZmZlcmVudGlhbEJ1dHRvbi5wcm9wVHlwZXMgPSB7XG4gIHJlc3VsdHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7XG4gICAgc3BlY2llczogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIGtpbmdkb206IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBleHBlcmltZW50VHlwZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIG51bVJlcGxpY2F0ZXM6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCwgICAgLy8gZmFjZXRpbmcgb25seSB3b3JrcyB3aXRoIHN0cmluZ3MgaHR0cHM6Ly9pc3N1ZXMuYXBhY2hlLm9yZy9qaXJhL2Jyb3dzZS9TT0xSLTc0OTZcbiAgICByZWd1bGF0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgZmFjdG9yczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZykuaXNSZXF1aXJlZCxcbiAgICBiaW9lbnRpdHlJZGVudGlmaWVyOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgZXhwZXJpbWVudEFjY2Vzc2lvbjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIGV4cGVyaW1lbnROYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgY29udHJhc3RJZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIGNvbXBhcmlzb246IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBmb2xkQ2hhbmdlOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgcFZhbHVlOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgdFN0YXRpc3RpY3M6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgY29sb3VyOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZFxuICB9KSkuaXNSZXF1aXJlZFxufVxuXG5leHBvcnQgZGVmYXVsdCBEb3dubG9hZERpZmZlcmVudGlhbEJ1dHRvblxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUlBO0FBVUE7QUFBQTtBQVRBO0FBREE7QUFlQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUlBO0FBQUE7QUFBQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQURBO0FBcUJBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/DifferentialDownloadButton.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/DifferentialFoldChangeCell.js":
/*!***************************************************************************!*\
  !*** ./bundles/differential-expression/src/DifferentialFoldChangeCell.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ \"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var react_tooltip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-tooltip */ \"./node_modules/react-tooltip/dist/index.es.js\");\n/* harmony import */ var _tooltip_DifferentialFoldChangeCellInfo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tooltip/DifferentialFoldChangeCellInfo */ \"./bundles/differential-expression/src/tooltip/DifferentialFoldChangeCellInfo.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  background-color: white;\\n  white-space: nowrap;\\n  font-size: x-large;\\n  border: \", \" \", \";\\n  background: \", \"\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\n\n\n\n\n\nvar DifferentialCellTd = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].td(_templateObject(), function (props) {\n  return props.displayLevels ? \"3px solid\" : \"none\";\n}, function (props) {\n  return props.colour;\n}, function (props) {\n  return props.displayLevels ? \"none\" : props.colour;\n});\n\nvar DifferentialCell = function DifferentialCell(_ref) {\n  var colour = _ref.colour,\n      foldChange = _ref.foldChange,\n      pValue = _ref.pValue,\n      tStat = _ref.tStat,\n      displayLevels = _ref.displayLevels,\n      id = _ref.id;\n  var tooltipId = \"\".concat(id, \"_foldchange\");\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DifferentialCellTd, {\n    colour: colour,\n    displayLevels: displayLevels,\n    \"data-tip\": true,\n    \"data-for\": tooltipId\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: displayLevels ? \"\" : \"hidden\",\n    style: {\n      textAlign: \"center\"\n    }\n  }, foldChange), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tooltip__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    id: tooltipId,\n    type: \"light\",\n    className: \"foobar\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_tooltip_DifferentialFoldChangeCellInfo__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    pValue: pValue,\n    tStatistic: tStat,\n    foldChange: foldChange\n  })));\n};\n\nDifferentialCell.propTypes = _objectSpread(_objectSpread({}, _tooltip_DifferentialFoldChangeCellInfo__WEBPACK_IMPORTED_MODULE_4__[\"default\"].propTypes), {}, {\n  colour: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,\n  displayLevels: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,\n  id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (DifferentialCell);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy9EaWZmZXJlbnRpYWxGb2xkQ2hhbmdlQ2VsbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmVmb3gvLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy9EaWZmZXJlbnRpYWxGb2xkQ2hhbmdlQ2VsbC5qcz8wMDMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnXG5pbXBvcnQgUmVhY3RUb29sdGlwIGZyb20gJ3JlYWN0LXRvb2x0aXAnXG5cbmltcG9ydCBEaWZmZXJlbnRpYWxGb2xkQ2hhbmdlQ2VsbEluZm8gZnJvbSAnLi90b29sdGlwL0RpZmZlcmVudGlhbEZvbGRDaGFuZ2VDZWxsSW5mbydcblxuY29uc3QgRGlmZmVyZW50aWFsQ2VsbFRkID0gc3R5bGVkLnRkYFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgZm9udC1zaXplOiB4LWxhcmdlO1xuICBib3JkZXI6ICR7cHJvcHMgPT4gcHJvcHMuZGlzcGxheUxldmVscyA/IGAzcHggc29saWRgIDogYG5vbmVgfSAke3Byb3BzID0+IHByb3BzLmNvbG91cn07XG4gIGJhY2tncm91bmQ6ICR7cHJvcHMgPT4gcHJvcHMuZGlzcGxheUxldmVscyA/IGBub25lYCA6IHByb3BzLmNvbG91cn1cbmBcblxuY29uc3QgRGlmZmVyZW50aWFsQ2VsbCA9ICh7Y29sb3VyLCBmb2xkQ2hhbmdlLCBwVmFsdWUsIHRTdGF0LCBkaXNwbGF5TGV2ZWxzLCBpZH0pID0+IHtcbiAgY29uc3QgdG9vbHRpcElkID0gYCR7aWR9X2ZvbGRjaGFuZ2VgXG5cbiAgcmV0dXJuIChcbiAgICA8RGlmZmVyZW50aWFsQ2VsbFRkIGNvbG91cj17Y29sb3VyfSBkaXNwbGF5TGV2ZWxzPXtkaXNwbGF5TGV2ZWxzfSBkYXRhLXRpcCBkYXRhLWZvcj17dG9vbHRpcElkfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtkaXNwbGF5TGV2ZWxzID8gYGAgOiBgaGlkZGVuYH0gc3R5bGU9e3t0ZXh0QWxpZ246IGBjZW50ZXJgfX0+XG4gICAgICAgIHtmb2xkQ2hhbmdlfVxuICAgICAgPC9kaXY+XG4gICAgICA8UmVhY3RUb29sdGlwIGlkPXt0b29sdGlwSWR9IHR5cGU9e2BsaWdodGB9IGNsYXNzTmFtZT17YGZvb2JhcmB9PlxuICAgICAgICA8RGlmZmVyZW50aWFsRm9sZENoYW5nZUNlbGxJbmZvXG4gICAgICAgICAgcFZhbHVlPXtwVmFsdWV9XG4gICAgICAgICAgdFN0YXRpc3RpYz17dFN0YXR9XG4gICAgICAgICAgZm9sZENoYW5nZT17Zm9sZENoYW5nZX0gLz5cbiAgICAgIDwvUmVhY3RUb29sdGlwPlxuICAgIDwvRGlmZmVyZW50aWFsQ2VsbFRkPlxuICApXG59XG5cbkRpZmZlcmVudGlhbENlbGwucHJvcFR5cGVzID0ge1xuICAuLi5EaWZmZXJlbnRpYWxGb2xkQ2hhbmdlQ2VsbEluZm8ucHJvcFR5cGVzLFxuICBjb2xvdXI6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGRpc3BsYXlMZXZlbHM6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcbn1cblxuZXhwb3J0IGRlZmF1bHQgRGlmZmVyZW50aWFsQ2VsbFxuXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFKQTtBQU9BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/DifferentialFoldChangeCell.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/DifferentialResults.js":
/*!********************************************************************!*\
  !*** ./bundles/differential-expression/src/DifferentialResults.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ \"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var urijs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! urijs */ \"./node_modules/urijs/src/URI.js\");\n/* harmony import */ var urijs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(urijs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _ebi_gene_expression_group_react_ebi_species__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ebi-gene-expression-group/react-ebi-species */ \"./node_modules/@ebi-gene-expression-group/react-ebi-species/lib/index.js\");\n/* harmony import */ var _ebi_gene_expression_group_react_ebi_species__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_ebi_gene_expression_group_react_ebi_species__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _DisplayLevelsButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DisplayLevelsButton */ \"./bundles/differential-expression/src/DisplayLevelsButton.js\");\n/* harmony import */ var _DifferentialDownloadButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DifferentialDownloadButton */ \"./bundles/differential-expression/src/DifferentialDownloadButton.js\");\n/* harmony import */ var _DifferentialFoldChangeCell__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DifferentialFoldChangeCell */ \"./bundles/differential-expression/src/DifferentialFoldChangeCell.js\");\n/* harmony import */ var _legend_LegendDifferential__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./legend/LegendDifferential */ \"./bundles/differential-expression/src/legend/LegendDifferential.js\");\n/* harmony import */ var _tooltip_ContrastTooltipLoader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./tooltip/ContrastTooltipLoader */ \"./bundles/differential-expression/src/tooltip/ContrastTooltipLoader.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\n\n\n\n\n\n\n\n\n\n\nvar Header = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].th(_templateObject());\nvar Data = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].td(_templateObject2());\nvar differentialResultRowDataPropTypes = {\n  species: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  kingdom: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  experimentType: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  numReplicates: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  regulation: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  factors: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string).isRequired,\n  bioentityIdentifier: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  bioentityName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  experimentAccession: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  experimentName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  contrastId: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  comparison: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  foldChange: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n  colour: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  uri: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired\n};\n\nvar DifferentialResultsRow = function DifferentialResultsRow(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DifferentialFoldChangeCell__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    foldChange: props.foldChange,\n    pValue: props.pValue,\n    tStat: props.tStatistics,\n    displayLevels: props.displayLevels,\n    colour: props.colour,\n    id: props.id\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Data, {\n    style: {\n      fontSize: \"3rem\"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ebi_gene_expression_group_react_ebi_species__WEBPACK_IMPORTED_MODULE_4___default.a, {\n    species: props.species\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Data, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n    href: urijs__WEBPACK_IMPORTED_MODULE_3___default()(\"genes/\".concat(props.bioentityIdentifier), props.atlasUrl).toString()\n  }, props.bioentityName || props.bioentityIdentifier)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Data, {\n    \"data-tip\": true,\n    \"data-for\": \"\".concat(props.id, \"_contrast\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n    href: urijs__WEBPACK_IMPORTED_MODULE_3___default()(props.uri, props.atlasUrl)\n  }, props.comparison), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_tooltip_ContrastTooltipLoader__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    id: \"\".concat(props.id, \"_contrast\"),\n    atlasUrl: props.atlasUrl,\n    tooltipUrl: \"rest/contrast-summary\",\n    tooltipUrlParams: {\n      experimentAccession: props.experimentAccession,\n      contrastId: props.contrastId,\n      accessKey: props.accessKey\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Data, null, props.factors ? props.factors.toString().replace(/,/g, \", \") : \"\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Data, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n    href: urijs__WEBPACK_IMPORTED_MODULE_3___default()(\"experiments/\".concat(props.experimentAccession), props.atlasUrl).toString()\n  }, props.experimentName)));\n};\n\nDifferentialResultsRow.propTypes = _objectSpread(_objectSpread({}, differentialResultRowDataPropTypes), {}, {\n  atlasUrl: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired\n});\n\nvar DifferentialResults = /*#__PURE__*/function (_React$Component) {\n  _inherits(DifferentialResults, _React$Component);\n\n  var _super = _createSuper(DifferentialResults);\n\n  function DifferentialResults(props) {\n    var _this;\n\n    _classCallCheck(this, DifferentialResults);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      displayLevels: false\n    };\n    _this._toggleDisplayLevels = _this._toggleDisplayLevels.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(DifferentialResults, [{\n    key: \"_toggleDisplayLevels\",\n    value: function _toggleDisplayLevels() {\n      var newDisplayLevels = !this.state.displayLevels;\n      this.setState({\n        displayLevels: newDisplayLevels\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"row column expanded\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"row column expanded\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"small-2 columns padding-left-none padding-right-none center\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_legend_LegendDifferential__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        minDownLevel: this.props.minDownLevel,\n        maxDownLevel: this.props.maxDownLevel,\n        minUpLevel: this.props.minUpLevel,\n        maxUpLevel: this.props.maxUpLevel\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"small-2 columns padding-left-none padding-right-none margin-left-large text-center\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DisplayLevelsButton__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        onClick: this._toggleDisplayLevels,\n        displayLevels: this.state.displayLevels\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"small-2 columns padding-left-none padding-right-none margin-left-large text-right\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DifferentialDownloadButton__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        results: this.props.results\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"row column expanded\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"table\", {\n        className: \"gxaDifferentialResultsTable\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Header, {\n        style: {\n          width: \"10%\"\n        }\n      }, \"Log\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"sub\", null, \"2\"), \"-fold change\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Header, {\n        style: {\n          width: \"5%\"\n        }\n      }, \"Species\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Header, {\n        style: {\n          width: \"5%\"\n        }\n      }, \"Gene name\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Header, {\n        style: {\n          width: \"30%\"\n        }\n      }, \"Comparison\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Header, {\n        style: {\n          width: \"15%\"\n        }\n      }, \"Experimental variables\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Header, {\n        style: {\n          width: \"35%\"\n        }\n      }, \"Experiment name\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tbody\", null, this.props.results.map(function (diffResult) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DifferentialResultsRow, _extends({\n          key: diffResult.id,\n          displayLevels: _this2.state.displayLevels,\n          atlasUrl: _this2.props.atlasUrl\n        }, diffResult));\n      })))));\n    }\n  }]);\n\n  return DifferentialResults;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nDifferentialResults.propTypes = {\n  results: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape(differentialResultRowDataPropTypes)).isRequired,\n  maxDownLevel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  minDownLevel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  minUpLevel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  maxUpLevel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  atlasUrl: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired\n};\nDifferentialResults.defaultProps = {\n  maxDownLevel: Number.NEGATIVE_INFINITY,\n  minDownLevel: 0,\n  minUpLevel: 0,\n  maxUpLevel: Number.POSITIVE_INFINITY\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DifferentialResults);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy9EaWZmZXJlbnRpYWxSZXN1bHRzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlyZWZveC8uL2J1bmRsZXMvZGlmZmVyZW50aWFsLWV4cHJlc3Npb24vc3JjL0RpZmZlcmVudGlhbFJlc3VsdHMuanM/ZjU0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJ1xuXG5pbXBvcnQgVVJJIGZyb20gJ3VyaWpzJ1xuXG5pbXBvcnQgRWJpU3BlY2llc0ljb24gIGZyb20gJ0BlYmktZ2VuZS1leHByZXNzaW9uLWdyb3VwL3JlYWN0LWViaS1zcGVjaWVzJ1xuaW1wb3J0IERpc3BsYXlMZXZlbHNCdXR0b24gZnJvbSAnLi9EaXNwbGF5TGV2ZWxzQnV0dG9uJ1xuaW1wb3J0IERpZmZlcmVudGlhbERvd25sb2FkQnV0dG9uIGZyb20gJy4vRGlmZmVyZW50aWFsRG93bmxvYWRCdXR0b24nXG5pbXBvcnQgRGlmZmVyZW50aWFsRm9sZENoYW5nZUNlbGwgZnJvbSAnLi9EaWZmZXJlbnRpYWxGb2xkQ2hhbmdlQ2VsbCdcbmltcG9ydCBMZWdlbmQgZnJvbSAnLi9sZWdlbmQvTGVnZW5kRGlmZmVyZW50aWFsJ1xuXG5pbXBvcnQgQ29udHJhc3RUb29sdGlwTG9hZGVyIGZyb20gJy4vdG9vbHRpcC9Db250cmFzdFRvb2x0aXBMb2FkZXInXG5cbmNvbnN0IEhlYWRlciA9IHN0eWxlZC50aGBcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuYFxuXG5jb25zdCBEYXRhID0gc3R5bGVkLnRkYFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG5gXG5cbmNvbnN0IGRpZmZlcmVudGlhbFJlc3VsdFJvd0RhdGFQcm9wVHlwZXMgPSB7XG4gIHNwZWNpZXM6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAga2luZ2RvbTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBleHBlcmltZW50VHlwZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBudW1SZXBsaWNhdGVzOiBQcm9wVHlwZXMubnVtYmVyLFxuICByZWd1bGF0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGZhY3RvcnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLmlzUmVxdWlyZWQsXG4gIGJpb2VudGl0eUlkZW50aWZpZXI6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgYmlvZW50aXR5TmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBleHBlcmltZW50QWNjZXNzaW9uOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGV4cGVyaW1lbnROYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNvbnRyYXN0SWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgY29tcGFyaXNvbjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBmb2xkQ2hhbmdlOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIGNvbG91cjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBpZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICB1cmk6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZFxufVxuXG5jb25zdCBEaWZmZXJlbnRpYWxSZXN1bHRzUm93ID0gKHByb3BzKSA9PlxuICA8dHI+XG4gICAgPERpZmZlcmVudGlhbEZvbGRDaGFuZ2VDZWxsXG4gICAgICBmb2xkQ2hhbmdlPXtwcm9wcy5mb2xkQ2hhbmdlfVxuICAgICAgcFZhbHVlPXtwcm9wcy5wVmFsdWV9XG4gICAgICB0U3RhdD17cHJvcHMudFN0YXRpc3RpY3N9XG4gICAgICBkaXNwbGF5TGV2ZWxzPXtwcm9wcy5kaXNwbGF5TGV2ZWxzfVxuICAgICAgY29sb3VyPXtwcm9wcy5jb2xvdXJ9XG4gICAgICBpZD17cHJvcHMuaWR9Lz5cbiAgICA8RGF0YSBzdHlsZT17e2ZvbnRTaXplOiBgM3JlbWB9fT5cbiAgICAgIDxFYmlTcGVjaWVzSWNvbiBzcGVjaWVzPXtwcm9wcy5zcGVjaWVzfS8+XG4gICAgPC9EYXRhPlxuICAgIDxEYXRhPlxuICAgICAgPGEgaHJlZj17VVJJKGBnZW5lcy8ke3Byb3BzLmJpb2VudGl0eUlkZW50aWZpZXJ9YCwgcHJvcHMuYXRsYXNVcmwpLnRvU3RyaW5nKCl9PlxuICAgICAgICB7cHJvcHMuYmlvZW50aXR5TmFtZSB8fCBwcm9wcy5iaW9lbnRpdHlJZGVudGlmaWVyfVxuICAgICAgPC9hPlxuICAgIDwvRGF0YT5cbiAgICA8RGF0YSBkYXRhLXRpcFxuICAgICAgICBkYXRhLWZvcj17YCR7cHJvcHMuaWR9X2NvbnRyYXN0YH0+XG4gICAgICA8YSBocmVmPXtVUkkocHJvcHMudXJpLCBwcm9wcy5hdGxhc1VybCl9PlxuICAgICAgICB7cHJvcHMuY29tcGFyaXNvbn1cbiAgICAgIDwvYT5cbiAgICAgIDxDb250cmFzdFRvb2x0aXBMb2FkZXJcbiAgICAgICAgaWQ9e2Ake3Byb3BzLmlkfV9jb250cmFzdGB9XG4gICAgICAgIGF0bGFzVXJsPXtwcm9wcy5hdGxhc1VybH1cbiAgICAgICAgdG9vbHRpcFVybD17YHJlc3QvY29udHJhc3Qtc3VtbWFyeWB9XG4gICAgICAgIHRvb2x0aXBVcmxQYXJhbXM9e3tcbiAgICAgICAgICBleHBlcmltZW50QWNjZXNzaW9uOiBwcm9wcy5leHBlcmltZW50QWNjZXNzaW9uLFxuICAgICAgICAgIGNvbnRyYXN0SWQ6IHByb3BzLmNvbnRyYXN0SWQsXG4gICAgICAgICAgYWNjZXNzS2V5OiBwcm9wcy5hY2Nlc3NLZXlcbiAgICAgICAgfX0gLz5cbiAgICA8L0RhdGE+XG4gICAgPERhdGE+XG4gICAgICB7cHJvcHMuZmFjdG9ycyA/IHByb3BzLmZhY3RvcnMudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csIGAsIGApIDogYGB9XG4gICAgPC9EYXRhPlxuICAgIDxEYXRhPlxuICAgICAgPGEgaHJlZj17VVJJKGBleHBlcmltZW50cy8ke3Byb3BzLmV4cGVyaW1lbnRBY2Nlc3Npb259YCwgcHJvcHMuYXRsYXNVcmwpLnRvU3RyaW5nKCl9PlxuICAgICAgICB7cHJvcHMuZXhwZXJpbWVudE5hbWV9XG4gICAgICA8L2E+XG4gICAgPC9EYXRhPlxuICA8L3RyPlxuXG5EaWZmZXJlbnRpYWxSZXN1bHRzUm93LnByb3BUeXBlcyA9IHtcbiAgLi4uZGlmZmVyZW50aWFsUmVzdWx0Um93RGF0YVByb3BUeXBlcyxcbiAgYXRsYXNVcmw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZFxufVxuXG5cbmNsYXNzIERpZmZlcmVudGlhbFJlc3VsdHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRpc3BsYXlMZXZlbHM6IGZhbHNlLFxuICAgIH1cblxuICAgIHRoaXMuX3RvZ2dsZURpc3BsYXlMZXZlbHMgPSB0aGlzLl90b2dnbGVEaXNwbGF5TGV2ZWxzLmJpbmQodGhpcylcbiAgfVxuXG4gIF90b2dnbGVEaXNwbGF5TGV2ZWxzKCkge1xuICAgIGNvbnN0IG5ld0Rpc3BsYXlMZXZlbHMgPSAhdGhpcy5zdGF0ZS5kaXNwbGF5TGV2ZWxzXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkaXNwbGF5TGV2ZWxzOiBuZXdEaXNwbGF5TGV2ZWxzXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Byb3cgY29sdW1uIGV4cGFuZGVkYH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcm93IGNvbHVtbiBleHBhbmRlZGB9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgc21hbGwtMiBjb2x1bW5zIHBhZGRpbmctbGVmdC1ub25lIHBhZGRpbmctcmlnaHQtbm9uZSBjZW50ZXJgfT5cbiAgICAgICAgICAgIDxMZWdlbmQgbWluRG93bkxldmVsPXt0aGlzLnByb3BzLm1pbkRvd25MZXZlbH1cbiAgICAgICAgICAgICAgICAgICAgbWF4RG93bkxldmVsPXt0aGlzLnByb3BzLm1heERvd25MZXZlbH1cbiAgICAgICAgICAgICAgICAgICAgbWluVXBMZXZlbD17dGhpcy5wcm9wcy5taW5VcExldmVsfVxuICAgICAgICAgICAgICAgICAgICBtYXhVcExldmVsPXt0aGlzLnByb3BzLm1heFVwTGV2ZWx9IC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHNtYWxsLTIgY29sdW1ucyBwYWRkaW5nLWxlZnQtbm9uZSBwYWRkaW5nLXJpZ2h0LW5vbmUgbWFyZ2luLWxlZnQtbGFyZ2UgdGV4dC1jZW50ZXJgfT5cbiAgICAgICAgICAgIDxEaXNwbGF5TGV2ZWxzQnV0dG9uIG9uQ2xpY2s9e3RoaXMuX3RvZ2dsZURpc3BsYXlMZXZlbHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGV2ZWxzPXt0aGlzLnN0YXRlLmRpc3BsYXlMZXZlbHN9IC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHNtYWxsLTIgY29sdW1ucyBwYWRkaW5nLWxlZnQtbm9uZSBwYWRkaW5nLXJpZ2h0LW5vbmUgbWFyZ2luLWxlZnQtbGFyZ2UgdGV4dC1yaWdodGB9PlxuICAgICAgICAgICAgPERpZmZlcmVudGlhbERvd25sb2FkQnV0dG9uIHJlc3VsdHM9e3RoaXMucHJvcHMucmVzdWx0c31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcm93IGNvbHVtbiBleHBhbmRlZGB9PlxuICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9e2BneGFEaWZmZXJlbnRpYWxSZXN1bHRzVGFibGVgfT5cbiAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgPEhlYWRlciBzdHlsZT17e3dpZHRoOiBgMTAlYH19PkxvZzxzdWI+Mjwvc3ViPi1mb2xkIGNoYW5nZTwvSGVhZGVyPlxuICAgICAgICAgICAgICA8SGVhZGVyIHN0eWxlPXt7d2lkdGg6IGA1JWB9fT5TcGVjaWVzPC9IZWFkZXI+XG4gICAgICAgICAgICAgIDxIZWFkZXIgc3R5bGU9e3t3aWR0aDogYDUlYH19PkdlbmUgbmFtZTwvSGVhZGVyPlxuICAgICAgICAgICAgICA8SGVhZGVyIHN0eWxlPXt7d2lkdGg6IGAzMCVgfX0+Q29tcGFyaXNvbjwvSGVhZGVyPlxuICAgICAgICAgICAgICA8SGVhZGVyIHN0eWxlPXt7d2lkdGg6IGAxNSVgfX0+RXhwZXJpbWVudGFsIHZhcmlhYmxlczwvSGVhZGVyPlxuICAgICAgICAgICAgICA8SGVhZGVyIHN0eWxlPXt7d2lkdGg6IGAzNSVgfX0+RXhwZXJpbWVudCBuYW1lPC9IZWFkZXI+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5yZXN1bHRzLm1hcChkaWZmUmVzdWx0ID0+XG4gICAgICAgICAgICAgIDxEaWZmZXJlbnRpYWxSZXN1bHRzUm93IGtleSA9IHtkaWZmUmVzdWx0LmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGV2ZWxzID0ge3RoaXMuc3RhdGUuZGlzcGxheUxldmVsc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRsYXNVcmwgPSB7dGhpcy5wcm9wcy5hdGxhc1VybH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey4uLmRpZmZSZXN1bHR9IC8+KSB9XG4gICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbkRpZmZlcmVudGlhbFJlc3VsdHMucHJvcFR5cGVzID0ge1xuICByZXN1bHRzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc2hhcGUoXG4gICAgZGlmZmVyZW50aWFsUmVzdWx0Um93RGF0YVByb3BUeXBlc1xuICApKS5pc1JlcXVpcmVkLFxuICBtYXhEb3duTGV2ZWw6IFByb3BUeXBlcy5udW1iZXIsXG4gIG1pbkRvd25MZXZlbDogUHJvcFR5cGVzLm51bWJlcixcbiAgbWluVXBMZXZlbDogUHJvcFR5cGVzLm51bWJlcixcbiAgbWF4VXBMZXZlbDogUHJvcFR5cGVzLm51bWJlcixcbiAgYXRsYXNVcmw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZFxufVxuXG5EaWZmZXJlbnRpYWxSZXN1bHRzLmRlZmF1bHRQcm9wcyA9IHtcbiAgbWF4RG93bkxldmVsOiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gIG1pbkRvd25MZXZlbDogMCxcbiAgbWluVXBMZXZlbDogMCxcbiAgbWF4VXBMZXZlbDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxufVxuXG5leHBvcnQgZGVmYXVsdCBEaWZmZXJlbnRpYWxSZXN1bHRzXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaEJBO0FBQ0E7QUFrQkE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBT0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUlBO0FBQ0E7QUFEQTtBQUVBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBSkE7QUFjQTtBQUFBO0FBcENBO0FBQ0E7QUF5Q0E7QUFFQTtBQUZBO0FBQ0E7QUFLQTs7Ozs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBREE7QUFJQTtBQVBBO0FBUUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQVVBOzs7O0FBL0RBO0FBQ0E7QUFpRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/DifferentialResults.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/DifferentialRouter.js":
/*!*******************************************************************!*\
  !*** ./bundles/differential-expression/src/DifferentialRouter.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _tooltip_ReactTooltipStyleClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tooltip/ReactTooltipStyleClass */ \"./bundles/differential-expression/src/tooltip/ReactTooltipStyleClass.js\");\n/* harmony import */ var _DifferentialResults__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DifferentialResults */ \"./bundles/differential-expression/src/DifferentialResults.js\");\n/* harmony import */ var _facets_tree_DifferentialFacetsTree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./facets-tree/DifferentialFacetsTree */ \"./bundles/differential-expression/src/facets-tree/DifferentialFacetsTree.js\");\n/* harmony import */ var _urlManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./urlManager */ \"./bundles/differential-expression/src/urlManager.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\n/*\n TODO if Solr queries get fast enough that we can:\n - split the two requests, so that the facets load first, initial results load second\n - a request to the server is done for every interaction with the facets tree\n - add counts to each facet and disable check boxes if count is 0\n*/\n\nvar equalsToOrIncludes = function equalsToOrIncludes(obj, value) {\n  if (!!obj) {\n    if (obj.constructor === Array) {\n      return obj.includes(value);\n    } else {\n      return obj === value;\n    }\n  } else {\n    return false;\n  }\n};\n\nvar addElementToObjectOfArrays = function addElementToObjectOfArrays(obj, arrayName, element) {\n  if (!obj[arrayName]) {\n    obj[arrayName] = [];\n  }\n\n  obj[arrayName].push(element);\n};\n\nvar removeElementFromObjectOfArrays = function removeElementFromObjectOfArrays(obj, arrayName, element) {\n  delete obj[arrayName].splice(obj[arrayName].indexOf(element), 1);\n\n  if (obj[arrayName].length === 0) {\n    delete obj[arrayName];\n  }\n};\n\nvar resultMatchesQuery = function resultMatchesQuery(result, query) {\n  if (Object.keys(query).length === 0) {\n    return false;\n  } else {\n    return Object.keys(query).every(function (facetName) {\n      return query[facetName].some(function (facetItem) {\n        return equalsToOrIncludes(result[facetName], facetItem);\n      });\n    });\n  }\n};\n\nvar DifferentialRouter = /*#__PURE__*/function (_React$Component) {\n  _inherits(DifferentialRouter, _React$Component);\n\n  var _super = _createSuper(DifferentialRouter);\n\n  function DifferentialRouter(props) {\n    var _this;\n\n    _classCallCheck(this, DifferentialRouter);\n\n    _this = _super.call(this, props);\n    var querySelect = _urlManager__WEBPACK_IMPORTED_MODULE_5__[\"default\"].parseDifferentialUrlParameter();\n\n    if (!querySelect.kingdom) {\n      querySelect.kingdom = props.facetsTreeData.find(function (facet) {\n        return facet.facetName === \"kingdom\";\n      }).facetItems.map(function (facetItem) {\n        return facetItem.name;\n      });\n    }\n\n    _urlManager__WEBPACK_IMPORTED_MODULE_5__[\"default\"].differentialPush(querySelect, true);\n    _this.state = {\n      querySelect: querySelect\n    };\n    _this._setChecked = _this._setChecked.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(DifferentialRouter, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      window.addEventListener('popstate', function () {\n        _this2.setState({\n          querySelect: _urlManager__WEBPACK_IMPORTED_MODULE_5__[\"default\"].parseDifferentialUrlParameter()\n        });\n      }, false);\n    }\n  }, {\n    key: \"_setChecked\",\n    value: function _setChecked(facetName, facetItemName, checked) {\n      // Update URL\n      var newQuerySelect = JSON.parse(JSON.stringify(this.state.querySelect));\n\n      if (checked) {\n        addElementToObjectOfArrays(newQuerySelect, facetName, facetItemName);\n      } else {\n        removeElementFromObjectOfArrays(newQuerySelect, facetName, facetItemName);\n      } // TODO Consider using https://github.com/reactjs/react-router\n\n\n      _urlManager__WEBPACK_IMPORTED_MODULE_5__[\"default\"].differentialPush(newQuerySelect, false);\n      this.setState({\n        querySelect: newQuerySelect\n      });\n    }\n  }, {\n    key: \"_filteredResults\",\n    value: function _filteredResults() {\n      var query = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.querySelect;\n      return this.props.results.filter(function (result) {\n        return resultMatchesQuery(result, query);\n      });\n    } // Syncs tree data with URL (querySelect) and does some other smart things such as check/uncheck or disable facets based on\n    // the user results (e.g. check & disable a facet if its shared by all results as a side effect of other choice)\n\n  }, {\n    key: \"_prepareFacetTreeData\",\n    value: function _prepareFacetTreeData(filteredResults) {\n      var _this3 = this;\n\n      return this.props.facetsTreeData.map(function (facet) {\n        return {\n          facetName: facet.facetName,\n          facetItems: facet.facetItems.map(function (facetItem) {\n            var querySelectAfterSwitchingThisFacetItem = JSON.parse(JSON.stringify(_this3.state.querySelect));\n\n            if (equalsToOrIncludes(querySelectAfterSwitchingThisFacetItem[facet.facetName], facetItem.name)) {\n              removeElementFromObjectOfArrays(querySelectAfterSwitchingThisFacetItem, facet.facetName, facetItem.name);\n            } else {\n              addElementToObjectOfArrays(querySelectAfterSwitchingThisFacetItem, facet.facetName, facetItem.name);\n            }\n\n            var resultIdsAfterSwitchingThisFacetItem = _this3._filteredResults(querySelectAfterSwitchingThisFacetItem).map(function (result) {\n              return result.id;\n            }).sort();\n\n            var currentResultIds = filteredResults.map(function (result) {\n              return result.id;\n            }).sort();\n            var sameResultsAfterSwitchingThisItem = JSON.stringify(resultIdsAfterSwitchingThisFacetItem) === JSON.stringify(currentResultIds);\n            var noResultsAfterSwitchingThisItem = resultIdsAfterSwitchingThisFacetItem.length === 0;\n            return {\n              name: facetItem.name,\n              value: facetItem.value,\n              checked: equalsToOrIncludes(_this3.state.querySelect[facet.facetName], facetItem.name) || sameResultsAfterSwitchingThisItem,\n              disabled: noResultsAfterSwitchingThisItem || sameResultsAfterSwitchingThisItem\n            };\n          })\n        };\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var filteredResults = this._filteredResults();\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"row column expanded\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"show-for-large large-3 columns\"\n      }, Object.keys(this.props.facetsTreeData).length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_facets_tree_DifferentialFacetsTree__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n        facets: this._prepareFacetTreeData(filteredResults),\n        setChecked: this._setChecked\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"small-12 large-9 columns\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_tooltip_ReactTooltipStyleClass__WEBPACK_IMPORTED_MODULE_2__[\"default\"], null), this.props.results && this.props.results.length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DifferentialResults__WEBPACK_IMPORTED_MODULE_3__[\"default\"], _extends({\n        results: filteredResults,\n        atlasUrl: this.props.atlasUrl\n      }, this.props.legend))));\n    }\n  }]);\n\n  return DifferentialRouter;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nDifferentialRouter.propTypes = {\n  facetsTreeData: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array,\n  results: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array,\n  legend: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,\n  atlasUrl: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DifferentialRouter);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy9EaWZmZXJlbnRpYWxSb3V0ZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlZm94Ly4vYnVuZGxlcy9kaWZmZXJlbnRpYWwtZXhwcmVzc2lvbi9zcmMvRGlmZmVyZW50aWFsUm91dGVyLmpzP2Y2NjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xuXG5pbXBvcnQgUmVhY3RUb29sdGlwU3R5bGVDbGFzcyBmcm9tICcuL3Rvb2x0aXAvUmVhY3RUb29sdGlwU3R5bGVDbGFzcydcbmltcG9ydCBSZXN1bHRzIGZyb20gJy4vRGlmZmVyZW50aWFsUmVzdWx0cydcbmltcG9ydCBGYWNldHMgZnJvbSAnLi9mYWNldHMtdHJlZS9EaWZmZXJlbnRpYWxGYWNldHNUcmVlJ1xuaW1wb3J0IFVybE1hbmFnZXIgZnJvbSAnLi91cmxNYW5hZ2VyJ1xuXG4vKlxuIFRPRE8gaWYgU29sciBxdWVyaWVzIGdldCBmYXN0IGVub3VnaCB0aGF0IHdlIGNhbjpcbiAtIHNwbGl0IHRoZSB0d28gcmVxdWVzdHMsIHNvIHRoYXQgdGhlIGZhY2V0cyBsb2FkIGZpcnN0LCBpbml0aWFsIHJlc3VsdHMgbG9hZCBzZWNvbmRcbiAtIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIGlzIGRvbmUgZm9yIGV2ZXJ5IGludGVyYWN0aW9uIHdpdGggdGhlIGZhY2V0cyB0cmVlXG4gLSBhZGQgY291bnRzIHRvIGVhY2ggZmFjZXQgYW5kIGRpc2FibGUgY2hlY2sgYm94ZXMgaWYgY291bnQgaXMgMFxuKi9cblxuY29uc3QgZXF1YWxzVG9PckluY2x1ZGVzID0gKG9iaiwgdmFsdWUpID0+IHtcbiAgaWYgKCEhb2JqKSB7XG4gICAgaWYgKG9iai5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgIHJldHVybiBvYmouaW5jbHVkZXModmFsdWUpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIG9iaiA9PT0gdmFsdWVcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuY29uc3QgYWRkRWxlbWVudFRvT2JqZWN0T2ZBcnJheXMgPSAob2JqLCBhcnJheU5hbWUsIGVsZW1lbnQpID0+IHtcbiAgaWYgKCFvYmpbYXJyYXlOYW1lXSkge1xuICAgIG9ialthcnJheU5hbWVdID0gW11cbiAgfVxuICBvYmpbYXJyYXlOYW1lXS5wdXNoKGVsZW1lbnQpXG59XG5cbmNvbnN0IHJlbW92ZUVsZW1lbnRGcm9tT2JqZWN0T2ZBcnJheXMgPSAob2JqLCBhcnJheU5hbWUsIGVsZW1lbnQpID0+IHtcbiAgZGVsZXRlIG9ialthcnJheU5hbWVdLnNwbGljZShvYmpbYXJyYXlOYW1lXS5pbmRleE9mKGVsZW1lbnQpLCAxKVxuICBpZiAob2JqW2FycmF5TmFtZV0ubGVuZ3RoID09PSAwKSB7XG4gICAgZGVsZXRlIG9ialthcnJheU5hbWVdXG4gIH1cbn1cblxuY29uc3QgcmVzdWx0TWF0Y2hlc1F1ZXJ5ID0gKHJlc3VsdCwgcXVlcnkpID0+IHtcbiAgaWYgKE9iamVjdC5rZXlzKHF1ZXJ5KS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMocXVlcnkpLmV2ZXJ5KGZhY2V0TmFtZSA9PlxuICAgICAgcXVlcnlbZmFjZXROYW1lXS5zb21lKGZhY2V0SXRlbSA9PlxuICAgICAgICBlcXVhbHNUb09ySW5jbHVkZXMocmVzdWx0W2ZhY2V0TmFtZV0sIGZhY2V0SXRlbSlcbiAgICAgIClcbiAgICApXG4gIH1cbn1cblxuY2xhc3MgRGlmZmVyZW50aWFsUm91dGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGNvbnN0IHF1ZXJ5U2VsZWN0ID0gVXJsTWFuYWdlci5wYXJzZURpZmZlcmVudGlhbFVybFBhcmFtZXRlcigpXG4gICAgaWYgKCFxdWVyeVNlbGVjdC5raW5nZG9tKSB7XG4gICAgICBxdWVyeVNlbGVjdC5raW5nZG9tID1cbiAgICAgICAgcHJvcHMuZmFjZXRzVHJlZURhdGFcbiAgICAgICAgICAuZmluZCgoZmFjZXQpID0+IGZhY2V0LmZhY2V0TmFtZSA9PT0gYGtpbmdkb21gKS5mYWNldEl0ZW1zXG4gICAgICAgICAgICAubWFwKChmYWNldEl0ZW0pID0+IGZhY2V0SXRlbS5uYW1lKVxuICAgIH1cbiAgICBVcmxNYW5hZ2VyLmRpZmZlcmVudGlhbFB1c2gocXVlcnlTZWxlY3QsIHRydWUpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgcXVlcnlTZWxlY3Q6IHF1ZXJ5U2VsZWN0XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0Q2hlY2tlZCA9IHRoaXMuX3NldENoZWNrZWQuYmluZCh0aGlzKVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ3BvcHN0YXRlJyxcbiAgICAgICgpID0+IHsgdGhpcy5zZXRTdGF0ZSh7cXVlcnlTZWxlY3Q6IFVybE1hbmFnZXIucGFyc2VEaWZmZXJlbnRpYWxVcmxQYXJhbWV0ZXIoKX0pIH0sXG4gICAgICBmYWxzZSlcbiAgfVxuXG4gIF9zZXRDaGVja2VkIChmYWNldE5hbWUsIGZhY2V0SXRlbU5hbWUsIGNoZWNrZWQpIHtcbiAgICAvLyBVcGRhdGUgVVJMXG4gICAgY29uc3QgbmV3UXVlcnlTZWxlY3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUucXVlcnlTZWxlY3QpKVxuICAgIGlmIChjaGVja2VkKSB7XG4gICAgICBhZGRFbGVtZW50VG9PYmplY3RPZkFycmF5cyhuZXdRdWVyeVNlbGVjdCwgZmFjZXROYW1lLCBmYWNldEl0ZW1OYW1lKVxuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmVFbGVtZW50RnJvbU9iamVjdE9mQXJyYXlzKG5ld1F1ZXJ5U2VsZWN0LCBmYWNldE5hbWUsIGZhY2V0SXRlbU5hbWUpXG4gICAgfVxuXG4gICAgLy8gVE9ETyBDb25zaWRlciB1c2luZyBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yb3V0ZXJcbiAgICBVcmxNYW5hZ2VyLmRpZmZlcmVudGlhbFB1c2gobmV3UXVlcnlTZWxlY3QsIGZhbHNlKVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBxdWVyeVNlbGVjdDogbmV3UXVlcnlTZWxlY3RcbiAgICB9KVxuICB9XG5cbiAgX2ZpbHRlcmVkUmVzdWx0cyAocXVlcnkgPSB0aGlzLnN0YXRlLnF1ZXJ5U2VsZWN0KSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMucmVzdWx0cy5maWx0ZXIocmVzdWx0ID0+XG4gICAgICByZXN1bHRNYXRjaGVzUXVlcnkocmVzdWx0LCBxdWVyeSlcbiAgICApXG4gIH1cblxuICAvLyBTeW5jcyB0cmVlIGRhdGEgd2l0aCBVUkwgKHF1ZXJ5U2VsZWN0KSBhbmQgZG9lcyBzb21lIG90aGVyIHNtYXJ0IHRoaW5ncyBzdWNoIGFzIGNoZWNrL3VuY2hlY2sgb3IgZGlzYWJsZSBmYWNldHMgYmFzZWQgb25cbiAgLy8gdGhlIHVzZXIgcmVzdWx0cyAoZS5nLiBjaGVjayAmIGRpc2FibGUgYSBmYWNldCBpZiBpdOKAmXMgc2hhcmVkIGJ5IGFsbCByZXN1bHRzIGFzIGEgc2lkZSBlZmZlY3Qgb2Ygb3RoZXIgY2hvaWNlKVxuICBfcHJlcGFyZUZhY2V0VHJlZURhdGEoZmlsdGVyZWRSZXN1bHRzKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZmFjZXRzVHJlZURhdGEubWFwKChmYWNldCkgPT4gKHtcbiAgICAgIGZhY2V0TmFtZTogZmFjZXQuZmFjZXROYW1lLFxuICAgICAgZmFjZXRJdGVtczogZmFjZXQuZmFjZXRJdGVtcy5tYXAoKGZhY2V0SXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBxdWVyeVNlbGVjdEFmdGVyU3dpdGNoaW5nVGhpc0ZhY2V0SXRlbSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZS5xdWVyeVNlbGVjdCkpXG5cbiAgICAgICAgaWYgKGVxdWFsc1RvT3JJbmNsdWRlcyhxdWVyeVNlbGVjdEFmdGVyU3dpdGNoaW5nVGhpc0ZhY2V0SXRlbVtmYWNldC5mYWNldE5hbWVdLCBmYWNldEl0ZW0ubmFtZSkpIHtcbiAgICAgICAgICByZW1vdmVFbGVtZW50RnJvbU9iamVjdE9mQXJyYXlzKHF1ZXJ5U2VsZWN0QWZ0ZXJTd2l0Y2hpbmdUaGlzRmFjZXRJdGVtLCBmYWNldC5mYWNldE5hbWUsIGZhY2V0SXRlbS5uYW1lKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZEVsZW1lbnRUb09iamVjdE9mQXJyYXlzKHF1ZXJ5U2VsZWN0QWZ0ZXJTd2l0Y2hpbmdUaGlzRmFjZXRJdGVtLCBmYWNldC5mYWNldE5hbWUsIGZhY2V0SXRlbS5uYW1lKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0SWRzQWZ0ZXJTd2l0Y2hpbmdUaGlzRmFjZXRJdGVtID0gdGhpcy5fZmlsdGVyZWRSZXN1bHRzKHF1ZXJ5U2VsZWN0QWZ0ZXJTd2l0Y2hpbmdUaGlzRmFjZXRJdGVtKS5tYXAoKHJlc3VsdCkgPT4gcmVzdWx0LmlkKS5zb3J0KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSZXN1bHRJZHMgPSBmaWx0ZXJlZFJlc3VsdHMubWFwKChyZXN1bHQpID0+IHJlc3VsdC5pZCkuc29ydCgpXG5cbiAgICAgICAgY29uc3Qgc2FtZVJlc3VsdHNBZnRlclN3aXRjaGluZ1RoaXNJdGVtID0gSlNPTi5zdHJpbmdpZnkocmVzdWx0SWRzQWZ0ZXJTd2l0Y2hpbmdUaGlzRmFjZXRJdGVtKSA9PT0gSlNPTi5zdHJpbmdpZnkoY3VycmVudFJlc3VsdElkcylcbiAgICAgICAgY29uc3Qgbm9SZXN1bHRzQWZ0ZXJTd2l0Y2hpbmdUaGlzSXRlbSA9IHJlc3VsdElkc0FmdGVyU3dpdGNoaW5nVGhpc0ZhY2V0SXRlbS5sZW5ndGggPT09IDBcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IGZhY2V0SXRlbS5uYW1lLFxuICAgICAgICAgIHZhbHVlOiBmYWNldEl0ZW0udmFsdWUsXG4gICAgICAgICAgY2hlY2tlZDogZXF1YWxzVG9PckluY2x1ZGVzKHRoaXMuc3RhdGUucXVlcnlTZWxlY3RbZmFjZXQuZmFjZXROYW1lXSwgZmFjZXRJdGVtLm5hbWUpIHx8IHNhbWVSZXN1bHRzQWZ0ZXJTd2l0Y2hpbmdUaGlzSXRlbSxcbiAgICAgICAgICBkaXNhYmxlZDogbm9SZXN1bHRzQWZ0ZXJTd2l0Y2hpbmdUaGlzSXRlbSB8fCBzYW1lUmVzdWx0c0FmdGVyU3dpdGNoaW5nVGhpc0l0ZW1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KSlcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3QgZmlsdGVyZWRSZXN1bHRzID0gdGhpcy5fZmlsdGVyZWRSZXN1bHRzKClcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YHJvdyBjb2x1bW4gZXhwYW5kZWRgfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BzaG93LWZvci1sYXJnZSBsYXJnZS0zIGNvbHVtbnNgfT5cbiAgICAgICAgICB7IE9iamVjdC5rZXlzKHRoaXMucHJvcHMuZmFjZXRzVHJlZURhdGEpLmxlbmd0aCAmJlxuICAgICAgICAgICAgPEZhY2V0cyBmYWNldHMgPSB7dGhpcy5fcHJlcGFyZUZhY2V0VHJlZURhdGEoZmlsdGVyZWRSZXN1bHRzKX1cbiAgICAgICAgICAgICAgICAgICAgc2V0Q2hlY2tlZCA9IHt0aGlzLl9zZXRDaGVja2VkfSAvPiB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHNtYWxsLTEyIGxhcmdlLTkgY29sdW1uc2B9PlxuICAgICAgICAgIDxSZWFjdFRvb2x0aXBTdHlsZUNsYXNzIC8+XG4gICAgICAgICAgeyB0aGlzLnByb3BzLnJlc3VsdHMgJiYgdGhpcy5wcm9wcy5yZXN1bHRzLmxlbmd0aCAmJlxuICAgICAgICAgICAgPFJlc3VsdHMgcmVzdWx0cyA9IHtmaWx0ZXJlZFJlc3VsdHN9XG4gICAgICAgICAgICAgICAgICAgICBhdGxhc1VybCA9IHt0aGlzLnByb3BzLmF0bGFzVXJsfVxuICAgICAgICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHMubGVnZW5kfSAvPiB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbkRpZmZlcmVudGlhbFJvdXRlci5wcm9wVHlwZXMgPSB7XG4gIGZhY2V0c1RyZWVEYXRhOiBQcm9wVHlwZXMuYXJyYXksXG4gIHJlc3VsdHM6IFByb3BUeXBlcy5hcnJheSxcbiAgbGVnZW5kOiBQcm9wVHlwZXMub2JqZWN0LFxuICBhdGxhc1VybDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxufVxuXG5leHBvcnQgZGVmYXVsdCBEaWZmZXJlbnRpYWxSb3V0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBREE7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQURBO0FBSUE7QUFoQkE7QUFpQkE7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBR0E7QUFDQTs7O0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUF2QkE7QUFBQTtBQXlCQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFEQTtBQUdBO0FBQUE7QUFHQTtBQUNBO0FBREE7QUFNQTs7OztBQWxHQTtBQUNBO0FBb0dBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/DifferentialRouter.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/DifferentialRouterLoader.js":
/*!*************************************************************************!*\
  !*** ./bundles/differential-expression/src/DifferentialRouterLoader.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_refetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-refetch */ \"./node_modules/react-refetch/lib/index.js\");\n/* harmony import */ var react_refetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_refetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var urijs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! urijs */ \"./node_modules/urijs/src/URI.js\");\n/* harmony import */ var urijs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(urijs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _DifferentialRouter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DifferentialRouter */ \"./bundles/differential-expression/src/DifferentialRouter.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\nvar transformFacetsResponseToArray = function transformFacetsResponseToArray(facetsResponse) {\n  return Object.keys(facetsResponse).map(function (facetName) {\n    return {\n      facetName: facetName,\n      facetItems: facetsResponse[facetName].map(function (facetItem) {\n        return {\n          name: facetItem.name,\n          value: facetItem.value,\n          disabled: false,\n          checked: false\n        };\n      })\n    };\n  });\n};\n\nvar pruneFacetsTreeBasedOnResultsThatCameIn = function pruneFacetsTreeBasedOnResultsThatCameIn(facetsTreeData, results) {\n  return facetsTreeData.map(function (facet) {\n    return {\n      facetName: facet.facetName,\n      facetItems: facet.facetItems.filter(function (facetItem) {\n        return results.some(function (result) {\n          if (Array.isArray(result[facet.facetName])) {\n            return result[facet.facetName].includes(facetItem.name);\n          } else {\n            return result[facet.facetName] === facetItem.name;\n          }\n        });\n      })\n    };\n  }).filter(function (facet) {\n    return facet.facetItems.length > 0;\n  });\n};\n\nvar DifferentialRouterLoader = /*#__PURE__*/function (_React$Component) {\n  _inherits(DifferentialRouterLoader, _React$Component);\n\n  var _super = _createSuper(DifferentialRouterLoader);\n\n  function DifferentialRouterLoader(props) {\n    _classCallCheck(this, DifferentialRouterLoader);\n\n    return _super.call(this, props);\n  }\n\n  _createClass(DifferentialRouterLoader, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          facetsFetch = _this$props.facetsFetch,\n          resultsFetch = _this$props.resultsFetch;\n      var allFetches = react_refetch__WEBPACK_IMPORTED_MODULE_2__[\"PromiseState\"].all([facetsFetch, resultsFetch]);\n\n      if (allFetches.pending) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          className: \"row column\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", {\n          src: urijs__WEBPACK_IMPORTED_MODULE_3___default()(\"resources/images/loading.gif\", this.props.atlasUrl).toString()\n        }));\n      } else if (allFetches.fulfilled) {\n        var resultsResponse = resultsFetch.value;\n        var facetsResponse = facetsFetch.value;\n        var facetsTreeData = transformFacetsResponseToArray(facetsResponse);\n        var prunedFacetsTreeData = pruneFacetsTreeBasedOnResultsThatCameIn(facetsTreeData, resultsResponse.results);\n        var results = resultsResponse.results;\n        var legend = {\n          minDownLevel: resultsResponse.minDownLevel,\n          minUpLevel: resultsResponse.minUpLevel,\n          maxDownLevel: resultsResponse.maxDownLevel,\n          maxUpLevel: resultsResponse.maxUpLevel\n        };\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DifferentialRouter__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n          facetsTreeData: prunedFacetsTreeData,\n          results: results,\n          legend: legend,\n          atlasUrl: this.props.atlasUrl\n        });\n      }\n    }\n  }]);\n\n  return DifferentialRouterLoader;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nDifferentialRouterLoader.propTypes = {\n  atlasUrl: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  geneQuery: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  conditionQuery: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  species: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_refetch__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (props) {\n  var requestParams = {\n    geneQuery: props.geneQuery,\n    conditionQuery: props.conditionQuery,\n    species: props.species\n  };\n  return {\n    facetsFetch: urijs__WEBPACK_IMPORTED_MODULE_3___default()(\"json/search/differential_facets\", props.atlasUrl).search(requestParams).toString(),\n    resultsFetch: urijs__WEBPACK_IMPORTED_MODULE_3___default()(\"json/search/differential_results\", props.atlasUrl).search(requestParams).toString()\n  };\n})(DifferentialRouterLoader));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy9EaWZmZXJlbnRpYWxSb3V0ZXJMb2FkZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlZm94Ly4vYnVuZGxlcy9kaWZmZXJlbnRpYWwtZXhwcmVzc2lvbi9zcmMvRGlmZmVyZW50aWFsUm91dGVyTG9hZGVyLmpzPzlmMzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xuaW1wb3J0IHsgY29ubmVjdCwgUHJvbWlzZVN0YXRlIH0gZnJvbSAncmVhY3QtcmVmZXRjaCdcblxuaW1wb3J0IFVSSSBmcm9tICd1cmlqcydcblxuaW1wb3J0IERpZmZlcmVudGlhbFJvdXRlciBmcm9tICcuL0RpZmZlcmVudGlhbFJvdXRlcidcblxuY29uc3QgdHJhbnNmb3JtRmFjZXRzUmVzcG9uc2VUb0FycmF5ID0gKGZhY2V0c1Jlc3BvbnNlKSA9PiB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhmYWNldHNSZXNwb25zZSkubWFwKGZhY2V0TmFtZSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZhY2V0TmFtZTogZmFjZXROYW1lLFxuICAgICAgZmFjZXRJdGVtczogZmFjZXRzUmVzcG9uc2VbZmFjZXROYW1lXS5tYXAoZmFjZXRJdGVtID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiBmYWNldEl0ZW0ubmFtZSxcbiAgICAgICAgICB2YWx1ZTogZmFjZXRJdGVtLnZhbHVlLFxuICAgICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgICBjaGVja2VkOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSlcbn1cblxuY29uc3QgcHJ1bmVGYWNldHNUcmVlQmFzZWRPblJlc3VsdHNUaGF0Q2FtZUluID0gKGZhY2V0c1RyZWVEYXRhLCByZXN1bHRzKSA9PiB7XG4gIHJldHVybiBmYWNldHNUcmVlRGF0YS5tYXAoZmFjZXQgPT4gKFxuICAgIHtcbiAgICAgIGZhY2V0TmFtZTogZmFjZXQuZmFjZXROYW1lLFxuICAgICAgZmFjZXRJdGVtczpcbiAgICAgICAgZmFjZXQuZmFjZXRJdGVtcy5maWx0ZXIoZmFjZXRJdGVtID0+XG4gICAgICAgICAgcmVzdWx0cy5zb21lKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHRbZmFjZXQuZmFjZXROYW1lXSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFtmYWNldC5mYWNldE5hbWVdLmluY2x1ZGVzKGZhY2V0SXRlbS5uYW1lKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFtmYWNldC5mYWNldE5hbWVdID09PSBmYWNldEl0ZW0ubmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICB9XG4gICkpLmZpbHRlcihmYWNldCA9PiBmYWNldC5mYWNldEl0ZW1zLmxlbmd0aCA+IDApXG59XG5cbmNsYXNzIERpZmZlcmVudGlhbFJvdXRlckxvYWRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHsgZmFjZXRzRmV0Y2gsIHJlc3VsdHNGZXRjaCB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGFsbEZldGNoZXMgPSBQcm9taXNlU3RhdGUuYWxsKFtmYWNldHNGZXRjaCwgcmVzdWx0c0ZldGNoXSlcblxuICAgIGlmIChhbGxGZXRjaGVzLnBlbmRpbmcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcm93IGNvbHVtbmB9PlxuICAgICAgICAgIDxpbWcgc3JjPXtVUkkoYHJlc291cmNlcy9pbWFnZXMvbG9hZGluZy5naWZgLCB0aGlzLnByb3BzLmF0bGFzVXJsKS50b1N0cmluZygpfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9XG4gICAgZWxzZSBpZiAoYWxsRmV0Y2hlcy5mdWxmaWxsZWQpIHtcbiAgICAgIGNvbnN0IHJlc3VsdHNSZXNwb25zZSA9IHJlc3VsdHNGZXRjaC52YWx1ZVxuICAgICAgY29uc3QgZmFjZXRzUmVzcG9uc2UgPSBmYWNldHNGZXRjaC52YWx1ZVxuXG4gICAgICBjb25zdCBmYWNldHNUcmVlRGF0YSA9IHRyYW5zZm9ybUZhY2V0c1Jlc3BvbnNlVG9BcnJheShmYWNldHNSZXNwb25zZSlcbiAgICAgIGNvbnN0IHBydW5lZEZhY2V0c1RyZWVEYXRhID0gcHJ1bmVGYWNldHNUcmVlQmFzZWRPblJlc3VsdHNUaGF0Q2FtZUluKGZhY2V0c1RyZWVEYXRhLCByZXN1bHRzUmVzcG9uc2UucmVzdWx0cylcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSByZXN1bHRzUmVzcG9uc2UucmVzdWx0c1xuICAgICAgY29uc3QgbGVnZW5kID0ge1xuICAgICAgICBtaW5Eb3duTGV2ZWw6IHJlc3VsdHNSZXNwb25zZS5taW5Eb3duTGV2ZWwsXG4gICAgICAgIG1pblVwTGV2ZWw6IHJlc3VsdHNSZXNwb25zZS5taW5VcExldmVsLFxuICAgICAgICBtYXhEb3duTGV2ZWw6cmVzdWx0c1Jlc3BvbnNlLm1heERvd25MZXZlbCxcbiAgICAgICAgbWF4VXBMZXZlbDogcmVzdWx0c1Jlc3BvbnNlLm1heFVwTGV2ZWxcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPERpZmZlcmVudGlhbFJvdXRlciBmYWNldHNUcmVlRGF0YT17cHJ1bmVkRmFjZXRzVHJlZURhdGF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cz17cmVzdWx0c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWdlbmQ9e2xlZ2VuZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdGxhc1VybD17dGhpcy5wcm9wcy5hdGxhc1VybH0gLz5cbiAgICAgIClcbiAgICB9XG4gIH1cbn1cblxuRGlmZmVyZW50aWFsUm91dGVyTG9hZGVyLnByb3BUeXBlcyA9IHtcbiAgYXRsYXNVcmw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgZ2VuZVF1ZXJ5OiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNvbmRpdGlvblF1ZXJ5IDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBzcGVjaWVzOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdCgocHJvcHMpID0+IHtcbiAgY29uc3QgcmVxdWVzdFBhcmFtcyA9IHtnZW5lUXVlcnk6IHByb3BzLmdlbmVRdWVyeSwgY29uZGl0aW9uUXVlcnk6IHByb3BzLmNvbmRpdGlvblF1ZXJ5LCBzcGVjaWVzOiBwcm9wcy5zcGVjaWVzfVxuICByZXR1cm4ge1xuICAgIGZhY2V0c0ZldGNoOiBVUkkoYGpzb24vc2VhcmNoL2RpZmZlcmVudGlhbF9mYWNldHNgLCBwcm9wcy5hdGxhc1VybCkuc2VhcmNoKHJlcXVlc3RQYXJhbXMpLnRvU3RyaW5nKCksXG4gICAgcmVzdWx0c0ZldGNoOiBVUkkoYGpzb24vc2VhcmNoL2RpZmZlcmVudGlhbF9yZXN1bHRzYCwgcHJvcHMuYXRsYXNVcmwpLnNlYXJjaChyZXF1ZXN0UGFyYW1zKS50b1N0cmluZygpXG4gIH1cbn0pKERpZmZlcmVudGlhbFJvdXRlckxvYWRlcilcblxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQVRBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFIQTtBQURBO0FBY0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUVBO0FBQ0E7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7Ozs7QUFyQ0E7QUFDQTtBQXVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/DifferentialRouterLoader.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/DisplayLevelsButton.js":
/*!********************************************************************!*\
  !*** ./bundles/differential-expression/src/DisplayLevelsButton.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar DisplayLevelsButton = function DisplayLevelsButton(_ref) {\n  var displayLevels = _ref.displayLevels,\n      onClick = _ref.onClick;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n    className: \"button\",\n    onClick: onClick\n  }, displayLevels ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"Hide log\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"sub\", null, \"2\"), \"-fold change\") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"Display log\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"sub\", null, \"2\"), \"-fold change\"));\n};\n\nDisplayLevelsButton.propTypes = {\n  displayLevels: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,\n  onClick: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DisplayLevelsButton);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy9EaXNwbGF5TGV2ZWxzQnV0dG9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlyZWZveC8uL2J1bmRsZXMvZGlmZmVyZW50aWFsLWV4cHJlc3Npb24vc3JjL0Rpc3BsYXlMZXZlbHNCdXR0b24uanM/YmFkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5cbmNvbnN0IERpc3BsYXlMZXZlbHNCdXR0b24gPSAoe2Rpc3BsYXlMZXZlbHMsIG9uQ2xpY2t9KSA9PlxuICA8YSBjbGFzc05hbWU9e2BidXR0b25gfSBvbkNsaWNrPXtvbkNsaWNrfT5cbiAgICB7ZGlzcGxheUxldmVscyA/IDxzcGFuPkhpZGUgbG9nPHN1Yj4yPC9zdWI+LWZvbGQgY2hhbmdlPC9zcGFuPiA6IDxzcGFuPkRpc3BsYXkgbG9nPHN1Yj4yPC9zdWI+LWZvbGQgY2hhbmdlPC9zcGFuPn1cbiAgPC9hPlxuXG5EaXNwbGF5TGV2ZWxzQnV0dG9uLnByb3BUeXBlcyA9IHtcbiAgZGlzcGxheUxldmVsczogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgb25DbGljazogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxufVxuXG5leHBvcnQgZGVmYXVsdCBEaXNwbGF5TGV2ZWxzQnV0dG9uIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFEQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFLQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/DisplayLevelsButton.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/facets-tree/DifferentialFacetsTree.js":
/*!***********************************************************************************!*\
  !*** ./bundles/differential-expression/src/facets-tree/DifferentialFacetsTree.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _propTypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./propTypes */ \"./bundles/differential-expression/src/facets-tree/propTypes.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar DifferentialFacetsTree = function DifferentialFacetsTree(_ref) {\n  var facets = _ref.facets,\n      setChecked = _ref.setChecked;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"column row\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", null, \"Filter your results\"), facets.map(function (facet) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Facet, {\n      key: facet.facetName,\n      facetName: facet.facetName,\n      facetItems: facet.facetItems,\n      setChecked: setChecked\n    });\n  }));\n};\n\nDifferentialFacetsTree.propTypes = {\n  facets: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape(_propTypes__WEBPACK_IMPORTED_MODULE_2__[\"facetDataPropTypes\"])).isRequired,\n  setChecked: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired\n};\nvar prettyFacetNames = {\n  kingdom: \"Kingdom\",\n  species: \"Species\",\n  experimentType: \"Experiment type\",\n  factors: \"Experimental variables\",\n  numReplicates: \"Number of replicates\",\n  regulation: \"Regulation\"\n};\n\nvar Facet = function Facet(_ref2) {\n  var facetName = _ref2.facetName,\n      facetItems = _ref2.facetItems,\n      _setChecked = _ref2.setChecked;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"column row margin-top-large\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h5\", null, prettyFacetNames[facetName] || facetName), facetItems.map(function (facetItem) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FacetItem, {\n      key: facetItem.name,\n      name: facetItem.name,\n      value: facetItem.value,\n      checked: facetItem.checked,\n      disabled: facetItem.disabled,\n      setChecked: function setChecked(facetItemName, checked) {\n        _setChecked(facetName, facetItemName, checked);\n      }\n    });\n  }));\n};\n\nFacet.propTypes = _objectSpread(_objectSpread({}, _propTypes__WEBPACK_IMPORTED_MODULE_2__[\"facetDataPropTypes\"]), {}, {\n  setChecked: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired\n});\n\nvar FacetItem = function FacetItem(_ref3) {\n  var name = _ref3.name,\n      value = _ref3.value,\n      checked = _ref3.checked,\n      disabled = _ref3.disabled,\n      setChecked = _ref3.setChecked;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"column row\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: checked,\n    onChange: function onChange() {\n      setChecked(name, !checked);\n    },\n    disabled: disabled\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n    style: {\n      display: \"inline\"\n    }\n  }, value));\n};\n\nFacetItem.propTypes = _objectSpread(_objectSpread({}, _propTypes__WEBPACK_IMPORTED_MODULE_2__[\"facetItemDataPropTypes\"]), {}, {\n  setChecked: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (DifferentialFacetsTree);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy9mYWNldHMtdHJlZS9EaWZmZXJlbnRpYWxGYWNldHNUcmVlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlyZWZveC8uL2J1bmRsZXMvZGlmZmVyZW50aWFsLWV4cHJlc3Npb24vc3JjL2ZhY2V0cy10cmVlL0RpZmZlcmVudGlhbEZhY2V0c1RyZWUuanM/YjcwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5cbmltcG9ydCB7ZmFjZXREYXRhUHJvcFR5cGVzLCBmYWNldEl0ZW1EYXRhUHJvcFR5cGVzfSBmcm9tICcuL3Byb3BUeXBlcydcblxuY29uc3QgRGlmZmVyZW50aWFsRmFjZXRzVHJlZSA9ICh7ZmFjZXRzLCBzZXRDaGVja2VkfSkgPT5cbiAgPGRpdiBjbGFzc05hbWU9e2Bjb2x1bW4gcm93YH0+XG4gICAgPGg0PkZpbHRlciB5b3VyIHJlc3VsdHM8L2g0PlxuICAgIHsgZmFjZXRzLm1hcCgoZmFjZXQpID0+IDxGYWNldCBrZXk9e2ZhY2V0LmZhY2V0TmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFjZXROYW1lPXtmYWNldC5mYWNldE5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhY2V0SXRlbXM9e2ZhY2V0LmZhY2V0SXRlbXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENoZWNrZWQ9e3NldENoZWNrZWR9IC8+KSB9XG4gIDwvZGl2PlxuXG5EaWZmZXJlbnRpYWxGYWNldHNUcmVlLnByb3BUeXBlcyA9IHtcbiAgZmFjZXRzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc2hhcGUoXG4gICAgZmFjZXREYXRhUHJvcFR5cGVzXG4gICkpLmlzUmVxdWlyZWQsXG4gIHNldENoZWNrZWQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn1cblxuXG5jb25zdCBwcmV0dHlGYWNldE5hbWVzID0ge1xuICBraW5nZG9tOiBgS2luZ2RvbWAsXG4gIHNwZWNpZXM6IGBTcGVjaWVzYCxcbiAgZXhwZXJpbWVudFR5cGU6IGBFeHBlcmltZW50IHR5cGVgLFxuICBmYWN0b3JzOiBgRXhwZXJpbWVudGFsIHZhcmlhYmxlc2AsXG4gIG51bVJlcGxpY2F0ZXM6IGBOdW1iZXIgb2YgcmVwbGljYXRlc2AsXG4gIHJlZ3VsYXRpb246IGBSZWd1bGF0aW9uYFxufVxuY29uc3QgRmFjZXQgPSAoe2ZhY2V0TmFtZSwgZmFjZXRJdGVtcywgc2V0Q2hlY2tlZH0pID0+XG4gIDxkaXYgY2xhc3NOYW1lPXtgY29sdW1uIHJvdyBtYXJnaW4tdG9wLWxhcmdlYH0+XG4gICAgPGg1PntwcmV0dHlGYWNldE5hbWVzW2ZhY2V0TmFtZV0gfHwgZmFjZXROYW1lfTwvaDU+XG4gICAgICB7IGZhY2V0SXRlbXMubWFwKChmYWNldEl0ZW0pID0+XG4gICAgICAgICAgPEZhY2V0SXRlbSBrZXkgPSB7ZmFjZXRJdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICBuYW1lID0ge2ZhY2V0SXRlbS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB7ZmFjZXRJdGVtLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9IHtmYWNldEl0ZW0uY2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkID0ge2ZhY2V0SXRlbS5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgIHNldENoZWNrZWQgPSB7KGZhY2V0SXRlbU5hbWUsIGNoZWNrZWQpID0+IHtzZXRDaGVja2VkKGZhY2V0TmFtZSwgZmFjZXRJdGVtTmFtZSwgY2hlY2tlZCl9fSAvPil9XG4gIDwvZGl2PlxuXG5GYWNldC5wcm9wVHlwZXMgPSB7XG4gIC4uLmZhY2V0RGF0YVByb3BUeXBlcyxcbiAgc2V0Q2hlY2tlZDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxufVxuXG5cbmNvbnN0IEZhY2V0SXRlbSA9ICh7bmFtZSwgdmFsdWUsIGNoZWNrZWQsIGRpc2FibGVkLCBzZXRDaGVja2VkfSkgPT5cbiAgPGRpdiBjbGFzc05hbWU9e2Bjb2x1bW4gcm93YH0+XG4gICAgPGlucHV0IHR5cGU9e2BjaGVja2JveGB9IGNoZWNrZWQ9e2NoZWNrZWR9IG9uQ2hhbmdlPXsoKSA9PiB7c2V0Q2hlY2tlZChuYW1lLCAhY2hlY2tlZCl9fSBkaXNhYmxlZD17ZGlzYWJsZWR9Lz5cbiAgICA8bGFiZWwgc3R5bGU9e3tkaXNwbGF5OiBgaW5saW5lYH19Pnt2YWx1ZX08L2xhYmVsPlxuICA8L2Rpdj5cblxuRmFjZXRJdGVtLnByb3BUeXBlcyA9IHtcbiAgLi4uZmFjZXRJdGVtRGF0YVByb3BUeXBlcyxcbiAgc2V0Q2hlY2tlZDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBEaWZmZXJlbnRpYWxGYWNldHNUcmVlXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFIQTtBQUNBO0FBUUE7QUFDQTtBQUdBO0FBSkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQ0E7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUxBO0FBREE7QUFIQTtBQUNBO0FBV0E7QUFFQTtBQUZBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSEE7QUFDQTtBQUtBO0FBRUE7QUFGQTtBQU1BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/facets-tree/DifferentialFacetsTree.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/facets-tree/propTypes.js":
/*!**********************************************************************!*\
  !*** ./bundles/differential-expression/src/facets-tree/propTypes.js ***!
  \**********************************************************************/
/*! exports provided: facetDataPropTypes, facetItemDataPropTypes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"facetDataPropTypes\", function() { return facetDataPropTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"facetItemDataPropTypes\", function() { return facetItemDataPropTypes; });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n\nvar facetItemDataPropTypes = {\n  name: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  value: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  checked: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool.isRequired,\n  disabled: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool.isRequired\n};\nvar facetDataPropTypes = {\n  facetName: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  facetItems: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.shape(facetItemDataPropTypes)).isRequired\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy9mYWNldHMtdHJlZS9wcm9wVHlwZXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlZm94Ly4vYnVuZGxlcy9kaWZmZXJlbnRpYWwtZXhwcmVzc2lvbi9zcmMvZmFjZXRzLXRyZWUvcHJvcFR5cGVzLmpzPzI5ODIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xuXG5jb25zdCBmYWNldEl0ZW1EYXRhUHJvcFR5cGVzID0ge1xuICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNoZWNrZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxufVxuXG5jb25zdCBmYWNldERhdGFQcm9wVHlwZXMgPSB7XG4gIGZhY2V0TmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBmYWNldEl0ZW1zOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc2hhcGUoXG4gICAgZmFjZXRJdGVtRGF0YVByb3BUeXBlc1xuICApKS5pc1JlcXVpcmVkXG59XG5cbmV4cG9ydCB7ZmFjZXREYXRhUHJvcFR5cGVzLCBmYWNldEl0ZW1EYXRhUHJvcFR5cGVzfSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBRkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/facets-tree/propTypes.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/legend/LegendDifferential.js":
/*!**************************************************************************!*\
  !*** ./bundles/differential-expression/src/legend/LegendDifferential.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _LegendRow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LegendRow */ \"./bundles/differential-expression/src/legend/LegendRow.js\");\n\n\n\n\nvar LegendDifferential = function LegendDifferential(_ref) {\n  var minDownLevel = _ref.minDownLevel,\n      maxDownLevel = _ref.maxDownLevel,\n      minUpLevel = _ref.minUpLevel,\n      maxUpLevel = _ref.maxUpLevel;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"row column expanded\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    style: {\n      display: \"table\",\n      width: \"100%\",\n      borderSpacing: \"4px\"\n    }\n  }, isNaN(minDownLevel) && isNaN(maxDownLevel) ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LegendRow__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    lowExpressionLevel: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, minDownLevel),\n    highExpressionLevel: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, maxDownLevel),\n    lowValueColour: \"#C0C0C0\",\n    highValueColour: \"#0000FF\"\n  }), isNaN(minUpLevel) && isNaN(maxUpLevel) ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LegendRow__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    lowExpressionLevel: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, minUpLevel),\n    highExpressionLevel: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, maxUpLevel),\n    lowValueColour: \"#FFAFAF\",\n    highValueColour: \"#FF0000\"\n  })));\n};\n\nLegendDifferential.propTypes = {\n  minDownLevel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n  maxDownLevel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n  minUpLevel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n  maxUpLevel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (LegendDifferential);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy9sZWdlbmQvTGVnZW5kRGlmZmVyZW50aWFsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlyZWZveC8uL2J1bmRsZXMvZGlmZmVyZW50aWFsLWV4cHJlc3Npb24vc3JjL2xlZ2VuZC9MZWdlbmREaWZmZXJlbnRpYWwuanM/YTc0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5cbmltcG9ydCBMZWdlbmRSb3cgZnJvbSAnLi9MZWdlbmRSb3cnXG5cbmNvbnN0IExlZ2VuZERpZmZlcmVudGlhbCA9ICh7bWluRG93bkxldmVsLCBtYXhEb3duTGV2ZWwsIG1pblVwTGV2ZWwsIG1heFVwTGV2ZWx9KSA9PlxuICA8ZGl2IGNsYXNzTmFtZT17YHJvdyBjb2x1bW4gZXhwYW5kZWRgfT5cbiAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheTogYHRhYmxlYCwgd2lkdGg6IGAxMDAlYCwgYm9yZGVyU3BhY2luZzogYDRweGAgIH19PlxuICAgICAge2lzTmFOKG1pbkRvd25MZXZlbCkgJiYgaXNOYU4obWF4RG93bkxldmVsKSA/XG4gICAgICAgIG51bGwgOlxuICAgICAgICA8TGVnZW5kUm93IGxvd0V4cHJlc3Npb25MZXZlbD17PHNwYW4+e21pbkRvd25MZXZlbH08L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgIGhpZ2hFeHByZXNzaW9uTGV2ZWw9ezxzcGFuPnttYXhEb3duTGV2ZWx9PC9zcGFuPn1cbiAgICAgICAgICAgICAgICAgICBsb3dWYWx1ZUNvbG91cj17YCNDMEMwQzBgfVxuICAgICAgICAgICAgICAgICAgIGhpZ2hWYWx1ZUNvbG91cj17YCMwMDAwRkZgfS8+XG4gICAgICB9XG4gICAgICB7aXNOYU4obWluVXBMZXZlbCkgJiYgaXNOYU4obWF4VXBMZXZlbCkgP1xuICAgICAgICBudWxsIDpcbiAgICAgICAgPExlZ2VuZFJvdyBsb3dFeHByZXNzaW9uTGV2ZWw9ezxzcGFuPnttaW5VcExldmVsfTwvc3Bhbj59XG4gICAgICAgICAgICAgICAgICAgaGlnaEV4cHJlc3Npb25MZXZlbD17PHNwYW4+e21heFVwTGV2ZWx9PC9zcGFuPn1cbiAgICAgICAgICAgICAgICAgICBsb3dWYWx1ZUNvbG91cj17YCNGRkFGQUZgfVxuICAgICAgICAgICAgICAgICAgIGhpZ2hWYWx1ZUNvbG91cj17YCNGRjAwMDBgfS8+XG4gICAgICB9XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG5MZWdlbmREaWZmZXJlbnRpYWwucHJvcFR5cGVzID0ge1xuICBtaW5Eb3duTGV2ZWw6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgbWF4RG93bkxldmVsOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIG1pblVwTGV2ZWw6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgbWF4VXBMZXZlbDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59XG5cbmV4cG9ydCBkZWZhdWx0IExlZ2VuZERpZmZlcmVudGlhbFxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQVpBO0FBQ0E7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/legend/LegendDifferential.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/legend/LegendRow.js":
/*!*****************************************************************!*\
  !*** ./bundles/differential-expression/src/legend/LegendRow.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ \"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  vertical-align: middle;\\n  height: 15px;\\n  width: 100%;\\n  display: block;\\n  background-image: linear-gradient(to right, \", \", \", \");\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: table-cell;\\n  width: 80%;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: table-cell;\\n  width: 10%;\\n  white-space: nowrap;\\n  font-size: x-small;\\n  vertical-align: middle;\\n  text-align: right;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\n\n\n\nvar DifferentialLegendLevel = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].div(_templateObject());\nvar DifferentialGradientContainer = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].div(_templateObject2());\nvar DifferentialGradientSpan = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].span(_templateObject3(), function (props) {\n  return props.lowValueColour;\n}, function (props) {\n  return props.highValueColour;\n});\n\nvar LegendRow = function LegendRow(_ref) {\n  var lowValueColour = _ref.lowValueColour,\n      highValueColour = _ref.highValueColour,\n      lowExpressionLevel = _ref.lowExpressionLevel,\n      highExpressionLevel = _ref.highExpressionLevel;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    style: {\n      display: \"table-row\"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DifferentialLegendLevel, null, lowExpressionLevel), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DifferentialGradientContainer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DifferentialGradientSpan, {\n    lowValueColour: lowValueColour,\n    highValueColour: highValueColour\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DifferentialLegendLevel, null, highExpressionLevel));\n};\n\nLegendRow.propTypes = {\n  lowValueColour: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  highValueColour: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  lowExpressionLevel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.element.isRequired,\n  highExpressionLevel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.element.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (LegendRow);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy9sZWdlbmQvTGVnZW5kUm93LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlyZWZveC8uL2J1bmRsZXMvZGlmZmVyZW50aWFsLWV4cHJlc3Npb24vc3JjL2xlZ2VuZC9MZWdlbmRSb3cuanM/MTQxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJ1xuXG5jb25zdCBEaWZmZXJlbnRpYWxMZWdlbmRMZXZlbCA9IHN0eWxlZC5kaXZgXG4gIGRpc3BsYXk6IHRhYmxlLWNlbGw7XG4gIHdpZHRoOiAxMCU7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGZvbnQtc2l6ZTogeC1zbWFsbDtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG5gXG5cbmNvbnN0IERpZmZlcmVudGlhbEdyYWRpZW50Q29udGFpbmVyID0gc3R5bGVkLmRpdmBcbiAgZGlzcGxheTogdGFibGUtY2VsbDtcbiAgd2lkdGg6IDgwJTtcbmBcblxuY29uc3QgRGlmZmVyZW50aWFsR3JhZGllbnRTcGFuID0gc3R5bGVkLnNwYW5gXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIGhlaWdodDogMTVweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICR7cHJvcHMgPT4gcHJvcHMubG93VmFsdWVDb2xvdXJ9LCAke3Byb3BzID0+IHByb3BzLmhpZ2hWYWx1ZUNvbG91cn0pO1xuYFxuXG5jb25zdCBMZWdlbmRSb3cgPSAoe2xvd1ZhbHVlQ29sb3VyLCBoaWdoVmFsdWVDb2xvdXIsIGxvd0V4cHJlc3Npb25MZXZlbCwgaGlnaEV4cHJlc3Npb25MZXZlbH0pID0+XG4gIDxkaXYgc3R5bGU9e3tkaXNwbGF5OiBgdGFibGUtcm93YH19PlxuICAgIDxEaWZmZXJlbnRpYWxMZWdlbmRMZXZlbD57bG93RXhwcmVzc2lvbkxldmVsfTwvRGlmZmVyZW50aWFsTGVnZW5kTGV2ZWw+XG4gICAgPERpZmZlcmVudGlhbEdyYWRpZW50Q29udGFpbmVyPlxuICAgICAgPERpZmZlcmVudGlhbEdyYWRpZW50U3BhbiBsb3dWYWx1ZUNvbG91cj17bG93VmFsdWVDb2xvdXJ9IGhpZ2hWYWx1ZUNvbG91cj17aGlnaFZhbHVlQ29sb3VyfS8+XG4gICAgPC9EaWZmZXJlbnRpYWxHcmFkaWVudENvbnRhaW5lcj5cbiAgICA8RGlmZmVyZW50aWFsTGVnZW5kTGV2ZWw+e2hpZ2hFeHByZXNzaW9uTGV2ZWx9PC9EaWZmZXJlbnRpYWxMZWdlbmRMZXZlbD5cbiAgPC9kaXY+XG5cblxuTGVnZW5kUm93LnByb3BUeXBlcyA9IHtcbiAgbG93VmFsdWVDb2xvdXI6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgaGlnaFZhbHVlQ29sb3VyOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGxvd0V4cHJlc3Npb25MZXZlbDogUHJvcFR5cGVzLmVsZW1lbnQuaXNSZXF1aXJlZCxcbiAgaGlnaEV4cHJlc3Npb25MZXZlbDogUHJvcFR5cGVzLmVsZW1lbnQuaXNSZXF1aXJlZFxufVxuXG5leHBvcnQgZGVmYXVsdCBMZWdlbmRSb3dcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQVNBO0FBS0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFKQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/legend/LegendRow.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/tooltip/ContrastInfo.js":
/*!*********************************************************************!*\
  !*** ./bundles/differential-expression/src/tooltip/ContrastInfo.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\nvar ContrastInfoPropertyRow = function ContrastInfoPropertyRow(_ref) {\n  var testValue = _ref.testValue,\n      referenceValue = _ref.referenceValue,\n      contrastPropertyType = _ref.contrastPropertyType,\n      propertyName = _ref.propertyName;\n\n  if (!testValue && !referenceValue) {\n    return null;\n  }\n\n  var style = {\n    whiteSpace: \"normal\",\n    fontWeight: contrastPropertyType === \"FACTOR\" ? \"bold\" : \"\",\n    color: contrastPropertyType === \"FACTOR\" ? \"\" : \"grey\"\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", {\n    key: \"\".concat(contrastPropertyType, \"_\").concat(propertyName)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n    style: style\n  }, propertyName), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n    style: style\n  }, testValue), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n    style: style\n  }, referenceValue));\n};\n\nContrastInfoPropertyRow.propTypes = {\n  contrastPropertyType: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,\n  propertyName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  referenceValue: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  testValue: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired\n};\n\nvar ContrastInfo = function ContrastInfo(_ref2) {\n  var experimentDescription = _ref2.experimentDescription,\n      contrastDescription = _ref2.contrastDescription,\n      testReplicates = _ref2.testReplicates,\n      referenceReplicates = _ref2.referenceReplicates,\n      properties = _ref2.properties;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    style: {\n      fontWeight: \"bold\",\n      color: \"blue\",\n      textAlign: \"center\"\n    }\n  }, experimentDescription), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    style: {\n      textAlign: \"center\"\n    }\n  }, contrastDescription), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"table\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Property\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Test value (N=\", testReplicates, \")\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", null, \"Reference value (N=\", referenceReplicates, \")\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tbody\", null, properties.map(function (property) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ContrastInfoPropertyRow, _extends({\n      key: property.propertyName\n    }, property));\n  }))));\n};\n\nContrastInfo.proptypes = {\n  experimentDescription: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,\n  contrastDescription: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,\n  testReplicates: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  referenceReplicates: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  properties: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape(ContrastInfoPropertyRow.propTypes))\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ContrastInfo);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy90b29sdGlwL0NvbnRyYXN0SW5mby5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmVmb3gvLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy90b29sdGlwL0NvbnRyYXN0SW5mby5qcz9mNjY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcblxuY29uc3QgQ29udHJhc3RJbmZvUHJvcGVydHlSb3cgPSAoe3Rlc3RWYWx1ZSwgcmVmZXJlbmNlVmFsdWUsIGNvbnRyYXN0UHJvcGVydHlUeXBlLCBwcm9wZXJ0eU5hbWV9KSA9PiB7XG4gIGlmICghdGVzdFZhbHVlICYmICFyZWZlcmVuY2VWYWx1ZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCBzdHlsZSA9IHtcbiAgICB3aGl0ZVNwYWNlOiBgbm9ybWFsYCxcbiAgICBmb250V2VpZ2h0OiBjb250cmFzdFByb3BlcnR5VHlwZSA9PT0gYEZBQ1RPUmAgPyBgYm9sZGAgOiBgYCxcbiAgICBjb2xvcjogY29udHJhc3RQcm9wZXJ0eVR5cGUgPT09IGBGQUNUT1JgID8gYGAgOiBgZ3JleWBcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHRyIGtleT17YCR7Y29udHJhc3RQcm9wZXJ0eVR5cGV9XyR7cHJvcGVydHlOYW1lfWB9PlxuICAgICAgPHRkIHN0eWxlPXtzdHlsZX0+e3Byb3BlcnR5TmFtZX08L3RkPlxuICAgICAgPHRkIHN0eWxlPXtzdHlsZX0+e3Rlc3RWYWx1ZX08L3RkPlxuICAgICAgPHRkIHN0eWxlPXtzdHlsZX0+e3JlZmVyZW5jZVZhbHVlfTwvdGQ+XG4gICAgPC90cj5cbiAgKVxufVxuXG5Db250cmFzdEluZm9Qcm9wZXJ0eVJvdy5wcm9wVHlwZXMgPSB7XG4gIGNvbnRyYXN0UHJvcGVydHlUeXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBwcm9wZXJ0eU5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgcmVmZXJlbmNlVmFsdWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgdGVzdFZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcbn1cblxuY29uc3QgQ29udHJhc3RJbmZvID0gKHtleHBlcmltZW50RGVzY3JpcHRpb24sIGNvbnRyYXN0RGVzY3JpcHRpb24sIHRlc3RSZXBsaWNhdGVzLCByZWZlcmVuY2VSZXBsaWNhdGVzLCBwcm9wZXJ0aWVzfSkgPT5cbiAgPGRpdj5cbiAgICA8ZGl2IHN0eWxlPXt7Zm9udFdlaWdodDogYGJvbGRgLCBjb2xvcjogYGJsdWVgLCB0ZXh0QWxpZ246IGBjZW50ZXJgfX0+e2V4cGVyaW1lbnREZXNjcmlwdGlvbn08L2Rpdj5cbiAgICA8ZGl2IHN0eWxlPXt7dGV4dEFsaWduOiBgY2VudGVyYH19Pntjb250cmFzdERlc2NyaXB0aW9ufTwvZGl2PlxuICAgIDx0YWJsZT5cbiAgICAgIDx0aGVhZD5cbiAgICAgIDx0cj5cbiAgICAgICAgPHRoPlByb3BlcnR5PC90aD5cbiAgICAgICAgPHRoPlRlc3QgdmFsdWUgKE49e3Rlc3RSZXBsaWNhdGVzfSk8L3RoPlxuICAgICAgICA8dGg+UmVmZXJlbmNlIHZhbHVlIChOPXtyZWZlcmVuY2VSZXBsaWNhdGVzfSk8L3RoPlxuICAgICAgPC90cj5cbiAgICAgIDwvdGhlYWQ+XG4gICAgICA8dGJvZHk+XG4gICAgICAgIHtwcm9wZXJ0aWVzLm1hcCgocHJvcGVydHkpID0+IDxDb250cmFzdEluZm9Qcm9wZXJ0eVJvdyBrZXk9e3Byb3BlcnR5LnByb3BlcnR5TmFtZX0gey4uLnByb3BlcnR5fSAvPil9XG4gICAgICA8L3Rib2R5PlxuICAgIDwvdGFibGU+XG4gIDwvZGl2PlxuXG5Db250cmFzdEluZm8ucHJvcHR5cGVzID0ge1xuICBleHBlcmltZW50RGVzY3JpcHRpb246IFByb3BUeXBlcy5zdHJpbmcsXG4gIGNvbnRyYXN0RGVzY3JpcHRpb246IFByb3BUeXBlcy5zdHJpbmcsXG4gIHRlc3RSZXBsaWNhdGVzOiBQcm9wVHlwZXMubnVtYmVyLFxuICByZWZlcmVuY2VSZXBsaWNhdGVzOiBQcm9wVHlwZXMubnVtYmVyLFxuICBwcm9wZXJ0aWVzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc2hhcGUoXG4gICAgQ29udHJhc3RJbmZvUHJvcGVydHlSb3cucHJvcFR5cGVzXG4gICkpXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyYXN0SW5mb1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQVVBO0FBQUE7QUFBQTtBQUFBO0FBYkE7QUFDQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/tooltip/ContrastInfo.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/tooltip/ContrastTooltipLoader.js":
/*!******************************************************************************!*\
  !*** ./bundles/differential-expression/src/tooltip/ContrastTooltipLoader.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_refetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-refetch */ \"./node_modules/react-refetch/lib/index.js\");\n/* harmony import */ var react_refetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_refetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_tooltip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-tooltip */ \"./node_modules/react-tooltip/dist/index.es.js\");\n/* harmony import */ var urijs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! urijs */ \"./node_modules/urijs/src/URI.js\");\n/* harmony import */ var urijs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(urijs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _ContrastInfo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ContrastInfo */ \"./bundles/differential-expression/src/tooltip/ContrastInfo.js\");\n\n\n\n\n\n\nvar tooltipStyles = {\n  padding: \"2px !important\",\n  boxShadow: \"0 0 1em darkgrey\",\n  maxWidth: \"500px\",\n  fontSize: \"x-small\",\n  opacity: \"0.98 !important\"\n};\n\nvar TooltipLoader = function TooltipLoader(_ref) {\n  var tooltipFetch = _ref.tooltipFetch,\n      id = _ref.id;\n\n  if (tooltipFetch.pending) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tooltip__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      id: id,\n      type: \"light\",\n      className: \"foobar\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"Loading...\"));\n  } else if (tooltipFetch.rejected) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tooltip__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      id: id,\n      type: \"light\",\n      className: \"foobar\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"Error retrieving tooltip data: \", tooltipFetch.reason));\n  } else if (tooltipFetch.fulfilled) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tooltip__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      id: id,\n      type: \"light\",\n      className: \"foobar\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ContrastInfo__WEBPACK_IMPORTED_MODULE_5__[\"default\"], tooltipFetch.value));\n  }\n};\n\nTooltipLoader.propTypes = {\n  atlasUrl: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  tooltipUrl: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  tooltipUrlParams: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string).isRequired,\n  id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_refetch__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (props) {\n  return {\n    tooltipFetch: urijs__WEBPACK_IMPORTED_MODULE_4___default()(props.tooltipUrl, props.atlasUrl).search(props.tooltipUrlParams).toString()\n  };\n})(TooltipLoader));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy90b29sdGlwL0NvbnRyYXN0VG9vbHRpcExvYWRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmVmb3gvLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy90b29sdGlwL0NvbnRyYXN0VG9vbHRpcExvYWRlci5qcz80MTc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWZldGNoJ1xuaW1wb3J0IFJlYWN0VG9vbHRpcCBmcm9tICdyZWFjdC10b29sdGlwJ1xuXG5pbXBvcnQgVVJJIGZyb20gJ3VyaWpzJ1xuXG5pbXBvcnQgQ29udHJhc3RJbmZvIGZyb20gJy4vQ29udHJhc3RJbmZvJ1xuXG5jb25zdCB0b29sdGlwU3R5bGVzID0ge1xuICBwYWRkaW5nOiBgMnB4ICFpbXBvcnRhbnRgLFxuICBib3hTaGFkb3c6IGAwIDAgMWVtIGRhcmtncmV5YCxcbiAgbWF4V2lkdGg6IGA1MDBweGAsXG4gIGZvbnRTaXplOiBgeC1zbWFsbGAsXG4gIG9wYWNpdHk6IGAwLjk4ICFpbXBvcnRhbnRgXG59XG5cbmNvbnN0IFRvb2x0aXBMb2FkZXIgPSAoe3Rvb2x0aXBGZXRjaCwgaWR9KSA9PiB7XG4gIGlmICh0b29sdGlwRmV0Y2gucGVuZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3RUb29sdGlwIGlkPXtpZH0gdHlwZT17YGxpZ2h0YH0gY2xhc3NOYW1lPXtgZm9vYmFyYH0+XG4gICAgICAgIDxzcGFuPkxvYWRpbmcuLi48L3NwYW4+XG4gICAgICA8L1JlYWN0VG9vbHRpcD5cbiAgICApXG4gIH0gZWxzZSBpZiAodG9vbHRpcEZldGNoLnJlamVjdGVkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdFRvb2x0aXAgaWQ9e2lkfSB0eXBlPXtgbGlnaHRgfSBjbGFzc05hbWU9e2Bmb29iYXJgfT5cbiAgICAgICAgPHNwYW4+RXJyb3IgcmV0cmlldmluZyB0b29sdGlwIGRhdGE6IHt0b29sdGlwRmV0Y2gucmVhc29ufTwvc3Bhbj5cbiAgICAgIDwvUmVhY3RUb29sdGlwPlxuICAgIClcbiAgfSBlbHNlIGlmICh0b29sdGlwRmV0Y2guZnVsZmlsbGVkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdFRvb2x0aXAgaWQ9e2lkfSB0eXBlPXtgbGlnaHRgfSBjbGFzc05hbWU9e2Bmb29iYXJgfT5cbiAgICAgICAgPENvbnRyYXN0SW5mbyB7Li4udG9vbHRpcEZldGNoLnZhbHVlfS8+XG4gICAgICA8L1JlYWN0VG9vbHRpcD5cbiAgICApXG4gIH1cbn1cblxuVG9vbHRpcExvYWRlci5wcm9wVHlwZXMgPSB7XG4gIGF0bGFzVXJsOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHRvb2x0aXBVcmw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgdG9vbHRpcFVybFBhcmFtczogUHJvcFR5cGVzLm9iamVjdE9mKFByb3BUeXBlcy5zdHJpbmcpLmlzUmVxdWlyZWQsXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdCgocHJvcHMpID0+ICh7XG4gIHRvb2x0aXBGZXRjaDogVVJJKHByb3BzLnRvb2x0aXBVcmwsIHByb3BzLmF0bGFzVXJsKS5zZWFyY2gocHJvcHMudG9vbHRpcFVybFBhcmFtcykudG9TdHJpbmcoKVxufSkpKFRvb2x0aXBMb2FkZXIpXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBT0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQUFBO0FBQ0E7QUFEQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/tooltip/ContrastTooltipLoader.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/tooltip/DifferentialFoldChangeCellInfo.js":
/*!***************************************************************************************!*\
  !*** ./bundles/differential-expression/src/tooltip/DifferentialFoldChangeCellInfo.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-components */ \"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var _ebi_gene_expression_group_expression_atlas_number_format__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ebi-gene-expression-group/expression-atlas-number-format */ \"./node_modules/@ebi-gene-expression-group/expression-atlas-number-format/lib/index.js\");\n/* harmony import */ var _ebi_gene_expression_group_expression_atlas_number_format__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_ebi_gene_expression_group_expression_atlas_number_format__WEBPACK_IMPORTED_MODULE_3__);\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  border: 1px solid lightgrey;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  border-bottom: 1px solid lightgrey !important;\\n  background-color: floralwhite;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  border-collapse: collapse;\\n  margin: 0;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\n\n\n\n\nvar BorderLessTable = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].table(_templateObject());\nvar Header = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].th(_templateObject2());\nvar Data = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].td(_templateObject3());\n\nvar DifferentialFoldChangeCellInfo = function DifferentialFoldChangeCellInfo(_ref) {\n  var pValue = _ref.pValue,\n      tStat = _ref.tStat,\n      foldChange = _ref.foldChange;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BorderLessTable, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, pValue && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Header, null, \"Adjusted \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"em\", null, \"p\"), \"-value\"), tStat && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Header, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"em\", null, \"t\"), \"-statistic\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Header, null, \"Log\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"sub\", null, \"2\"), \"-fold change\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tbody\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, pValue && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Data, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ebi_gene_expression_group_expression_atlas_number_format__WEBPACK_IMPORTED_MODULE_3___default.a, {\n    value: pValue\n  })), tStat && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Data, null, Math.floor(tStat * 1e4) / 1e4), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Data, null, foldChange))));\n};\n\nDifferentialFoldChangeCellInfo.propTypes = {\n  foldChange: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n  pValue: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  tStat: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DifferentialFoldChangeCellInfo);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy90b29sdGlwL0RpZmZlcmVudGlhbEZvbGRDaGFuZ2VDZWxsSW5mby5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmVmb3gvLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy90b29sdGlwL0RpZmZlcmVudGlhbEZvbGRDaGFuZ2VDZWxsSW5mby5qcz83MDQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnXG5cbmltcG9ydCBTY2llbnRpZmljTm90YXRpb25OdW1iZXIgZnJvbSAnQGViaS1nZW5lLWV4cHJlc3Npb24tZ3JvdXAvZXhwcmVzc2lvbi1hdGxhcy1udW1iZXItZm9ybWF0J1xuXG5jb25zdCBCb3JkZXJMZXNzVGFibGUgPSBzdHlsZWQudGFibGVgXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gIG1hcmdpbjogMDtcbmBcblxuY29uc3QgSGVhZGVyID0gc3R5bGVkLnRoYFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgbGlnaHRncmV5ICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtY29sb3I6IGZsb3JhbHdoaXRlO1xuYFxuXG5jb25zdCBEYXRhID0gc3R5bGVkLnRkYFxuICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyZXk7XG5gXG5cbmNvbnN0IERpZmZlcmVudGlhbEZvbGRDaGFuZ2VDZWxsSW5mbyA9ICh7cFZhbHVlLCB0U3RhdCwgZm9sZENoYW5nZX0pID0+XG4gIDxCb3JkZXJMZXNzVGFibGU+XG4gICAgPHRoZWFkPlxuICAgICAgPHRyPlxuICAgICAgICB7cFZhbHVlICYmIDxIZWFkZXI+QWRqdXN0ZWQgPGVtPnA8L2VtPi12YWx1ZTwvSGVhZGVyPn1cbiAgICAgICAge3RTdGF0ICYmIDxIZWFkZXI+PGVtPnQ8L2VtPi1zdGF0aXN0aWM8L0hlYWRlcj59XG4gICAgICAgIDxIZWFkZXI+TG9nPHN1Yj4yPC9zdWI+LWZvbGQgY2hhbmdlPC9IZWFkZXI+XG4gICAgICA8L3RyPlxuICAgIDwvdGhlYWQ+XG4gICAgPHRib2R5PlxuICAgICAgPHRyPlxuICAgICAgICB7cFZhbHVlICYmIDxEYXRhPjxTY2llbnRpZmljTm90YXRpb25OdW1iZXIgdmFsdWU9e3BWYWx1ZX0vPjwvRGF0YT59XG4gICAgICAgIHt0U3RhdCAmJiA8RGF0YT57TWF0aC5mbG9vcih0U3RhdCAqIDFlNCkgLyAxZTR9PC9EYXRhPn1cbiAgICAgICAgPERhdGE+e2ZvbGRDaGFuZ2V9PC9EYXRhPlxuICAgICAgPC90cj5cbiAgICA8L3Rib2R5PlxuICA8L0JvcmRlckxlc3NUYWJsZT5cblxuRGlmZmVyZW50aWFsRm9sZENoYW5nZUNlbGxJbmZvLnByb3BUeXBlcyA9IHtcbiAgZm9sZENoYW5nZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBwVmFsdWU6IFByb3BUeXBlcy5udW1iZXIsXG4gIHRTdGF0OiBQcm9wVHlwZXMubnVtYmVyXG59XG5cbmV4cG9ydCBkZWZhdWx0IERpZmZlcmVudGlhbEZvbGRDaGFuZ2VDZWxsSW5mb1xuXG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFLQTtBQUtBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBV0E7QUFBQTtBQVhBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU1BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/tooltip/DifferentialFoldChangeCellInfo.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/tooltip/ReactTooltipStyleClass.js":
/*!*******************************************************************************!*\
  !*** ./bundles/differential-expression/src/tooltip/ReactTooltipStyleClass.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! styled-components */ \"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n.foobar {\\n  padding: 2px !important;\\n  box-shadow: 0 0 1em darkgrey;\\n  max-width: 500px;\\n  font-size: x-small;\\n  opacity: 0.98 !important;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\n\nvar ReactTooltipStyleClass = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__[\"createGlobalStyle\"])(_templateObject());\n/* harmony default export */ __webpack_exports__[\"default\"] = (ReactTooltipStyleClass);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy90b29sdGlwL1JlYWN0VG9vbHRpcFN0eWxlQ2xhc3MuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlZm94Ly4vYnVuZGxlcy9kaWZmZXJlbnRpYWwtZXhwcmVzc2lvbi9zcmMvdG9vbHRpcC9SZWFjdFRvb2x0aXBTdHlsZUNsYXNzLmpzPzUyYTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlR2xvYmFsU3R5bGUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cydcblxuY29uc3QgUmVhY3RUb29sdGlwU3R5bGVDbGFzcyA9IGNyZWF0ZUdsb2JhbFN0eWxlYFxuLmZvb2JhciB7XG4gIHBhZGRpbmc6IDJweCAhaW1wb3J0YW50O1xuICBib3gtc2hhZG93OiAwIDAgMWVtIGRhcmtncmV5O1xuICBtYXgtd2lkdGg6IDUwMHB4O1xuICBmb250LXNpemU6IHgtc21hbGw7XG4gIG9wYWNpdHk6IDAuOTggIWltcG9ydGFudDtcbiAgfVxuYFxuXG5leHBvcnQgZGVmYXVsdCBSZWFjdFRvb2x0aXBTdHlsZUNsYXNzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFVQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/tooltip/ReactTooltipStyleClass.js\n");

/***/ }),

/***/ "./bundles/differential-expression/src/urlManager.js":
/*!***********************************************************!*\
  !*** ./bundles/differential-expression/src/urlManager.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! url */ \"./node_modules/url/url.js\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var querystring__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! querystring */ \"./node_modules/querystring-es3/index.js\");\n/* harmony import */ var querystring__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(querystring__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/**\n * Stringify the `query` object, assign it to the `ds` search field in the URL and store it in the History\n * @param {object} querySelect\n * @param {boolean} replace - use `replaceState` instead of `pushState`\n */\n\nvar differentialPush = function pushQueryIntoBrowserHistory(querySelect, replace) {\n  var currentUrlObject = url__WEBPACK_IMPORTED_MODULE_0___default.a.parse(window.location.toString());\n  var newUrlQueryParams = querystring__WEBPACK_IMPORTED_MODULE_1___default.a.parse(currentUrlObject.query);\n  newUrlQueryParams.ds = JSON.stringify(querySelect);\n  var newUrlObject = {\n    protocol: currentUrlObject.protocol,\n    host: currentUrlObject.host,\n    hash: currentUrlObject.hash,\n    pathname: currentUrlObject.pathname,\n    query: newUrlQueryParams\n  };\n\n  if (replace) {\n    history.replaceState(null, '', url__WEBPACK_IMPORTED_MODULE_0___default.a.format(newUrlObject));\n  } else {\n    history.pushState(null, '', url__WEBPACK_IMPORTED_MODULE_0___default.a.format(newUrlObject));\n  }\n};\n\nvar parseDifferentialUrlParameter = function getQuerySelectFromLocation() {\n  var location = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.location;\n  var currentURL = url__WEBPACK_IMPORTED_MODULE_0___default.a.parse(location.toString());\n  var differentialSelectParam = querystring__WEBPACK_IMPORTED_MODULE_1___default.a.parse(currentURL.query).ds;\n  return differentialSelectParam ? JSON.parse(differentialSelectParam) : {};\n};\n\nvar UrlManager = {\n  differentialPush: differentialPush,\n  parseDifferentialUrlParameter: parseDifferentialUrlParameter\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (UrlManager);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9idW5kbGVzL2RpZmZlcmVudGlhbC1leHByZXNzaW9uL3NyYy91cmxNYW5hZ2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlyZWZveC8uL2J1bmRsZXMvZGlmZmVyZW50aWFsLWV4cHJlc3Npb24vc3JjL3VybE1hbmFnZXIuanM/YjFjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXJsIGZyb20gJ3VybCdcbmltcG9ydCBRdWVyeVN0cmluZyBmcm9tICdxdWVyeXN0cmluZydcblxuLyoqXG4gKiBTdHJpbmdpZnkgdGhlIGBxdWVyeWAgb2JqZWN0LCBhc3NpZ24gaXQgdG8gdGhlIGBkc2Agc2VhcmNoIGZpZWxkIGluIHRoZSBVUkwgYW5kIHN0b3JlIGl0IGluIHRoZSBIaXN0b3J5XG4gKiBAcGFyYW0ge29iamVjdH0gcXVlcnlTZWxlY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVwbGFjZSAtIHVzZSBgcmVwbGFjZVN0YXRlYCBpbnN0ZWFkIG9mIGBwdXNoU3RhdGVgXG4gKi9cbmNvbnN0IGRpZmZlcmVudGlhbFB1c2ggPSBmdW5jdGlvbiBwdXNoUXVlcnlJbnRvQnJvd3Nlckhpc3RvcnkocXVlcnlTZWxlY3QsIHJlcGxhY2UpIHtcbiAgICBsZXQgY3VycmVudFVybE9iamVjdCA9IFVybC5wYXJzZSh3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKSk7XG5cbiAgICBsZXQgbmV3VXJsUXVlcnlQYXJhbXMgPSBRdWVyeVN0cmluZy5wYXJzZShjdXJyZW50VXJsT2JqZWN0LnF1ZXJ5KTtcbiAgICBuZXdVcmxRdWVyeVBhcmFtcy5kcyA9IEpTT04uc3RyaW5naWZ5KHF1ZXJ5U2VsZWN0KTtcblxuICAgIGxldCBuZXdVcmxPYmplY3QgPSB7XG4gICAgICAgIHByb3RvY29sOiBjdXJyZW50VXJsT2JqZWN0LnByb3RvY29sLFxuICAgICAgICBob3N0OiBjdXJyZW50VXJsT2JqZWN0Lmhvc3QsXG4gICAgICAgIGhhc2g6IGN1cnJlbnRVcmxPYmplY3QuaGFzaCxcbiAgICAgICAgcGF0aG5hbWU6IGN1cnJlbnRVcmxPYmplY3QucGF0aG5hbWUsXG4gICAgICAgIHF1ZXJ5OiBuZXdVcmxRdWVyeVBhcmFtc1xuICAgIH07XG5cbiAgICBpZiAocmVwbGFjZSkge1xuICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCAnJywgVXJsLmZvcm1hdChuZXdVcmxPYmplY3QpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCAnJywgVXJsLmZvcm1hdChuZXdVcmxPYmplY3QpKTtcbiAgICB9XG59O1xuXG5jb25zdCBwYXJzZURpZmZlcmVudGlhbFVybFBhcmFtZXRlciA9IGZ1bmN0aW9uIGdldFF1ZXJ5U2VsZWN0RnJvbUxvY2F0aW9uKGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uKSB7XG4gICAgbGV0IGN1cnJlbnRVUkwgPSBVcmwucGFyc2UobG9jYXRpb24udG9TdHJpbmcoKSk7XG4gICAgbGV0IGRpZmZlcmVudGlhbFNlbGVjdFBhcmFtID0gUXVlcnlTdHJpbmcucGFyc2UoY3VycmVudFVSTC5xdWVyeSkuZHM7XG4gICAgcmV0dXJuIGRpZmZlcmVudGlhbFNlbGVjdFBhcmFtID8gSlNPTi5wYXJzZShkaWZmZXJlbnRpYWxTZWxlY3RQYXJhbSkgOiB7fTtcbn07XG5cbmNvbnN0IFVybE1hbmFnZXIgPSB7XG4gIGRpZmZlcmVudGlhbFB1c2g6IGRpZmZlcmVudGlhbFB1c2gsXG4gIHBhcnNlRGlmZmVyZW50aWFsVXJsUGFyYW1ldGVyOiBwYXJzZURpZmZlcmVudGlhbFVybFBhcmFtZXRlclxufVxuXG5leHBvcnQgZGVmYXVsdCBVcmxNYW5hZ2VyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7Ozs7OztBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./bundles/differential-expression/src/urlManager.js\n");

/***/ }),

/***/ "./node_modules/react-tooltip/dist/index.es.js":
/*!*****************************************************!*\
  !*** ./node_modules/react-tooltip/dist/index.es.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nfunction ___$insertStyle(css) {\n  if (!css) {\n    return;\n  }\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  var style = document.createElement('style');\n\n  style.setAttribute('type', 'text/css');\n  style.innerHTML = css;\n  document.head.appendChild(style);\n  return css;\n}\n\n\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nvar emptyFunction_1 = emptyFunction;\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (true) {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nvar invariant_1 = invariant;\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = emptyFunction_1;\n\nif (true) {\n  var printWarning = function printWarning(format) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  warning = function warning(condition, format) {\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (format.indexOf('Failed Composite propType: ') === 0) {\n      return; // Ignore CompositeComponent proptype check.\n    }\n\n    if (!condition) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(undefined, [format].concat(args));\n    }\n  };\n}\n\nvar warning_1 = warning;\n\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nvar objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nvar ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\nif (true) {\n  var invariant$1 = invariant_1;\n  var warning$1 = warning_1;\n  var ReactPropTypesSecret$1 = ReactPropTypesSecret_1;\n  var loggedTypeFailures = {};\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (true) {\n    for (var typeSpecName in typeSpecs) {\n      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          invariant$1(typeof typeSpecs[typeSpecName] === 'function', '%s: %s type `%s` is invalid; it must be a function, usually from ' + 'the `prop-types` package, but received `%s`.', componentName || 'React class', location, typeSpecName, typeof typeSpecs[typeSpecName]);\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret$1);\n        } catch (ex) {\n          error = ex;\n        }\n        warning$1(!error || error instanceof Error, '%s: type specification of %s `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error);\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          warning$1(false, 'Failed %s type: %s%s', location, error.message, stack != null ? stack : '');\n        }\n      }\n    }\n  }\n}\n\nvar checkPropTypes_1 = checkPropTypes;\n\nvar factoryWithTypeCheckers = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (true) {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret_1) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          invariant_1(\n            false,\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n        } else if ( true && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            warning_1(\n              false,\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `%s` prop on `%s`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.',\n              propFullName,\n              componentName\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunction_1.thatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret_1);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n       true ? warning_1(false, 'Invalid argument supplied to oneOf, expected an instance of array.') : undefined;\n      return emptyFunction_1.thatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (propValue.hasOwnProperty(key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n       true ? warning_1(false, 'Invalid argument supplied to oneOfType, expected an instance of array.') : undefined;\n      return emptyFunction_1.thatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        warning_1(\n          false,\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received %s at index %s.',\n          getPostfixForTypeWarning(checker),\n          i\n        );\n        return emptyFunction_1.thatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret_1) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = objectAssign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes_1;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\nvar factoryWithThrowingShims = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret_1) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant_1(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  }  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  }  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction_1;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\nvar propTypes = createCommonjsModule(function (module) {\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (true) {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = factoryWithTypeCheckers(isValidElement, throwOnDirectAccess);\n} else {}\n});\n\nvar CONSTANT = {\n  GLOBAL: {\n    HIDE: \"__react_tooltip_hide_event\",\n    REBUILD: \"__react_tooltip_rebuild_event\",\n    SHOW: \"__react_tooltip_show_event\"\n  }\n};\n\n/**\n * Static methods for react-tooltip\n */\n\nvar dispatchGlobalEvent = function dispatchGlobalEvent(eventName, opts) {\n  // Compatible with IE\n  // @see http://stackoverflow.com/questions/26596123/internet-explorer-9-10-11-event-constructor-doesnt-work\n  var event;\n\n  if (typeof window.CustomEvent === \"function\") {\n    event = new window.CustomEvent(eventName, {\n      detail: opts\n    });\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(eventName, false, true);\n    event.detail = opts;\n  }\n\n  window.dispatchEvent(event);\n};\n\nfunction staticMethods (target) {\n  /**\n   * Hide all tooltip\n   * @trigger ReactTooltip.hide()\n   */\n  target.hide = function (target) {\n    dispatchGlobalEvent(CONSTANT.GLOBAL.HIDE, {\n      target: target\n    });\n  };\n  /**\n   * Rebuild all tooltip\n   * @trigger ReactTooltip.rebuild()\n   */\n\n\n  target.rebuild = function () {\n    dispatchGlobalEvent(CONSTANT.GLOBAL.REBUILD);\n  };\n  /**\n   * Show specific tooltip\n   * @trigger ReactTooltip.show()\n   */\n\n\n  target.show = function (target) {\n    dispatchGlobalEvent(CONSTANT.GLOBAL.SHOW, {\n      target: target\n    });\n  };\n\n  target.prototype.globalRebuild = function () {\n    if (this.mount) {\n      this.unbindListener();\n      this.bindListener();\n    }\n  };\n\n  target.prototype.globalShow = function (event) {\n    if (this.mount) {\n      // Create a fake event, specific show will limit the type to `solid`\n      // only `float` type cares e.clientX e.clientY\n      var e = {\n        currentTarget: event.detail.target\n      };\n      this.showTooltip(e, true);\n    }\n  };\n\n  target.prototype.globalHide = function (event) {\n    if (this.mount) {\n      var hasTarget = event && event.detail && event.detail.target && true || false;\n      this.hideTooltip({\n        currentTarget: hasTarget && event.detail.target\n      }, hasTarget);\n    }\n  };\n}\n\n/**\n * Events that should be bound to the window\n */\nfunction windowListener (target) {\n  target.prototype.bindWindowEvents = function (resizeHide) {\n    // ReactTooltip.hide\n    window.removeEventListener(CONSTANT.GLOBAL.HIDE, this.globalHide);\n    window.addEventListener(CONSTANT.GLOBAL.HIDE, this.globalHide, false); // ReactTooltip.rebuild\n\n    window.removeEventListener(CONSTANT.GLOBAL.REBUILD, this.globalRebuild);\n    window.addEventListener(CONSTANT.GLOBAL.REBUILD, this.globalRebuild, false); // ReactTooltip.show\n\n    window.removeEventListener(CONSTANT.GLOBAL.SHOW, this.globalShow);\n    window.addEventListener(CONSTANT.GLOBAL.SHOW, this.globalShow, false); // Resize\n\n    if (resizeHide) {\n      window.removeEventListener(\"resize\", this.onWindowResize);\n      window.addEventListener(\"resize\", this.onWindowResize, false);\n    }\n  };\n\n  target.prototype.unbindWindowEvents = function () {\n    window.removeEventListener(CONSTANT.GLOBAL.HIDE, this.globalHide);\n    window.removeEventListener(CONSTANT.GLOBAL.REBUILD, this.globalRebuild);\n    window.removeEventListener(CONSTANT.GLOBAL.SHOW, this.globalShow);\n    window.removeEventListener(\"resize\", this.onWindowResize);\n  };\n  /**\n   * invoked by resize event of window\n   */\n\n\n  target.prototype.onWindowResize = function () {\n    if (!this.mount) return;\n    this.hideTooltip();\n  };\n}\n\n/**\n * Custom events to control showing and hiding of tooltip\n *\n * @attributes\n * - `event` {String}\n * - `eventOff` {String}\n */\nvar checkStatus = function checkStatus(dataEventOff, e) {\n  var show = this.state.show;\n  var id = this.props.id;\n  var isCapture = this.isCapture(e.currentTarget);\n  var currentItem = e.currentTarget.getAttribute(\"currentItem\");\n  if (!isCapture) e.stopPropagation();\n\n  if (show && currentItem === \"true\") {\n    if (!dataEventOff) this.hideTooltip(e);\n  } else {\n    e.currentTarget.setAttribute(\"currentItem\", \"true\");\n    setUntargetItems(e.currentTarget, this.getTargetArray(id));\n    this.showTooltip(e);\n  }\n};\n\nvar setUntargetItems = function setUntargetItems(currentTarget, targetArray) {\n  for (var i = 0; i < targetArray.length; i++) {\n    if (currentTarget !== targetArray[i]) {\n      targetArray[i].setAttribute(\"currentItem\", \"false\");\n    } else {\n      targetArray[i].setAttribute(\"currentItem\", \"true\");\n    }\n  }\n};\n\nvar customListeners = {\n  id: \"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf\",\n  set: function set(target, event, listener) {\n    if (this.id in target) {\n      var map = target[this.id];\n      map[event] = listener;\n    } else {\n      // this is workaround for WeakMap, which is not supported in older browsers, such as IE\n      Object.defineProperty(target, this.id, {\n        configurable: true,\n        value: _defineProperty({}, event, listener)\n      });\n    }\n  },\n  get: function get(target, event) {\n    var map = target[this.id];\n\n    if (map !== undefined) {\n      return map[event];\n    }\n  }\n};\nfunction customEvent (target) {\n  target.prototype.isCustomEvent = function (ele) {\n    var event = this.state.event;\n    return event || !!ele.getAttribute(\"data-event\");\n  };\n  /* Bind listener for custom event */\n\n\n  target.prototype.customBindListener = function (ele) {\n    var _this = this;\n\n    var _this$state = this.state,\n        event = _this$state.event,\n        eventOff = _this$state.eventOff;\n    var dataEvent = ele.getAttribute(\"data-event\") || event;\n    var dataEventOff = ele.getAttribute(\"data-event-off\") || eventOff;\n    dataEvent.split(\" \").forEach(function (event) {\n      ele.removeEventListener(event, customListeners.get(ele, event));\n      var customListener = checkStatus.bind(_this, dataEventOff);\n      customListeners.set(ele, event, customListener);\n      ele.addEventListener(event, customListener, false);\n    });\n\n    if (dataEventOff) {\n      dataEventOff.split(\" \").forEach(function (event) {\n        ele.removeEventListener(event, _this.hideTooltip);\n        ele.addEventListener(event, _this.hideTooltip, false);\n      });\n    }\n  };\n  /* Unbind listener for custom event */\n\n\n  target.prototype.customUnbindListener = function (ele) {\n    var _this$state2 = this.state,\n        event = _this$state2.event,\n        eventOff = _this$state2.eventOff;\n    var dataEvent = event || ele.getAttribute(\"data-event\");\n    var dataEventOff = eventOff || ele.getAttribute(\"data-event-off\");\n    ele.removeEventListener(dataEvent, customListeners.get(ele, event));\n    if (dataEventOff) ele.removeEventListener(dataEventOff, this.hideTooltip);\n  };\n}\n\n/**\n * Util method to judge if it should follow capture model\n */\nfunction isCapture (target) {\n  target.prototype.isCapture = function (currentTarget) {\n    return currentTarget && currentTarget.getAttribute(\"data-iscapture\") === \"true\" || this.props.isCapture || false;\n  };\n}\n\n/**\n * Util method to get effect\n */\nfunction getEffect (target) {\n  target.prototype.getEffect = function (currentTarget) {\n    var dataEffect = currentTarget.getAttribute(\"data-effect\");\n    return dataEffect || this.props.effect || \"float\";\n  };\n}\n\n/**\n * Util method to get effect\n */\n\nvar makeProxy = function makeProxy(e) {\n  var proxy = {};\n\n  for (var key in e) {\n    if (typeof e[key] === \"function\") {\n      proxy[key] = e[key].bind(e);\n    } else {\n      proxy[key] = e[key];\n    }\n  }\n\n  return proxy;\n};\n\nvar bodyListener = function bodyListener(callback, options, e) {\n  var _options$respectEffec = options.respectEffect,\n      respectEffect = _options$respectEffec === void 0 ? false : _options$respectEffec,\n      _options$customEvent = options.customEvent,\n      customEvent = _options$customEvent === void 0 ? false : _options$customEvent;\n  var id = this.props.id;\n  var tip = e.target.getAttribute(\"data-tip\") || null;\n  var forId = e.target.getAttribute(\"data-for\") || null;\n  var target = e.target;\n\n  if (this.isCustomEvent(target) && !customEvent) {\n    return;\n  }\n\n  var isTargetBelongsToTooltip = id == null && forId == null || forId === id;\n\n  if (tip != null && (!respectEffect || this.getEffect(target) === \"float\") && isTargetBelongsToTooltip) {\n    var proxy = makeProxy(e);\n    proxy.currentTarget = target;\n    callback(proxy);\n  }\n};\n\nvar findCustomEvents = function findCustomEvents(targetArray, dataAttribute) {\n  var events = {};\n  targetArray.forEach(function (target) {\n    var event = target.getAttribute(dataAttribute);\n    if (event) event.split(\" \").forEach(function (event) {\n      return events[event] = true;\n    });\n  });\n  return events;\n};\n\nvar getBody = function getBody() {\n  return document.getElementsByTagName(\"body\")[0];\n};\n\nfunction bodyMode (target) {\n  target.prototype.isBodyMode = function () {\n    return !!this.props.bodyMode;\n  };\n\n  target.prototype.bindBodyListener = function (targetArray) {\n    var _this = this;\n\n    var _this$state = this.state,\n        event = _this$state.event,\n        eventOff = _this$state.eventOff,\n        possibleCustomEvents = _this$state.possibleCustomEvents,\n        possibleCustomEventsOff = _this$state.possibleCustomEventsOff;\n    var body = getBody();\n    var customEvents = findCustomEvents(targetArray, \"data-event\");\n    var customEventsOff = findCustomEvents(targetArray, \"data-event-off\");\n    if (event != null) customEvents[event] = true;\n    if (eventOff != null) customEventsOff[eventOff] = true;\n    possibleCustomEvents.split(\" \").forEach(function (event) {\n      return customEvents[event] = true;\n    });\n    possibleCustomEventsOff.split(\" \").forEach(function (event) {\n      return customEventsOff[event] = true;\n    });\n    this.unbindBodyListener(body);\n    var listeners = this.bodyModeListeners = {};\n\n    if (event == null) {\n      listeners.mouseover = bodyListener.bind(this, this.showTooltip, {});\n      listeners.mousemove = bodyListener.bind(this, this.updateTooltip, {\n        respectEffect: true\n      });\n      listeners.mouseout = bodyListener.bind(this, this.hideTooltip, {});\n    }\n\n    for (var _event in customEvents) {\n      listeners[_event] = bodyListener.bind(this, function (e) {\n        var targetEventOff = e.currentTarget.getAttribute(\"data-event-off\") || eventOff;\n        checkStatus.call(_this, targetEventOff, e);\n      }, {\n        customEvent: true\n      });\n    }\n\n    for (var _event2 in customEventsOff) {\n      listeners[_event2] = bodyListener.bind(this, this.hideTooltip, {\n        customEvent: true\n      });\n    }\n\n    for (var _event3 in listeners) {\n      body.addEventListener(_event3, listeners[_event3]);\n    }\n  };\n\n  target.prototype.unbindBodyListener = function (body) {\n    body = body || getBody();\n    var listeners = this.bodyModeListeners;\n\n    for (var event in listeners) {\n      body.removeEventListener(event, listeners[event]);\n    }\n  };\n}\n\n/**\n * Tracking target removing from DOM.\n * It's necessary to hide tooltip when it's target disappears.\n * Otherwise, the tooltip would be shown forever until another target\n * is triggered.\n *\n * If MutationObserver is not available, this feature just doesn't work.\n */\n// https://hacks.mozilla.org/2012/05/dom-mutationobserver-reacting-to-dom-changes-without-killing-browser-performance/\nvar getMutationObserverClass = function getMutationObserverClass() {\n  return window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n};\n\nfunction trackRemoval (target) {\n  target.prototype.bindRemovalTracker = function () {\n    var _this = this;\n\n    var MutationObserver = getMutationObserverClass();\n    if (MutationObserver == null) return;\n    var observer = new MutationObserver(function (mutations) {\n      for (var m1 = 0; m1 < mutations.length; m1++) {\n        var mutation = mutations[m1];\n\n        for (var m2 = 0; m2 < mutation.removedNodes.length; m2++) {\n          var element = mutation.removedNodes[m2];\n\n          if (element === _this.state.currentTarget) {\n            _this.hideTooltip();\n\n            return;\n          }\n        }\n      }\n    });\n    observer.observe(window.document, {\n      childList: true,\n      subtree: true\n    });\n    this.removalTracker = observer;\n  };\n\n  target.prototype.unbindRemovalTracker = function () {\n    if (this.removalTracker) {\n      this.removalTracker.disconnect();\n      this.removalTracker = null;\n    }\n  };\n}\n\n/**\n * Calculate the position of tooltip\n *\n * @params\n * - `e` {Event} the event of current mouse\n * - `target` {Element} the currentTarget of the event\n * - `node` {DOM} the react-tooltip object\n * - `place` {String} top / right / bottom / left\n * - `effect` {String} float / solid\n * - `offset` {Object} the offset to default position\n *\n * @return {Object}\n * - `isNewState` {Bool} required\n * - `newState` {Object}\n * - `position` {Object} {left: {Number}, top: {Number}}\n */\nfunction getPosition (e, target, node, place, desiredPlace, effect, offset) {\n  var _getDimensions = getDimensions(node),\n      tipWidth = _getDimensions.width,\n      tipHeight = _getDimensions.height;\n\n  var _getDimensions2 = getDimensions(target),\n      targetWidth = _getDimensions2.width,\n      targetHeight = _getDimensions2.height;\n\n  var _getCurrentOffset = getCurrentOffset(e, target, effect),\n      mouseX = _getCurrentOffset.mouseX,\n      mouseY = _getCurrentOffset.mouseY;\n\n  var defaultOffset = getDefaultPosition(effect, targetWidth, targetHeight, tipWidth, tipHeight);\n\n  var _calculateOffset = calculateOffset(offset),\n      extraOffset_X = _calculateOffset.extraOffset_X,\n      extraOffset_Y = _calculateOffset.extraOffset_Y;\n\n  var windowWidth = window.innerWidth;\n  var windowHeight = window.innerHeight;\n\n  var _getParent = getParent(node),\n      parentTop = _getParent.parentTop,\n      parentLeft = _getParent.parentLeft; // Get the edge offset of the tooltip\n\n\n  var getTipOffsetLeft = function getTipOffsetLeft(place) {\n    var offset_X = defaultOffset[place].l;\n    return mouseX + offset_X + extraOffset_X;\n  };\n\n  var getTipOffsetRight = function getTipOffsetRight(place) {\n    var offset_X = defaultOffset[place].r;\n    return mouseX + offset_X + extraOffset_X;\n  };\n\n  var getTipOffsetTop = function getTipOffsetTop(place) {\n    var offset_Y = defaultOffset[place].t;\n    return mouseY + offset_Y + extraOffset_Y;\n  };\n\n  var getTipOffsetBottom = function getTipOffsetBottom(place) {\n    var offset_Y = defaultOffset[place].b;\n    return mouseY + offset_Y + extraOffset_Y;\n  }; //\n  // Functions to test whether the tooltip's sides are inside\n  // the client window for a given orientation p\n  //\n  //  _____________\n  // |             | <-- Right side\n  // | p = 'left'  |\\\n  // |             |/  |\\\n  // |_____________|   |_\\  <-- Mouse\n  //      / \\           |\n  //       |\n  //       |\n  //  Bottom side\n  //\n\n\n  var outsideLeft = function outsideLeft(p) {\n    return getTipOffsetLeft(p) < 0;\n  };\n\n  var outsideRight = function outsideRight(p) {\n    return getTipOffsetRight(p) > windowWidth;\n  };\n\n  var outsideTop = function outsideTop(p) {\n    return getTipOffsetTop(p) < 0;\n  };\n\n  var outsideBottom = function outsideBottom(p) {\n    return getTipOffsetBottom(p) > windowHeight;\n  }; // Check whether the tooltip with orientation p is completely inside the client window\n\n\n  var outside = function outside(p) {\n    return outsideLeft(p) || outsideRight(p) || outsideTop(p) || outsideBottom(p);\n  };\n\n  var inside = function inside(p) {\n    return !outside(p);\n  };\n\n  var placesList = [\"top\", \"bottom\", \"left\", \"right\"];\n  var insideList = [];\n\n  for (var i = 0; i < 4; i++) {\n    var p = placesList[i];\n\n    if (inside(p)) {\n      insideList.push(p);\n    }\n  }\n\n  var isNewState = false;\n  var newPlace;\n  var shouldUpdatePlace = desiredPlace !== place;\n\n  if (inside(desiredPlace) && shouldUpdatePlace) {\n    isNewState = true;\n    newPlace = desiredPlace;\n  } else if (insideList.length > 0 && shouldUpdatePlace && outside(desiredPlace) && outside(place)) {\n    isNewState = true;\n    newPlace = insideList[0];\n  }\n\n  if (isNewState) {\n    return {\n      isNewState: true,\n      newState: {\n        place: newPlace\n      }\n    };\n  }\n\n  return {\n    isNewState: false,\n    position: {\n      left: parseInt(getTipOffsetLeft(place) - parentLeft, 10),\n      top: parseInt(getTipOffsetTop(place) - parentTop, 10)\n    }\n  };\n}\n\nvar getDimensions = function getDimensions(node) {\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n      height = _node$getBoundingClie.height,\n      width = _node$getBoundingClie.width;\n\n  return {\n    height: parseInt(height, 10),\n    width: parseInt(width, 10)\n  };\n}; // Get current mouse offset\n\n\nvar getCurrentOffset = function getCurrentOffset(e, currentTarget, effect) {\n  var boundingClientRect = currentTarget.getBoundingClientRect();\n  var targetTop = boundingClientRect.top;\n  var targetLeft = boundingClientRect.left;\n\n  var _getDimensions3 = getDimensions(currentTarget),\n      targetWidth = _getDimensions3.width,\n      targetHeight = _getDimensions3.height;\n\n  if (effect === \"float\") {\n    return {\n      mouseX: e.clientX,\n      mouseY: e.clientY\n    };\n  }\n\n  return {\n    mouseX: targetLeft + targetWidth / 2,\n    mouseY: targetTop + targetHeight / 2\n  };\n}; // List all possibility of tooltip final offset\n// This is useful in judging if it is necessary for tooltip to switch position when out of window\n\n\nvar getDefaultPosition = function getDefaultPosition(effect, targetWidth, targetHeight, tipWidth, tipHeight) {\n  var top;\n  var right;\n  var bottom;\n  var left;\n  var disToMouse = 3;\n  var triangleHeight = 2;\n  var cursorHeight = 12; // Optimize for float bottom only, cause the cursor will hide the tooltip\n\n  if (effect === \"float\") {\n    top = {\n      l: -(tipWidth / 2),\n      r: tipWidth / 2,\n      t: -(tipHeight + disToMouse + triangleHeight),\n      b: -disToMouse\n    };\n    bottom = {\n      l: -(tipWidth / 2),\n      r: tipWidth / 2,\n      t: disToMouse + cursorHeight,\n      b: tipHeight + disToMouse + triangleHeight + cursorHeight\n    };\n    left = {\n      l: -(tipWidth + disToMouse + triangleHeight),\n      r: -disToMouse,\n      t: -(tipHeight / 2),\n      b: tipHeight / 2\n    };\n    right = {\n      l: disToMouse,\n      r: tipWidth + disToMouse + triangleHeight,\n      t: -(tipHeight / 2),\n      b: tipHeight / 2\n    };\n  } else if (effect === \"solid\") {\n    top = {\n      l: -(tipWidth / 2),\n      r: tipWidth / 2,\n      t: -(targetHeight / 2 + tipHeight + triangleHeight),\n      b: -(targetHeight / 2)\n    };\n    bottom = {\n      l: -(tipWidth / 2),\n      r: tipWidth / 2,\n      t: targetHeight / 2,\n      b: targetHeight / 2 + tipHeight + triangleHeight\n    };\n    left = {\n      l: -(tipWidth + targetWidth / 2 + triangleHeight),\n      r: -(targetWidth / 2),\n      t: -(tipHeight / 2),\n      b: tipHeight / 2\n    };\n    right = {\n      l: targetWidth / 2,\n      r: tipWidth + targetWidth / 2 + triangleHeight,\n      t: -(tipHeight / 2),\n      b: tipHeight / 2\n    };\n  }\n\n  return {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right\n  };\n}; // Consider additional offset into position calculation\n\n\nvar calculateOffset = function calculateOffset(offset) {\n  var extraOffset_X = 0;\n  var extraOffset_Y = 0;\n\n  if (Object.prototype.toString.apply(offset) === \"[object String]\") {\n    offset = JSON.parse(offset.toString().replace(/\\'/g, '\"'));\n  }\n\n  for (var key in offset) {\n    if (key === \"top\") {\n      extraOffset_Y -= parseInt(offset[key], 10);\n    } else if (key === \"bottom\") {\n      extraOffset_Y += parseInt(offset[key], 10);\n    } else if (key === \"left\") {\n      extraOffset_X -= parseInt(offset[key], 10);\n    } else if (key === \"right\") {\n      extraOffset_X += parseInt(offset[key], 10);\n    }\n  }\n\n  return {\n    extraOffset_X: extraOffset_X,\n    extraOffset_Y: extraOffset_Y\n  };\n}; // Get the offset of the parent elements\n\n\nvar getParent = function getParent(currentTarget) {\n  var currentParent = currentTarget;\n\n  while (currentParent) {\n    if (window.getComputedStyle(currentParent).getPropertyValue(\"transform\") !== \"none\") break;\n    currentParent = currentParent.parentElement;\n  }\n\n  var parentTop = currentParent && currentParent.getBoundingClientRect().top || 0;\n  var parentLeft = currentParent && currentParent.getBoundingClientRect().left || 0;\n  return {\n    parentTop: parentTop,\n    parentLeft: parentLeft\n  };\n};\n\n/**\n * To get the tooltip content\n * it may comes from data-tip or this.props.children\n * it should support multiline\n *\n * @params\n * - `tip` {String} value of data-tip\n * - `children` {ReactElement} this.props.children\n * - `multiline` {Any} could be Bool(true/false) or String('true'/'false')\n *\n * @return\n * - String or react component\n */\nfunction getTipContent (tip, children, getContent, multiline) {\n  if (children) return children;\n  if (getContent !== undefined && getContent !== null) return getContent; // getContent can be 0, '', etc.\n\n  if (getContent === null) return null; // Tip not exist and children is null or undefined\n\n  var regexp = /<br\\s*\\/?>/;\n\n  if (!multiline || multiline === \"false\" || !regexp.test(tip)) {\n    // No trim(), so that user can keep their input\n    return tip;\n  } // Multiline tooltip content\n\n\n  return tip.split(regexp).map(function (d, i) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      key: i,\n      className: \"multi-line\"\n    }, d);\n  });\n}\n\n/**\n * Support aria- and role in ReactTooltip\n *\n * @params props {Object}\n * @return {Object}\n */\nfunction parseAria(props) {\n  var ariaObj = {};\n  Object.keys(props).filter(function (prop) {\n    // aria-xxx and role is acceptable\n    return /(^aria-\\w+$|^role$)/.test(prop);\n  }).forEach(function (prop) {\n    ariaObj[prop] = props[prop];\n  });\n  return ariaObj;\n}\n\n/**\n * Convert nodelist to array\n * @see https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/core/createArrayFromMixed.js#L24\n * NodeLists are functions in Safari\n */\nfunction nodeListToArray (nodeList) {\n  var length = nodeList.length;\n\n  if (nodeList.hasOwnProperty) {\n    return Array.prototype.slice.call(nodeList);\n  }\n\n  return new Array(length).fill().map(function (index) {\n    return nodeList[index];\n  });\n}\n\n___$insertStyle(\".__react_component_tooltip {\\n  border-radius: 3px;\\n  display: inline-block;\\n  font-size: 13px;\\n  left: -999em;\\n  opacity: 0;\\n  padding: 8px 21px;\\n  position: fixed;\\n  pointer-events: none;\\n  transition: opacity 0.3s ease-out;\\n  top: -999em;\\n  visibility: hidden;\\n  z-index: 999;\\n}\\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\\n  pointer-events: auto;\\n}\\n.__react_component_tooltip:before, .__react_component_tooltip:after {\\n  content: \\\"\\\";\\n  width: 0;\\n  height: 0;\\n  position: absolute;\\n}\\n.__react_component_tooltip.show {\\n  opacity: 0.9;\\n  margin-top: 0px;\\n  margin-left: 0px;\\n  visibility: visible;\\n}\\n.__react_component_tooltip.type-dark {\\n  color: #fff;\\n  background-color: #222;\\n}\\n.__react_component_tooltip.type-dark.place-top:after {\\n  border-top-color: #222;\\n  border-top-style: solid;\\n  border-top-width: 6px;\\n}\\n.__react_component_tooltip.type-dark.place-bottom:after {\\n  border-bottom-color: #222;\\n  border-bottom-style: solid;\\n  border-bottom-width: 6px;\\n}\\n.__react_component_tooltip.type-dark.place-left:after {\\n  border-left-color: #222;\\n  border-left-style: solid;\\n  border-left-width: 6px;\\n}\\n.__react_component_tooltip.type-dark.place-right:after {\\n  border-right-color: #222;\\n  border-right-style: solid;\\n  border-right-width: 6px;\\n}\\n.__react_component_tooltip.type-dark.border {\\n  border: 1px solid #fff;\\n}\\n.__react_component_tooltip.type-dark.border.place-top:before {\\n  border-top: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-dark.border.place-bottom:before {\\n  border-bottom: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-dark.border.place-left:before {\\n  border-left: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-dark.border.place-right:before {\\n  border-right: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-success {\\n  color: #fff;\\n  background-color: #8DC572;\\n}\\n.__react_component_tooltip.type-success.place-top:after {\\n  border-top-color: #8DC572;\\n  border-top-style: solid;\\n  border-top-width: 6px;\\n}\\n.__react_component_tooltip.type-success.place-bottom:after {\\n  border-bottom-color: #8DC572;\\n  border-bottom-style: solid;\\n  border-bottom-width: 6px;\\n}\\n.__react_component_tooltip.type-success.place-left:after {\\n  border-left-color: #8DC572;\\n  border-left-style: solid;\\n  border-left-width: 6px;\\n}\\n.__react_component_tooltip.type-success.place-right:after {\\n  border-right-color: #8DC572;\\n  border-right-style: solid;\\n  border-right-width: 6px;\\n}\\n.__react_component_tooltip.type-success.border {\\n  border: 1px solid #fff;\\n}\\n.__react_component_tooltip.type-success.border.place-top:before {\\n  border-top: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-success.border.place-bottom:before {\\n  border-bottom: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-success.border.place-left:before {\\n  border-left: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-success.border.place-right:before {\\n  border-right: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-warning {\\n  color: #fff;\\n  background-color: #F0AD4E;\\n}\\n.__react_component_tooltip.type-warning.place-top:after {\\n  border-top-color: #F0AD4E;\\n  border-top-style: solid;\\n  border-top-width: 6px;\\n}\\n.__react_component_tooltip.type-warning.place-bottom:after {\\n  border-bottom-color: #F0AD4E;\\n  border-bottom-style: solid;\\n  border-bottom-width: 6px;\\n}\\n.__react_component_tooltip.type-warning.place-left:after {\\n  border-left-color: #F0AD4E;\\n  border-left-style: solid;\\n  border-left-width: 6px;\\n}\\n.__react_component_tooltip.type-warning.place-right:after {\\n  border-right-color: #F0AD4E;\\n  border-right-style: solid;\\n  border-right-width: 6px;\\n}\\n.__react_component_tooltip.type-warning.border {\\n  border: 1px solid #fff;\\n}\\n.__react_component_tooltip.type-warning.border.place-top:before {\\n  border-top: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-warning.border.place-bottom:before {\\n  border-bottom: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-warning.border.place-left:before {\\n  border-left: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-warning.border.place-right:before {\\n  border-right: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-error {\\n  color: #fff;\\n  background-color: #BE6464;\\n}\\n.__react_component_tooltip.type-error.place-top:after {\\n  border-top-color: #BE6464;\\n  border-top-style: solid;\\n  border-top-width: 6px;\\n}\\n.__react_component_tooltip.type-error.place-bottom:after {\\n  border-bottom-color: #BE6464;\\n  border-bottom-style: solid;\\n  border-bottom-width: 6px;\\n}\\n.__react_component_tooltip.type-error.place-left:after {\\n  border-left-color: #BE6464;\\n  border-left-style: solid;\\n  border-left-width: 6px;\\n}\\n.__react_component_tooltip.type-error.place-right:after {\\n  border-right-color: #BE6464;\\n  border-right-style: solid;\\n  border-right-width: 6px;\\n}\\n.__react_component_tooltip.type-error.border {\\n  border: 1px solid #fff;\\n}\\n.__react_component_tooltip.type-error.border.place-top:before {\\n  border-top: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-error.border.place-bottom:before {\\n  border-bottom: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-error.border.place-left:before {\\n  border-left: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-error.border.place-right:before {\\n  border-right: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-info {\\n  color: #fff;\\n  background-color: #337AB7;\\n}\\n.__react_component_tooltip.type-info.place-top:after {\\n  border-top-color: #337AB7;\\n  border-top-style: solid;\\n  border-top-width: 6px;\\n}\\n.__react_component_tooltip.type-info.place-bottom:after {\\n  border-bottom-color: #337AB7;\\n  border-bottom-style: solid;\\n  border-bottom-width: 6px;\\n}\\n.__react_component_tooltip.type-info.place-left:after {\\n  border-left-color: #337AB7;\\n  border-left-style: solid;\\n  border-left-width: 6px;\\n}\\n.__react_component_tooltip.type-info.place-right:after {\\n  border-right-color: #337AB7;\\n  border-right-style: solid;\\n  border-right-width: 6px;\\n}\\n.__react_component_tooltip.type-info.border {\\n  border: 1px solid #fff;\\n}\\n.__react_component_tooltip.type-info.border.place-top:before {\\n  border-top: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-info.border.place-bottom:before {\\n  border-bottom: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-info.border.place-left:before {\\n  border-left: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-info.border.place-right:before {\\n  border-right: 8px solid #fff;\\n}\\n.__react_component_tooltip.type-light {\\n  color: #222;\\n  background-color: #fff;\\n}\\n.__react_component_tooltip.type-light.place-top:after {\\n  border-top-color: #fff;\\n  border-top-style: solid;\\n  border-top-width: 6px;\\n}\\n.__react_component_tooltip.type-light.place-bottom:after {\\n  border-bottom-color: #fff;\\n  border-bottom-style: solid;\\n  border-bottom-width: 6px;\\n}\\n.__react_component_tooltip.type-light.place-left:after {\\n  border-left-color: #fff;\\n  border-left-style: solid;\\n  border-left-width: 6px;\\n}\\n.__react_component_tooltip.type-light.place-right:after {\\n  border-right-color: #fff;\\n  border-right-style: solid;\\n  border-right-width: 6px;\\n}\\n.__react_component_tooltip.type-light.border {\\n  border: 1px solid #222;\\n}\\n.__react_component_tooltip.type-light.border.place-top:before {\\n  border-top: 8px solid #222;\\n}\\n.__react_component_tooltip.type-light.border.place-bottom:before {\\n  border-bottom: 8px solid #222;\\n}\\n.__react_component_tooltip.type-light.border.place-left:before {\\n  border-left: 8px solid #222;\\n}\\n.__react_component_tooltip.type-light.border.place-right:before {\\n  border-right: 8px solid #222;\\n}\\n.__react_component_tooltip.place-top {\\n  margin-top: -10px;\\n}\\n.__react_component_tooltip.place-top:before {\\n  border-left: 10px solid transparent;\\n  border-right: 10px solid transparent;\\n  bottom: -8px;\\n  left: 50%;\\n  margin-left: -10px;\\n}\\n.__react_component_tooltip.place-top:after {\\n  border-left: 8px solid transparent;\\n  border-right: 8px solid transparent;\\n  bottom: -6px;\\n  left: 50%;\\n  margin-left: -8px;\\n}\\n.__react_component_tooltip.place-bottom {\\n  margin-top: 10px;\\n}\\n.__react_component_tooltip.place-bottom:before {\\n  border-left: 10px solid transparent;\\n  border-right: 10px solid transparent;\\n  top: -8px;\\n  left: 50%;\\n  margin-left: -10px;\\n}\\n.__react_component_tooltip.place-bottom:after {\\n  border-left: 8px solid transparent;\\n  border-right: 8px solid transparent;\\n  top: -6px;\\n  left: 50%;\\n  margin-left: -8px;\\n}\\n.__react_component_tooltip.place-left {\\n  margin-left: -10px;\\n}\\n.__react_component_tooltip.place-left:before {\\n  border-top: 6px solid transparent;\\n  border-bottom: 6px solid transparent;\\n  right: -8px;\\n  top: 50%;\\n  margin-top: -5px;\\n}\\n.__react_component_tooltip.place-left:after {\\n  border-top: 5px solid transparent;\\n  border-bottom: 5px solid transparent;\\n  right: -6px;\\n  top: 50%;\\n  margin-top: -4px;\\n}\\n.__react_component_tooltip.place-right {\\n  margin-left: 10px;\\n}\\n.__react_component_tooltip.place-right:before {\\n  border-top: 6px solid transparent;\\n  border-bottom: 6px solid transparent;\\n  left: -8px;\\n  top: 50%;\\n  margin-top: -5px;\\n}\\n.__react_component_tooltip.place-right:after {\\n  border-top: 5px solid transparent;\\n  border-bottom: 5px solid transparent;\\n  left: -6px;\\n  top: 50%;\\n  margin-top: -4px;\\n}\\n.__react_component_tooltip .multi-line {\\n  display: block;\\n  padding: 2px 0px;\\n  text-align: center;\\n}\");\n\nvar _class, _class2, _temp;\n\nvar ReactTooltip = staticMethods(_class = windowListener(_class = customEvent(_class = isCapture(_class = getEffect(_class = bodyMode(_class = trackRemoval(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ReactTooltip, _React$Component);\n\n  function ReactTooltip(props) {\n    var _this;\n\n    _classCallCheck(this, ReactTooltip);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactTooltip).call(this, props));\n    _this.state = {\n      place: props.place || \"top\",\n      // Direction of tooltip\n      desiredPlace: props.place || \"top\",\n      type: \"dark\",\n      // Color theme of tooltip\n      effect: \"float\",\n      // float or fixed\n      show: false,\n      border: false,\n      offset: {},\n      extraClass: \"\",\n      html: false,\n      delayHide: 0,\n      delayShow: 0,\n      event: props.event || null,\n      eventOff: props.eventOff || null,\n      currentEvent: null,\n      // Current mouse event\n      currentTarget: null,\n      // Current target of mouse event\n      ariaProps: parseAria(props),\n      // aria- and role attributes\n      isEmptyTip: false,\n      disable: false,\n      possibleCustomEvents: props.possibleCustomEvents || \"\",\n      possibleCustomEventsOff: props.possibleCustomEventsOff || \"\",\n      originTooltip: null,\n      isMultiline: false\n    };\n\n    _this.bind([\"showTooltip\", \"updateTooltip\", \"hideTooltip\", \"hideTooltipOnScroll\", \"getTooltipContent\", \"globalRebuild\", \"globalShow\", \"globalHide\", \"onWindowResize\", \"mouseOnToolTip\"]);\n\n    _this.mount = true;\n    _this.delayShowLoop = null;\n    _this.delayHideLoop = null;\n    _this.delayReshow = null;\n    _this.intervalUpdateContent = null;\n    return _this;\n  }\n  /**\n   * For unify the bind and unbind listener\n   */\n\n\n  _createClass(ReactTooltip, [{\n    key: \"bind\",\n    value: function bind(methodArray) {\n      var _this2 = this;\n\n      methodArray.forEach(function (method) {\n        _this2[method] = _this2[method].bind(_this2);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          insecure = _this$props.insecure,\n          resizeHide = _this$props.resizeHide;\n\n      this.bindListener(); // Bind listener for tooltip\n\n      this.bindWindowEvents(resizeHide); // Bind global event for static method\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mount = false;\n      this.clearTimer();\n      this.unbindListener();\n      this.removeScrollListener();\n      this.unbindWindowEvents();\n    }\n    /**\n     * Return if the mouse is on the tooltip.\n     * @returns {boolean} true - mouse is on the tooltip\n     */\n\n  }, {\n    key: \"mouseOnToolTip\",\n    value: function mouseOnToolTip() {\n      var show = this.state.show;\n\n      if (show && this.tooltipRef) {\n        /* old IE or Firefox work around */\n        if (!this.tooltipRef.matches) {\n          /* old IE work around */\n          if (this.tooltipRef.msMatchesSelector) {\n            this.tooltipRef.matches = this.tooltipRef.msMatchesSelector;\n          } else {\n            /* old Firefox work around */\n            this.tooltipRef.matches = this.tooltipRef.mozMatchesSelector;\n          }\n        }\n\n        return this.tooltipRef.matches(\":hover\");\n      }\n\n      return false;\n    }\n    /**\n     * Pick out corresponded target elements\n     */\n\n  }, {\n    key: \"getTargetArray\",\n    value: function getTargetArray(id) {\n      var targetArray;\n\n      if (!id) {\n        targetArray = document.querySelectorAll(\"[data-tip]:not([data-for])\");\n      } else {\n        var escaped = id.replace(/\\\\/g, \"\\\\\\\\\").replace(/\"/g, '\\\\\"');\n        targetArray = document.querySelectorAll(\"[data-tip][data-for=\\\"\".concat(escaped, \"\\\"]\"));\n      } // targetArray is a NodeList, convert it to a real array\n\n\n      return nodeListToArray(targetArray);\n    }\n    /**\n     * Bind listener to the target elements\n     * These listeners used to trigger showing or hiding the tooltip\n     */\n\n  }, {\n    key: \"bindListener\",\n    value: function bindListener() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          id = _this$props2.id,\n          globalEventOff = _this$props2.globalEventOff,\n          isCapture = _this$props2.isCapture;\n      var targetArray = this.getTargetArray(id);\n      targetArray.forEach(function (target) {\n        if (target.getAttribute(\"currentItem\") === null) {\n          target.setAttribute(\"currentItem\", \"false\");\n        }\n\n        _this3.unbindBasicListener(target);\n\n        if (_this3.isCustomEvent(target)) {\n          _this3.customUnbindListener(target);\n        }\n      });\n\n      if (this.isBodyMode()) {\n        this.bindBodyListener(targetArray);\n      } else {\n        targetArray.forEach(function (target) {\n          var isCaptureMode = _this3.isCapture(target);\n\n          var effect = _this3.getEffect(target);\n\n          if (_this3.isCustomEvent(target)) {\n            _this3.customBindListener(target);\n\n            return;\n          }\n\n          target.addEventListener(\"mouseenter\", _this3.showTooltip, isCaptureMode);\n\n          if (effect === \"float\") {\n            target.addEventListener(\"mousemove\", _this3.updateTooltip, isCaptureMode);\n          }\n\n          target.addEventListener(\"mouseleave\", _this3.hideTooltip, isCaptureMode);\n        });\n      } // Global event to hide tooltip\n\n\n      if (globalEventOff) {\n        window.removeEventListener(globalEventOff, this.hideTooltip);\n        window.addEventListener(globalEventOff, this.hideTooltip, isCapture);\n      } // Track removal of targetArray elements from DOM\n\n\n      this.bindRemovalTracker();\n    }\n    /**\n     * Unbind listeners on target elements\n     */\n\n  }, {\n    key: \"unbindListener\",\n    value: function unbindListener() {\n      var _this4 = this;\n\n      var _this$props3 = this.props,\n          id = _this$props3.id,\n          globalEventOff = _this$props3.globalEventOff;\n\n      if (this.isBodyMode()) {\n        this.unbindBodyListener();\n      } else {\n        var targetArray = this.getTargetArray(id);\n        targetArray.forEach(function (target) {\n          _this4.unbindBasicListener(target);\n\n          if (_this4.isCustomEvent(target)) _this4.customUnbindListener(target);\n        });\n      }\n\n      if (globalEventOff) window.removeEventListener(globalEventOff, this.hideTooltip);\n      this.unbindRemovalTracker();\n    }\n    /**\n     * Invoke this before bind listener and unmount the component\n     * it is necessary to invoke this even when binding custom event\n     * so that the tooltip can switch between custom and default listener\n     */\n\n  }, {\n    key: \"unbindBasicListener\",\n    value: function unbindBasicListener(target) {\n      var isCaptureMode = this.isCapture(target);\n      target.removeEventListener(\"mouseenter\", this.showTooltip, isCaptureMode);\n      target.removeEventListener(\"mousemove\", this.updateTooltip, isCaptureMode);\n      target.removeEventListener(\"mouseleave\", this.hideTooltip, isCaptureMode);\n    }\n  }, {\n    key: \"getTooltipContent\",\n    value: function getTooltipContent() {\n      var _this$props4 = this.props,\n          getContent = _this$props4.getContent,\n          children = _this$props4.children; // Generate tooltip content\n\n      var content;\n\n      if (getContent) {\n        if (Array.isArray(getContent)) {\n          content = getContent[0] && getContent[0](this.state.originTooltip);\n        } else {\n          content = getContent(this.state.originTooltip);\n        }\n      }\n\n      return getTipContent(this.state.originTooltip, children, content, this.state.isMultiline);\n    }\n  }, {\n    key: \"isEmptyTip\",\n    value: function isEmptyTip(placeholder) {\n      return typeof placeholder === \"string\" && placeholder === \"\" || placeholder === null;\n    }\n    /**\n     * When mouse enter, show the tooltip\n     */\n\n  }, {\n    key: \"showTooltip\",\n    value: function showTooltip(e, isGlobalCall) {\n      if (isGlobalCall) {\n        // Don't trigger other elements belongs to other ReactTooltip\n        var targetArray = this.getTargetArray(this.props.id);\n        var isMyElement = targetArray.some(function (ele) {\n          return ele === e.currentTarget;\n        });\n        if (!isMyElement) return;\n      } // Get the tooltip content\n      // calculate in this phrase so that tip width height can be detected\n\n\n      var _this$props5 = this.props,\n          multiline = _this$props5.multiline,\n          getContent = _this$props5.getContent;\n      var originTooltip = e.currentTarget.getAttribute(\"data-tip\");\n      var isMultiline = e.currentTarget.getAttribute(\"data-multiline\") || multiline || false; // If it is focus event or called by ReactTooltip.show, switch to `solid` effect\n\n      var switchToSolid = e instanceof window.FocusEvent || isGlobalCall; // if it needs to skip adding hide listener to scroll\n\n      var scrollHide = true;\n\n      if (e.currentTarget.getAttribute(\"data-scroll-hide\")) {\n        scrollHide = e.currentTarget.getAttribute(\"data-scroll-hide\") === \"true\";\n      } else if (this.props.scrollHide != null) {\n        scrollHide = this.props.scrollHide;\n      } // Make sure the correct place is set\n\n\n      var desiredPlace = e.currentTarget.getAttribute(\"data-place\") || this.props.place || \"top\";\n      var effect = switchToSolid && \"solid\" || this.getEffect(e.currentTarget);\n      var offset = e.currentTarget.getAttribute(\"data-offset\") || this.props.offset || {};\n      var result = getPosition(e, e.currentTarget, this.tooltipRef, desiredPlace, desiredPlace, effect, offset);\n\n      if (result.position && this.props.overridePosition) {\n        result.position = this.props.overridePosition(result.position, e.currentTarget, this.tooltipRef, desiredPlace, desiredPlace, effect, offset);\n      }\n\n      var place = result.isNewState ? result.newState.place : desiredPlace; // To prevent previously created timers from triggering\n\n      this.clearTimer();\n      var target = e.currentTarget;\n      var reshowDelay = this.state.show ? target.getAttribute(\"data-delay-update\") || this.props.delayUpdate : 0;\n      var self = this;\n\n      var updateState = function updateState() {\n        self.setState({\n          originTooltip: originTooltip,\n          isMultiline: isMultiline,\n          desiredPlace: desiredPlace,\n          place: place,\n          type: target.getAttribute(\"data-type\") || self.props.type || \"dark\",\n          effect: effect,\n          offset: offset,\n          html: target.getAttribute(\"data-html\") ? target.getAttribute(\"data-html\") === \"true\" : self.props.html || false,\n          delayShow: target.getAttribute(\"data-delay-show\") || self.props.delayShow || 0,\n          delayHide: target.getAttribute(\"data-delay-hide\") || self.props.delayHide || 0,\n          delayUpdate: target.getAttribute(\"data-delay-update\") || self.props.delayUpdate || 0,\n          border: target.getAttribute(\"data-border\") ? target.getAttribute(\"data-border\") === \"true\" : self.props.border || false,\n          extraClass: target.getAttribute(\"data-class\") || self.props[\"class\"] || self.props.className || \"\",\n          disable: target.getAttribute(\"data-tip-disable\") ? target.getAttribute(\"data-tip-disable\") === \"true\" : self.props.disable || false,\n          currentTarget: target\n        }, function () {\n          if (scrollHide) self.addScrollListener(self.state.currentTarget);\n          self.updateTooltip(e);\n\n          if (getContent && Array.isArray(getContent)) {\n            self.intervalUpdateContent = setInterval(function () {\n              if (self.mount) {\n                var _getContent = self.props.getContent;\n                var placeholder = getTipContent(originTooltip, \"\", _getContent[0](), isMultiline);\n                var isEmptyTip = self.isEmptyTip(placeholder);\n                self.setState({\n                  isEmptyTip: isEmptyTip\n                });\n                self.updatePosition();\n              }\n            }, getContent[1]);\n          }\n        });\n      }; // If there is no delay call immediately, don't allow events to get in first.\n\n\n      if (reshowDelay) {\n        this.delayReshow = setTimeout(updateState, reshowDelay);\n      } else {\n        updateState();\n      }\n    }\n    /**\n     * When mouse hover, update tool tip\n     */\n\n  }, {\n    key: \"updateTooltip\",\n    value: function updateTooltip(e) {\n      var _this5 = this;\n\n      var _this$state = this.state,\n          delayShow = _this$state.delayShow,\n          disable = _this$state.disable;\n      var afterShow = this.props.afterShow;\n      var placeholder = this.getTooltipContent();\n      var delayTime = parseInt(delayShow, 10);\n      var eventTarget = e.currentTarget || e.target; // Check if the mouse is actually over the tooltip, if so don't hide the tooltip\n\n      if (this.mouseOnToolTip()) {\n        return;\n      }\n\n      if (this.isEmptyTip(placeholder) || disable) return; // if the tooltip is empty, disable the tooltip\n\n      var updateState = function updateState() {\n        if (Array.isArray(placeholder) && placeholder.length > 0 || placeholder) {\n          var isInvisible = !_this5.state.show;\n\n          _this5.setState({\n            currentEvent: e,\n            currentTarget: eventTarget,\n            show: true\n          }, function () {\n            _this5.updatePosition();\n\n            if (isInvisible && afterShow) afterShow(e);\n          });\n        }\n      };\n\n      clearTimeout(this.delayShowLoop);\n\n      if (delayShow) {\n        this.delayShowLoop = setTimeout(updateState, delayTime);\n      } else {\n        updateState();\n      }\n    }\n    /*\n     * If we're mousing over the tooltip remove it when we leave.\n     */\n\n  }, {\n    key: \"listenForTooltipExit\",\n    value: function listenForTooltipExit() {\n      var show = this.state.show;\n\n      if (show && this.tooltipRef) {\n        this.tooltipRef.addEventListener(\"mouseleave\", this.hideTooltip);\n      }\n    }\n  }, {\n    key: \"removeListenerForTooltipExit\",\n    value: function removeListenerForTooltipExit() {\n      var show = this.state.show;\n\n      if (show && this.tooltipRef) {\n        this.tooltipRef.removeEventListener(\"mouseleave\", this.hideTooltip);\n      }\n    }\n    /**\n     * When mouse leave, hide tooltip\n     */\n\n  }, {\n    key: \"hideTooltip\",\n    value: function hideTooltip(e, hasTarget) {\n      var _this6 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n        isScroll: false\n      };\n      var disable = this.state.disable;\n      var isScroll = options.isScroll;\n      var delayHide = isScroll ? 0 : this.state.delayHide;\n      var afterHide = this.props.afterHide;\n      var placeholder = this.getTooltipContent();\n      if (!this.mount) return;\n      if (this.isEmptyTip(placeholder) || disable) return; // if the tooltip is empty, disable the tooltip\n\n      if (hasTarget) {\n        // Don't trigger other elements belongs to other ReactTooltip\n        var targetArray = this.getTargetArray(this.props.id);\n        var isMyElement = targetArray.some(function (ele) {\n          return ele === e.currentTarget;\n        });\n        if (!isMyElement || !this.state.show) return;\n      }\n\n      var resetState = function resetState() {\n        var isVisible = _this6.state.show; // Check if the mouse is actually over the tooltip, if so don't hide the tooltip\n\n        if (_this6.mouseOnToolTip()) {\n          _this6.listenForTooltipExit();\n\n          return;\n        }\n\n        _this6.removeListenerForTooltipExit();\n\n        _this6.setState({\n          show: false\n        }, function () {\n          _this6.removeScrollListener();\n\n          if (isVisible && afterHide) afterHide(e);\n        });\n      };\n\n      this.clearTimer();\n\n      if (delayHide) {\n        this.delayHideLoop = setTimeout(resetState, parseInt(delayHide, 10));\n      } else {\n        resetState();\n      }\n    }\n    /**\n     * When scroll, hide tooltip\n     */\n\n  }, {\n    key: \"hideTooltipOnScroll\",\n    value: function hideTooltipOnScroll(event, hasTarget) {\n      this.hideTooltip(event, hasTarget, {\n        isScroll: true\n      });\n    }\n    /**\n     * Add scroll event listener when tooltip show\n     * automatically hide the tooltip when scrolling\n     */\n\n  }, {\n    key: \"addScrollListener\",\n    value: function addScrollListener(currentTarget) {\n      var isCaptureMode = this.isCapture(currentTarget);\n      window.addEventListener(\"scroll\", this.hideTooltipOnScroll, isCaptureMode);\n    }\n  }, {\n    key: \"removeScrollListener\",\n    value: function removeScrollListener() {\n      window.removeEventListener(\"scroll\", this.hideTooltipOnScroll);\n    } // Calculation the position\n\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition() {\n      var _this7 = this;\n\n      var _this$state2 = this.state,\n          currentEvent = _this$state2.currentEvent,\n          currentTarget = _this$state2.currentTarget,\n          place = _this$state2.place,\n          desiredPlace = _this$state2.desiredPlace,\n          effect = _this$state2.effect,\n          offset = _this$state2.offset;\n      var node = this.tooltipRef;\n      var result = getPosition(currentEvent, currentTarget, node, place, desiredPlace, effect, offset);\n\n      if (result.position && this.props.overridePosition) {\n        result.position = this.props.overridePosition(result.position, currentEvent, currentTarget, node, place, desiredPlace, effect, offset);\n      }\n\n      if (result.isNewState) {\n        // Switch to reverse placement\n        return this.setState(result.newState, function () {\n          _this7.updatePosition();\n        });\n      } // Set tooltip position\n\n\n      node.style.left = result.position.left + \"px\";\n      node.style.top = result.position.top + \"px\";\n    }\n    /**\n     * Set style tag in header\n     * in this way we can insert default css\n     */\n\n    /* setStyleHeader() {\n      const head = document.getElementsByTagName(\"head\")[0];\n      if (!head.querySelector('style[id=\"react-tooltip\"]')) {\n        const tag = document.createElement(\"style\");\n        tag.id = \"react-tooltip\";\n        tag.innerHTML = cssStyle; */\n\n    /* eslint-disable */\n\n    /*      if (typeof __webpack_nonce__ !== 'undefined' && __webpack_nonce__) {\n            tag.setAttribute('nonce', __webpack_nonce__)\n          }*/\n\n    /* eslint-enable */\n\n    /*    head.insertBefore(tag, head.firstChild);\n      }\n    } */\n\n    /**\n     * CLear all kinds of timeout of interval\n     */\n\n  }, {\n    key: \"clearTimer\",\n    value: function clearTimer() {\n      clearTimeout(this.delayShowLoop);\n      clearTimeout(this.delayHideLoop);\n      clearTimeout(this.delayReshow);\n      clearInterval(this.intervalUpdateContent);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n\n      var _this$state3 = this.state,\n          extraClass = _this$state3.extraClass,\n          html = _this$state3.html,\n          ariaProps = _this$state3.ariaProps,\n          disable = _this$state3.disable;\n      var placeholder = this.getTooltipContent();\n      var isEmptyTip = this.isEmptyTip(placeholder);\n      var tooltipClass = \"__react_component_tooltip\" + (this.state.show && !disable && !isEmptyTip ? \" show\" : \"\") + (this.state.border ? \" border\" : \"\") + \" place-\".concat(this.state.place) + // top, bottom, left, right\n      \" type-\".concat(this.state.type) + ( // dark, success, warning, error, info, light\n      this.props.delayUpdate ? \" allow_hover\" : \"\") + (this.props.clickable ? \" allow_click\" : \"\");\n      var Wrapper = this.props.wrapper;\n\n      if (ReactTooltip.supportedWrappers.indexOf(Wrapper) < 0) {\n        Wrapper = ReactTooltip.defaultProps.wrapper;\n      }\n\n      var wrapperClassName = [tooltipClass, extraClass].filter(Boolean).join(\" \");\n\n      if (html) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrapper, _extends({\n          className: wrapperClassName,\n          id: this.props.id,\n          ref: function ref(_ref) {\n            return _this8.tooltipRef = _ref;\n          }\n        }, ariaProps, {\n          \"data-id\": \"tooltip\",\n          dangerouslySetInnerHTML: {\n            __html: placeholder\n          }\n        }));\n      } else {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrapper, _extends({\n          className: wrapperClassName,\n          id: this.props.id\n        }, ariaProps, {\n          ref: function ref(_ref2) {\n            return _this8.tooltipRef = _ref2;\n          },\n          \"data-id\": \"tooltip\"\n        }), placeholder);\n      }\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var ariaProps = prevState.ariaProps;\n      var newAriaProps = parseAria(nextProps);\n      var isChanged = Object.keys(newAriaProps).some(function (props) {\n        return newAriaProps[props] !== ariaProps[props];\n      });\n\n      if (!isChanged) {\n        return null;\n      }\n\n      return _objectSpread2({}, prevState, {\n        ariaProps: newAriaProps\n      });\n    }\n  }]);\n\n  return ReactTooltip;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component), _defineProperty(_class2, \"propTypes\", {\n  children: propTypes.any,\n  place: propTypes.string,\n  type: propTypes.string,\n  effect: propTypes.string,\n  offset: propTypes.object,\n  multiline: propTypes.bool,\n  border: propTypes.bool,\n  insecure: propTypes.bool,\n  \"class\": propTypes.string,\n  className: propTypes.string,\n  id: propTypes.string,\n  html: propTypes.bool,\n  delayHide: propTypes.number,\n  delayUpdate: propTypes.number,\n  delayShow: propTypes.number,\n  event: propTypes.string,\n  eventOff: propTypes.string,\n  watchWindow: propTypes.bool,\n  isCapture: propTypes.bool,\n  globalEventOff: propTypes.string,\n  getContent: propTypes.any,\n  afterShow: propTypes.func,\n  afterHide: propTypes.func,\n  overridePosition: propTypes.func,\n  disable: propTypes.bool,\n  scrollHide: propTypes.bool,\n  resizeHide: propTypes.bool,\n  wrapper: propTypes.string,\n  bodyMode: propTypes.bool,\n  possibleCustomEvents: propTypes.string,\n  possibleCustomEventsOff: propTypes.string,\n  clickable: propTypes.bool\n}), _defineProperty(_class2, \"defaultProps\", {\n  insecure: true,\n  resizeHide: true,\n  wrapper: \"div\",\n  clickable: false\n}), _defineProperty(_class2, \"supportedWrappers\", [\"div\", \"span\"]), _defineProperty(_class2, \"displayName\", \"ReactTooltip\"), _temp)) || _class) || _class) || _class) || _class) || _class) || _class) || _class;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ReactTooltip);\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtdG9vbHRpcC9kaXN0L2luZGV4LmVzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlyZWZveC8uL25vZGVfbW9kdWxlcy9yZWFjdC10b29sdGlwL2Rpc3QvaW5kZXguZXMuanM/NzI5MSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfX18kaW5zZXJ0U3R5bGUoY3NzKSB7XG4gIGlmICghY3NzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cbiAgc3R5bGUuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvY3NzJyk7XG4gIHN0eWxlLmlubmVySFRNTCA9IGNzcztcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIHJldHVybiBjc3M7XG59XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcbiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcbiAgICB9KTtcbiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XG4gIH1cblxuICByZXR1cm4ga2V5cztcbn1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG5cbiAgICBpZiAoaSAlIDIpIHtcbiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgfTtcbiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbn1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuXG4gIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG59XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIHNlbGY7XG59XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgaWYgKGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgcmV0dXJuIGNhbGw7XG4gIH1cblxuICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKi9cblxuZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW5kIGRpc2NhcmRzIGlucHV0czsgaXQgaGFzIG5vIHNpZGUgZWZmZWN0cy4gVGhpcyBpc1xuICogcHJpbWFyaWx5IHVzZWZ1bCBpZGlvbWF0aWNhbGx5IGZvciBvdmVycmlkYWJsZSBmdW5jdGlvbiBlbmRwb2ludHMgd2hpY2hcbiAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG4gKi9cbnZhciBlbXB0eUZ1bmN0aW9uID0gZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9O1xuXG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UgPSBtYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUaGlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQgPSBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59O1xuXG52YXIgZW1wdHlGdW5jdGlvbl8xID0gZW1wdHlGdW5jdGlvbjtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO1xuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KSk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG52YXIgaW52YXJpYW50XzEgPSBpbnZhcmlhbnQ7XG5cbi8qKlxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICovXG5cbnZhciB3YXJuaW5nID0gZW1wdHlGdW5jdGlvbl8xO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGZvcm1hdCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgIH0pO1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG5cbiAgd2FybmluZyA9IGZ1bmN0aW9uIHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArICdtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5pbmRleE9mKCdGYWlsZWQgQ29tcG9zaXRlIHByb3BUeXBlOiAnKSA9PT0gMCkge1xuICAgICAgcmV0dXJuOyAvLyBJZ25vcmUgQ29tcG9zaXRlQ29tcG9uZW50IHByb3B0eXBlIGNoZWNrLlxuICAgIH1cblxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiA+IDIgPyBfbGVuMiAtIDIgOiAwKSwgX2tleTIgPSAyOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTIgLSAyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHByaW50V2FybmluZy5hcHBseSh1bmRlZmluZWQsIFtmb3JtYXRdLmNvbmNhdChhcmdzKSk7XG4gICAgfVxuICB9O1xufVxuXG52YXIgd2FybmluZ18xID0gd2FybmluZztcblxuLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG52YXIgb2JqZWN0QXNzaWduID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXRfMSA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgaW52YXJpYW50JDEgPSBpbnZhcmlhbnRfMTtcbiAgdmFyIHdhcm5pbmckMSA9IHdhcm5pbmdfMTtcbiAgdmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0JDEgPSBSZWFjdFByb3BUeXBlc1NlY3JldF8xO1xuICB2YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuICogRXJyb3IgbWVzc2FnZXMgYXJlIG1lbW9yaXplZCBhbmQgd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMgUnVudGltZSB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHR5cGUtY2hlY2tlZFxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cbiAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBnZXRTdGFjayBSZXR1cm5zIHRoZSBjb21wb25lbnQgc3RhY2suXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGdldFN0YWNrKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgZm9yICh2YXIgdHlwZVNwZWNOYW1lIGluIHR5cGVTcGVjcykge1xuICAgICAgaWYgKHR5cGVTcGVjcy5oYXNPd25Qcm9wZXJ0eSh0eXBlU3BlY05hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuICAgICAgICAvLyBBZnRlciB0aGVzZSBoYXZlIGJlZW4gY2xlYW5lZCB1cCwgd2UnbGwgbGV0IHRoZW0gdGhyb3cuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IGFuIGludmFyaWFudCB0aGF0IGdldHMgY2F1Z2h0LiBJdCdzIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYmVoYXZpb3IgYXMgd2l0aG91dCB0aGlzIHN0YXRlbWVudCBleGNlcHQgd2l0aCBhIGJldHRlciBtZXNzYWdlLlxuICAgICAgICAgIGludmFyaWFudCQxKHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSA9PT0gJ2Z1bmN0aW9uJywgJyVzOiAlcyB0eXBlIGAlc2AgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gJyArICd0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UsIGJ1dCByZWNlaXZlZCBgJXNgLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgbG9jYXRpb24sIHR5cGVTcGVjTmFtZSwgdHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKTtcbiAgICAgICAgICBlcnJvciA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgUmVhY3RQcm9wVHlwZXNTZWNyZXQkMSk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgICAgfVxuICAgICAgICB3YXJuaW5nJDEoIWVycm9yIHx8IGVycm9yIGluc3RhbmNlb2YgRXJyb3IsICclczogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICVzIGAlc2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICsgJ2Z1bmN0aW9uIG11c3QgcmV0dXJuIGBudWxsYCBvciBhbiBgRXJyb3JgIGJ1dCByZXR1cm5lZCBhICVzLiAnICsgJ1lvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gcGFzcyBhbiBhcmd1bWVudCB0byB0aGUgdHlwZSBjaGVja2VyICcgKyAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICsgJ3NoYXBlIGFsbCByZXF1aXJlIGFuIGFyZ3VtZW50KS4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIGxvY2F0aW9uLCB0eXBlU3BlY05hbWUsIHR5cGVvZiBlcnJvcik7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgICAgLy8gT25seSBtb25pdG9yIHRoaXMgZmFpbHVyZSBvbmNlIGJlY2F1c2UgdGhlcmUgdGVuZHMgdG8gYmUgYSBsb3Qgb2YgdGhlXG4gICAgICAgICAgLy8gc2FtZSBlcnJvci5cbiAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuXG4gICAgICAgICAgdmFyIHN0YWNrID0gZ2V0U3RhY2sgPyBnZXRTdGFjaygpIDogJyc7XG5cbiAgICAgICAgICB3YXJuaW5nJDEoZmFsc2UsICdGYWlsZWQgJXMgdHlwZTogJXMlcycsIGxvY2F0aW9uLCBlcnJvci5tZXNzYWdlLCBzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxudmFyIGNoZWNrUHJvcFR5cGVzXzEgPSBjaGVja1Byb3BUeXBlcztcblxudmFyIGZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzID0gZnVuY3Rpb24oaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpIHtcbiAgLyogZ2xvYmFsIFN5bWJvbCAqL1xuICB2YXIgSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG4gIHZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJzsgLy8gQmVmb3JlIFN5bWJvbCBzcGVjLlxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBpdGVyYXRvciBtZXRob2QgZnVuY3Rpb24gY29udGFpbmVkIG9uIHRoZSBpdGVyYWJsZSBvYmplY3QuXG4gICAqXG4gICAqIEJlIHN1cmUgdG8gaW52b2tlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBpdGVyYWJsZSBhcyBjb250ZXh0OlxuICAgKlxuICAgKiAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKG15SXRlcmFibGUpO1xuICAgKiAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICogICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG15SXRlcmFibGUpO1xuICAgKiAgICAgICAuLi5cbiAgICogICAgIH1cbiAgICpcbiAgICogQHBhcmFtIHs/b2JqZWN0fSBtYXliZUl0ZXJhYmxlXG4gICAqIEByZXR1cm4gez9mdW5jdGlvbn1cbiAgICovXG4gIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICAgIHZhciBpdGVyYXRvckZuID0gbWF5YmVJdGVyYWJsZSAmJiAoSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXSk7XG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gaXRlcmF0b3JGbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIHRoYXQgYWxsb3cgZGVjbGFyYXRpb24gYW5kIHZhbGlkYXRpb24gb2YgcHJvcHMgdGhhdCBhcmVcbiAgICogc3VwcGxpZWQgdG8gUmVhY3QgY29tcG9uZW50cy4gRXhhbXBsZSB1c2FnZTpcbiAgICpcbiAgICogICB2YXIgUHJvcHMgPSByZXF1aXJlKCdSZWFjdFByb3BUeXBlcycpO1xuICAgKiAgIHZhciBNeUFydGljbGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAqICAgICBwcm9wVHlwZXM6IHtcbiAgICogICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIHByb3AgbmFtZWQgXCJkZXNjcmlwdGlvblwiLlxuICAgKiAgICAgICBkZXNjcmlwdGlvbjogUHJvcHMuc3RyaW5nLFxuICAgKlxuICAgKiAgICAgICAvLyBBIHJlcXVpcmVkIGVudW0gcHJvcCBuYW1lZCBcImNhdGVnb3J5XCIuXG4gICAqICAgICAgIGNhdGVnb3J5OiBQcm9wcy5vbmVPZihbJ05ld3MnLCdQaG90b3MnXSkuaXNSZXF1aXJlZCxcbiAgICpcbiAgICogICAgICAgLy8gQSBwcm9wIG5hbWVkIFwiZGlhbG9nXCIgdGhhdCByZXF1aXJlcyBhbiBpbnN0YW5jZSBvZiBEaWFsb2cuXG4gICAqICAgICAgIGRpYWxvZzogUHJvcHMuaW5zdGFuY2VPZihEaWFsb2cpLmlzUmVxdWlyZWRcbiAgICogICAgIH0sXG4gICAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkgeyAuLi4gfVxuICAgKiAgIH0pO1xuICAgKlxuICAgKiBBIG1vcmUgZm9ybWFsIHNwZWNpZmljYXRpb24gb2YgaG93IHRoZXNlIG1ldGhvZHMgYXJlIHVzZWQ6XG4gICAqXG4gICAqICAgdHlwZSA6PSBhcnJheXxib29sfGZ1bmN8b2JqZWN0fG51bWJlcnxzdHJpbmd8b25lT2YoWy4uLl0pfGluc3RhbmNlT2YoLi4uKVxuICAgKiAgIGRlY2wgOj0gUmVhY3RQcm9wVHlwZXMue3R5cGV9KC5pc1JlcXVpcmVkKT9cbiAgICpcbiAgICogRWFjaCBhbmQgZXZlcnkgZGVjbGFyYXRpb24gcHJvZHVjZXMgYSBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lIHNpZ25hdHVyZS4gVGhpc1xuICAgKiBhbGxvd3MgdGhlIGNyZWF0aW9uIG9mIGN1c3RvbSB2YWxpZGF0aW9uIGZ1bmN0aW9ucy4gRm9yIGV4YW1wbGU6XG4gICAqXG4gICAqICB2YXIgTXlMaW5rID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgKiAgICBwcm9wVHlwZXM6IHtcbiAgICogICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgb3IgVVJJIHByb3AgbmFtZWQgXCJocmVmXCIuXG4gICAqICAgICAgaHJlZjogZnVuY3Rpb24ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAqICAgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgKiAgICAgICAgaWYgKHByb3BWYWx1ZSAhPSBudWxsICYmIHR5cGVvZiBwcm9wVmFsdWUgIT09ICdzdHJpbmcnICYmXG4gICAqICAgICAgICAgICAgIShwcm9wVmFsdWUgaW5zdGFuY2VvZiBVUkkpKSB7XG4gICAqICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXG4gICAqICAgICAgICAgICAgJ0V4cGVjdGVkIGEgc3RyaW5nIG9yIGFuIFVSSSBmb3IgJyArIHByb3BOYW1lICsgJyBpbiAnICtcbiAgICogICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAqICAgICAgICAgICk7XG4gICAqICAgICAgICB9XG4gICAqICAgICAgfVxuICAgKiAgICB9LFxuICAgKiAgICByZW5kZXI6IGZ1bmN0aW9uKCkgey4uLn1cbiAgICogIH0pO1xuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG5cbiAgdmFyIEFOT05ZTU9VUyA9ICc8PGFub255bW91cz4+JztcblxuICAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYXJyYXknKSxcbiAgICBib29sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYm9vbGVhbicpLFxuICAgIGZ1bmM6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdmdW5jdGlvbicpLFxuICAgIG51bWJlcjogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ251bWJlcicpLFxuICAgIG9iamVjdDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ29iamVjdCcpLFxuICAgIHN0cmluZzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N0cmluZycpLFxuICAgIHN5bWJvbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N5bWJvbCcpLFxuXG4gICAgYW55OiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpLFxuICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcbiAgICBlbGVtZW50OiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSxcbiAgICBpbnN0YW5jZU9mOiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyLFxuICAgIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG4gICAgb2JqZWN0T2Y6IGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIsXG4gICAgb25lT2Y6IGNyZWF0ZUVudW1UeXBlQ2hlY2tlcixcbiAgICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG4gICAgc2hhcGU6IGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIsXG4gICAgZXhhY3Q6IGNyZWF0ZVN0cmljdFNoYXBlVHlwZUNoZWNrZXIsXG4gIH07XG5cbiAgLyoqXG4gICAqIGlubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsIHRvIGF2b2lkIHJlcXVpcmluZyBjb25zdW1lcnMgc2hpcCB0aGVpciBvd25cbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG4gICAqL1xuICAvKmVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSovXG4gIGZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgICAvLyBTYW1lVmFsdWUgYWxnb3JpdGhtXG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgIC8vIFN0ZXBzIDEtNSwgNy0xMFxuICAgICAgLy8gU3RlcHMgNi5iLTYuZTogKzAgIT0gLTBcbiAgICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3RlcCA2LmE6IE5hTiA9PSBOYU5cbiAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gICAgfVxuICB9XG4gIC8qZXNsaW50LWVuYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXG4gIC8qKlxuICAgKiBXZSB1c2UgYW4gRXJyb3ItbGlrZSBvYmplY3QgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgYXMgcGVvcGxlIG1heSBjYWxsXG4gICAqIFByb3BUeXBlcyBkaXJlY3RseSBhbmQgaW5zcGVjdCB0aGVpciBvdXRwdXQuIEhvd2V2ZXIsIHdlIGRvbid0IHVzZSByZWFsXG4gICAqIEVycm9ycyBhbnltb3JlLiBXZSBkb24ndCBpbnNwZWN0IHRoZWlyIHN0YWNrIGFueXdheSwgYW5kIGNyZWF0aW5nIHRoZW1cbiAgICogaXMgcHJvaGliaXRpdmVseSBleHBlbnNpdmUgaWYgdGhleSBhcmUgY3JlYXRlZCB0b28gb2Z0ZW4sIHN1Y2ggYXMgd2hhdFxuICAgKiBoYXBwZW5zIGluIG9uZU9mVHlwZSgpIGZvciBhbnkgdHlwZSBiZWZvcmUgdGhlIG9uZSB0aGF0IG1hdGNoZWQuXG4gICAqL1xuICBmdW5jdGlvbiBQcm9wVHlwZUVycm9yKG1lc3NhZ2UpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMuc3RhY2sgPSAnJztcbiAgfVxuICAvLyBNYWtlIGBpbnN0YW5jZW9mIEVycm9yYCBzdGlsbCB3b3JrIGZvciByZXR1cm5lZCBlcnJvcnMuXG4gIFByb3BUeXBlRXJyb3IucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZSA9IHt9O1xuICAgICAgdmFyIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50ID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tUeXBlKGlzUmVxdWlyZWQsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgICBjb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZSB8fCBBTk9OWU1PVVM7XG4gICAgICBwcm9wRnVsbE5hbWUgPSBwcm9wRnVsbE5hbWUgfHwgcHJvcE5hbWU7XG5cbiAgICAgIGlmIChzZWNyZXQgIT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0XzEpIHtcbiAgICAgICAgaWYgKHRocm93T25EaXJlY3RBY2Nlc3MpIHtcbiAgICAgICAgICAvLyBOZXcgYmVoYXZpb3Igb25seSBmb3IgdXNlcnMgb2YgYHByb3AtdHlwZXNgIHBhY2thZ2VcbiAgICAgICAgICBpbnZhcmlhbnRfMShcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgICAgICAgJ1VzZSBgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKClgIHRvIGNhbGwgdGhlbS4gJyArXG4gICAgICAgICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gT2xkIGJlaGF2aW9yIGZvciBwZW9wbGUgdXNpbmcgUmVhY3QuUHJvcFR5cGVzXG4gICAgICAgICAgdmFyIGNhY2hlS2V5ID0gY29tcG9uZW50TmFtZSArICc6JyArIHByb3BOYW1lO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gJiZcbiAgICAgICAgICAgIC8vIEF2b2lkIHNwYW1taW5nIHRoZSBjb25zb2xlIGJlY2F1c2UgdGhleSBhcmUgb2Z0ZW4gbm90IGFjdGlvbmFibGUgZXhjZXB0IGZvciBsaWIgYXV0aG9yc1xuICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPCAzXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB3YXJuaW5nXzEoXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAnWW91IGFyZSBtYW51YWxseSBjYWxsaW5nIGEgUmVhY3QuUHJvcFR5cGVzIHZhbGlkYXRpb24gJyArXG4gICAgICAgICAgICAgICdmdW5jdGlvbiBmb3IgdGhlIGAlc2AgcHJvcCBvbiBgJXNgLiBUaGlzIGlzIGRlcHJlY2F0ZWQgJyArXG4gICAgICAgICAgICAgICdhbmQgd2lsbCB0aHJvdyBpbiB0aGUgc3RhbmRhbG9uZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAgICAgICAgICdZb3UgbWF5IGJlIHNlZWluZyB0aGlzIHdhcm5pbmcgZHVlIHRvIGEgdGhpcmQtcGFydHkgUHJvcFR5cGVzICcgK1xuICAgICAgICAgICAgICAnbGlicmFyeS4gU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1kb250LWNhbGwtcHJvcHR5cGVzICcgKyAnZm9yIGRldGFpbHMuJyxcbiAgICAgICAgICAgICAgcHJvcEZ1bGxOYW1lLFxuICAgICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGVbY2FjaGVLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkICcgKyAoJ2luIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGBudWxsYC4nKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignVGhlICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBpcyBtYXJrZWQgYXMgcmVxdWlyZWQgaW4gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGJ1dCBpdHMgdmFsdWUgaXMgYHVuZGVmaW5lZGAuJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNoYWluZWRDaGVja1R5cGUgPSBjaGVja1R5cGUuYmluZChudWxsLCBmYWxzZSk7XG4gICAgY2hhaW5lZENoZWNrVHlwZS5pc1JlcXVpcmVkID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gY2hhaW5lZENoZWNrVHlwZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKGV4cGVjdGVkVHlwZSkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gZXhwZWN0ZWRUeXBlKSB7XG4gICAgICAgIC8vIGBwcm9wVmFsdWVgIGJlaW5nIGluc3RhbmNlIG9mLCBzYXksIGRhdGUvcmVnZXhwLCBwYXNzIHRoZSAnb2JqZWN0J1xuICAgICAgICAvLyBjaGVjaywgYnV0IHdlIGNhbiBvZmZlciBhIG1vcmUgcHJlY2lzZSBlcnJvciBtZXNzYWdlIGhlcmUgcmF0aGVyIHRoYW5cbiAgICAgICAgLy8gJ29mIHR5cGUgYG9iamVjdGAnLlxuICAgICAgICB2YXIgcHJlY2lzZVR5cGUgPSBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByZWNpc2VUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdgJyArIGV4cGVjdGVkVHlwZSArICdgLicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQW55VHlwZUNoZWNrZXIoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb25fMS50aGF0UmV0dXJuc051bGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIGFycmF5T2YuJyk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gYXJyYXkuJykpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wVmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBpLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJ1snICsgaSArICddJywgUmVhY3RQcm9wVHlwZXNTZWNyZXRfMSk7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBpZiAoIWlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBzaW5nbGUgUmVhY3RFbGVtZW50LicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcihleHBlY3RlZENsYXNzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAoIShwcm9wc1twcm9wTmFtZV0gaW5zdGFuY2VvZiBleHBlY3RlZENsYXNzKSkge1xuICAgICAgICB2YXIgZXhwZWN0ZWRDbGFzc05hbWUgPSBleHBlY3RlZENsYXNzLm5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgICB2YXIgYWN0dWFsQ2xhc3NOYW1lID0gZ2V0Q2xhc3NOYW1lKHByb3BzW3Byb3BOYW1lXSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIGFjdHVhbENsYXNzTmFtZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnaW5zdGFuY2Ugb2YgYCcgKyBleHBlY3RlZENsYXNzTmFtZSArICdgLicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRW51bVR5cGVDaGVja2VyKGV4cGVjdGVkVmFsdWVzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGV4cGVjdGVkVmFsdWVzKSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmdfMShmYWxzZSwgJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb25fMS50aGF0UmV0dXJuc051bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3RlZFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXMocHJvcFZhbHVlLCBleHBlY3RlZFZhbHVlc1tpXSkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgdmFsdWVzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZXhwZWN0ZWRWYWx1ZXMpO1xuICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB2YWx1ZSBgJyArIHByb3BWYWx1ZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBvbmUgb2YgJyArIHZhbHVlc1N0cmluZyArICcuJykpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBvYmplY3RPZi4nKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBvYmplY3QuJykpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHByb3BWYWx1ZSkge1xuICAgICAgICBpZiAocHJvcFZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXRfMSk7XG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlVW5pb25UeXBlQ2hlY2tlcihhcnJheU9mVHlwZUNoZWNrZXJzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5T2ZUeXBlQ2hlY2tlcnMpKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZ18xKGZhbHNlLCAnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb25fMS50aGF0UmV0dXJuc051bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG4gICAgICBpZiAodHlwZW9mIGNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2FybmluZ18xKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZS4gRXhwZWN0ZWQgYW4gYXJyYXkgb2YgY2hlY2sgZnVuY3Rpb25zLCBidXQgJyArXG4gICAgICAgICAgJ3JlY2VpdmVkICVzIGF0IGluZGV4ICVzLicsXG4gICAgICAgICAgZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKGNoZWNrZXIpLFxuICAgICAgICAgIGlcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb25fMS50aGF0UmV0dXJuc051bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuICAgICAgICBpZiAoY2hlY2tlcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIFJlYWN0UHJvcFR5cGVzU2VjcmV0XzEpID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLicpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU5vZGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKCFpc05vZGUocHJvcHNbcHJvcE5hbWVdKSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIFJlYWN0Tm9kZS4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIoc2hhcGVUeXBlcykge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBzaGFwZVR5cGVzKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuICAgICAgICBpZiAoIWNoZWNrZXIpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldF8xKTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVN0cmljdFNoYXBlVHlwZUNoZWNrZXIoc2hhcGVUeXBlcykge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcbiAgICAgIH1cbiAgICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgYWxsIGtleXMgaW4gY2FzZSBzb21lIGFyZSByZXF1aXJlZCBidXQgbWlzc2luZyBmcm9tXG4gICAgICAvLyBwcm9wcy5cbiAgICAgIHZhciBhbGxLZXlzID0gb2JqZWN0QXNzaWduKHt9LCBwcm9wc1twcm9wTmFtZV0sIHNoYXBlVHlwZXMpO1xuICAgICAgZm9yICh2YXIga2V5IGluIGFsbEtleXMpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG4gICAgICAgIGlmICghY2hlY2tlcikge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcihcbiAgICAgICAgICAgICdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nICtcbiAgICAgICAgICAgICdcXG5CYWQgb2JqZWN0OiAnICsgSlNPTi5zdHJpbmdpZnkocHJvcHNbcHJvcE5hbWVdLCBudWxsLCAnICAnKSArXG4gICAgICAgICAgICAnXFxuVmFsaWQga2V5czogJyArICBKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhzaGFwZVR5cGVzKSwgbnVsbCwgJyAgJylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0XzEpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc05vZGUocHJvcFZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgcHJvcFZhbHVlKSB7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiAhcHJvcFZhbHVlO1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBwcm9wVmFsdWUuZXZlcnkoaXNOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8IGlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihwcm9wVmFsdWUpO1xuICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuICAgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICBpZiAoIWlzTm9kZShzdGVwLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJdGVyYXRvciB3aWxsIHByb3ZpZGUgZW50cnkgW2ssdl0gdHVwbGVzIHJhdGhlciB0aGFuIHZhbHVlcy5cbiAgICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05vZGUoZW50cnlbMV0pKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpIHtcbiAgICAvLyBOYXRpdmUgU3ltYm9sLlxuICAgIGlmIChwcm9wVHlwZSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnXG4gICAgaWYgKHByb3BWYWx1ZVsnQEB0b1N0cmluZ1RhZyddID09PSAnU3ltYm9sJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgZm9yIG5vbi1zcGVjIGNvbXBsaWFudCBTeW1ib2xzIHdoaWNoIGFyZSBwb2x5ZmlsbGVkLlxuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHByb3BWYWx1ZSBpbnN0YW5jZW9mIFN5bWJvbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gRXF1aXZhbGVudCBvZiBgdHlwZW9mYCBidXQgd2l0aCBzcGVjaWFsIGhhbmRsaW5nIGZvciBhcnJheSBhbmQgcmVnZXhwLlxuICBmdW5jdGlvbiBnZXRQcm9wVHlwZShwcm9wVmFsdWUpIHtcbiAgICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH1cbiAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAvLyBPbGQgd2Via2l0cyAoYXQgbGVhc3QgdW50aWwgQW5kcm9pZCA0LjApIHJldHVybiAnZnVuY3Rpb24nIHJhdGhlciB0aGFuXG4gICAgICAvLyAnb2JqZWN0JyBmb3IgdHlwZW9mIGEgUmVnRXhwLiBXZSdsbCBub3JtYWxpemUgdGhpcyBoZXJlIHNvIHRoYXQgL2JsYS9cbiAgICAgIC8vIHBhc3NlcyBQcm9wVHlwZXMub2JqZWN0LlxuICAgICAgcmV0dXJuICdvYmplY3QnO1xuICAgIH1cbiAgICBpZiAoaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkpIHtcbiAgICAgIHJldHVybiAnc3ltYm9sJztcbiAgICB9XG4gICAgcmV0dXJuIHByb3BUeXBlO1xuICB9XG5cbiAgLy8gVGhpcyBoYW5kbGVzIG1vcmUgdHlwZXMgdGhhbiBgZ2V0UHJvcFR5cGVgLiBPbmx5IHVzZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICAvLyBTZWUgYGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyYC5cbiAgZnVuY3Rpb24gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHByb3BWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuICcnICsgcHJvcFZhbHVlO1xuICAgIH1cbiAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgIGlmIChwcm9wVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgICB9IGVsc2UgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICByZXR1cm4gJ3JlZ2V4cCc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wVHlwZTtcbiAgfVxuXG4gIC8vIFJldHVybnMgYSBzdHJpbmcgdGhhdCBpcyBwb3N0Zml4ZWQgdG8gYSB3YXJuaW5nIGFib3V0IGFuIGludmFsaWQgdHlwZS5cbiAgLy8gRm9yIGV4YW1wbGUsIFwidW5kZWZpbmVkXCIgb3IgXCJvZiB0eXBlIGFycmF5XCJcbiAgZnVuY3Rpb24gZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdhcnJheSc6XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICByZXR1cm4gJ2FuICcgKyB0eXBlO1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgIGNhc2UgJ3JlZ2V4cCc6XG4gICAgICAgIHJldHVybiAnYSAnICsgdHlwZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJldHVybnMgY2xhc3MgbmFtZSBvZiB0aGUgb2JqZWN0LCBpZiBhbnkuXG4gIGZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcbiAgICBpZiAoIXByb3BWYWx1ZS5jb25zdHJ1Y3RvciB8fCAhcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpIHtcbiAgICAgIHJldHVybiBBTk9OWU1PVVM7XG4gICAgfVxuICAgIHJldHVybiBwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgfVxuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gY2hlY2tQcm9wVHlwZXNfMTtcbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcblxudmFyIGZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcyA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXRfMSkge1xuICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnZhcmlhbnRfMShcbiAgICAgIGZhbHNlLFxuICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG4gICAgKTtcbiAgfSAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcbiAgZnVuY3Rpb24gZ2V0U2hpbSgpIHtcbiAgICByZXR1cm4gc2hpbTtcbiAgfSAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBzaGltLFxuICAgIGJvb2w6IHNoaW0sXG4gICAgZnVuYzogc2hpbSxcbiAgICBudW1iZXI6IHNoaW0sXG4gICAgb2JqZWN0OiBzaGltLFxuICAgIHN0cmluZzogc2hpbSxcbiAgICBzeW1ib2w6IHNoaW0sXG5cbiAgICBhbnk6IHNoaW0sXG4gICAgYXJyYXlPZjogZ2V0U2hpbSxcbiAgICBlbGVtZW50OiBzaGltLFxuICAgIGluc3RhbmNlT2Y6IGdldFNoaW0sXG4gICAgbm9kZTogc2hpbSxcbiAgICBvYmplY3RPZjogZ2V0U2hpbSxcbiAgICBvbmVPZjogZ2V0U2hpbSxcbiAgICBvbmVPZlR5cGU6IGdldFNoaW0sXG4gICAgc2hhcGU6IGdldFNoaW0sXG4gICAgZXhhY3Q6IGdldFNoaW1cbiAgfTtcblxuICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGVtcHR5RnVuY3Rpb25fMTtcbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcblxudmFyIHByb3BUeXBlcyA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgU3ltYm9sLmZvciAmJlxuICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcbiAgICAweGVhYzc7XG5cbiAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICBvYmplY3QgIT09IG51bGwgJiZcbiAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9O1xuXG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5V2l0aFR5cGVDaGVja2Vycyhpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zKCk7XG59XG59KTtcblxudmFyIENPTlNUQU5UID0ge1xuICBHTE9CQUw6IHtcbiAgICBISURFOiBcIl9fcmVhY3RfdG9vbHRpcF9oaWRlX2V2ZW50XCIsXG4gICAgUkVCVUlMRDogXCJfX3JlYWN0X3Rvb2x0aXBfcmVidWlsZF9ldmVudFwiLFxuICAgIFNIT1c6IFwiX19yZWFjdF90b29sdGlwX3Nob3dfZXZlbnRcIlxuICB9XG59O1xuXG4vKipcbiAqIFN0YXRpYyBtZXRob2RzIGZvciByZWFjdC10b29sdGlwXG4gKi9cblxudmFyIGRpc3BhdGNoR2xvYmFsRXZlbnQgPSBmdW5jdGlvbiBkaXNwYXRjaEdsb2JhbEV2ZW50KGV2ZW50TmFtZSwgb3B0cykge1xuICAvLyBDb21wYXRpYmxlIHdpdGggSUVcbiAgLy8gQHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI2NTk2MTIzL2ludGVybmV0LWV4cGxvcmVyLTktMTAtMTEtZXZlbnQtY29uc3RydWN0b3ItZG9lc250LXdvcmtcbiAgdmFyIGV2ZW50O1xuXG4gIGlmICh0eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBldmVudCA9IG5ldyB3aW5kb3cuQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCB7XG4gICAgICBkZXRhaWw6IG9wdHNcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7XG4gICAgZXZlbnQuaW5pdEV2ZW50KGV2ZW50TmFtZSwgZmFsc2UsIHRydWUpO1xuICAgIGV2ZW50LmRldGFpbCA9IG9wdHM7XG4gIH1cblxuICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG59O1xuXG5mdW5jdGlvbiBzdGF0aWNNZXRob2RzICh0YXJnZXQpIHtcbiAgLyoqXG4gICAqIEhpZGUgYWxsIHRvb2x0aXBcbiAgICogQHRyaWdnZXIgUmVhY3RUb29sdGlwLmhpZGUoKVxuICAgKi9cbiAgdGFyZ2V0LmhpZGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZGlzcGF0Y2hHbG9iYWxFdmVudChDT05TVEFOVC5HTE9CQUwuSElERSwge1xuICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlYnVpbGQgYWxsIHRvb2x0aXBcbiAgICogQHRyaWdnZXIgUmVhY3RUb29sdGlwLnJlYnVpbGQoKVxuICAgKi9cblxuXG4gIHRhcmdldC5yZWJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgIGRpc3BhdGNoR2xvYmFsRXZlbnQoQ09OU1RBTlQuR0xPQkFMLlJFQlVJTEQpO1xuICB9O1xuICAvKipcbiAgICogU2hvdyBzcGVjaWZpYyB0b29sdGlwXG4gICAqIEB0cmlnZ2VyIFJlYWN0VG9vbHRpcC5zaG93KClcbiAgICovXG5cblxuICB0YXJnZXQuc2hvdyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBkaXNwYXRjaEdsb2JhbEV2ZW50KENPTlNUQU5ULkdMT0JBTC5TSE9XLCB7XG4gICAgICB0YXJnZXQ6IHRhcmdldFxuICAgIH0pO1xuICB9O1xuXG4gIHRhcmdldC5wcm90b3R5cGUuZ2xvYmFsUmVidWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5tb3VudCkge1xuICAgICAgdGhpcy51bmJpbmRMaXN0ZW5lcigpO1xuICAgICAgdGhpcy5iaW5kTGlzdGVuZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgdGFyZ2V0LnByb3RvdHlwZS5nbG9iYWxTaG93ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMubW91bnQpIHtcbiAgICAgIC8vIENyZWF0ZSBhIGZha2UgZXZlbnQsIHNwZWNpZmljIHNob3cgd2lsbCBsaW1pdCB0aGUgdHlwZSB0byBgc29saWRgXG4gICAgICAvLyBvbmx5IGBmbG9hdGAgdHlwZSBjYXJlcyBlLmNsaWVudFggZS5jbGllbnRZXG4gICAgICB2YXIgZSA9IHtcbiAgICAgICAgY3VycmVudFRhcmdldDogZXZlbnQuZGV0YWlsLnRhcmdldFxuICAgICAgfTtcbiAgICAgIHRoaXMuc2hvd1Rvb2x0aXAoZSwgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHRhcmdldC5wcm90b3R5cGUuZ2xvYmFsSGlkZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmICh0aGlzLm1vdW50KSB7XG4gICAgICB2YXIgaGFzVGFyZ2V0ID0gZXZlbnQgJiYgZXZlbnQuZGV0YWlsICYmIGV2ZW50LmRldGFpbC50YXJnZXQgJiYgdHJ1ZSB8fCBmYWxzZTtcbiAgICAgIHRoaXMuaGlkZVRvb2x0aXAoe1xuICAgICAgICBjdXJyZW50VGFyZ2V0OiBoYXNUYXJnZXQgJiYgZXZlbnQuZGV0YWlsLnRhcmdldFxuICAgICAgfSwgaGFzVGFyZ2V0KTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogRXZlbnRzIHRoYXQgc2hvdWxkIGJlIGJvdW5kIHRvIHRoZSB3aW5kb3dcbiAqL1xuZnVuY3Rpb24gd2luZG93TGlzdGVuZXIgKHRhcmdldCkge1xuICB0YXJnZXQucHJvdG90eXBlLmJpbmRXaW5kb3dFdmVudHMgPSBmdW5jdGlvbiAocmVzaXplSGlkZSkge1xuICAgIC8vIFJlYWN0VG9vbHRpcC5oaWRlXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoQ09OU1RBTlQuR0xPQkFMLkhJREUsIHRoaXMuZ2xvYmFsSGlkZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoQ09OU1RBTlQuR0xPQkFMLkhJREUsIHRoaXMuZ2xvYmFsSGlkZSwgZmFsc2UpOyAvLyBSZWFjdFRvb2x0aXAucmVidWlsZFxuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoQ09OU1RBTlQuR0xPQkFMLlJFQlVJTEQsIHRoaXMuZ2xvYmFsUmVidWlsZCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoQ09OU1RBTlQuR0xPQkFMLlJFQlVJTEQsIHRoaXMuZ2xvYmFsUmVidWlsZCwgZmFsc2UpOyAvLyBSZWFjdFRvb2x0aXAuc2hvd1xuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoQ09OU1RBTlQuR0xPQkFMLlNIT1csIHRoaXMuZ2xvYmFsU2hvdyk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoQ09OU1RBTlQuR0xPQkFMLlNIT1csIHRoaXMuZ2xvYmFsU2hvdywgZmFsc2UpOyAvLyBSZXNpemVcblxuICAgIGlmIChyZXNpemVIaWRlKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLm9uV2luZG93UmVzaXplKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMub25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgdGFyZ2V0LnByb3RvdHlwZS51bmJpbmRXaW5kb3dFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoQ09OU1RBTlQuR0xPQkFMLkhJREUsIHRoaXMuZ2xvYmFsSGlkZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoQ09OU1RBTlQuR0xPQkFMLlJFQlVJTEQsIHRoaXMuZ2xvYmFsUmVidWlsZCk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoQ09OU1RBTlQuR0xPQkFMLlNIT1csIHRoaXMuZ2xvYmFsU2hvdyk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5vbldpbmRvd1Jlc2l6ZSk7XG4gIH07XG4gIC8qKlxuICAgKiBpbnZva2VkIGJ5IHJlc2l6ZSBldmVudCBvZiB3aW5kb3dcbiAgICovXG5cblxuICB0YXJnZXQucHJvdG90eXBlLm9uV2luZG93UmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5tb3VudCkgcmV0dXJuO1xuICAgIHRoaXMuaGlkZVRvb2x0aXAoKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDdXN0b20gZXZlbnRzIHRvIGNvbnRyb2wgc2hvd2luZyBhbmQgaGlkaW5nIG9mIHRvb2x0aXBcbiAqXG4gKiBAYXR0cmlidXRlc1xuICogLSBgZXZlbnRgIHtTdHJpbmd9XG4gKiAtIGBldmVudE9mZmAge1N0cmluZ31cbiAqL1xudmFyIGNoZWNrU3RhdHVzID0gZnVuY3Rpb24gY2hlY2tTdGF0dXMoZGF0YUV2ZW50T2ZmLCBlKSB7XG4gIHZhciBzaG93ID0gdGhpcy5zdGF0ZS5zaG93O1xuICB2YXIgaWQgPSB0aGlzLnByb3BzLmlkO1xuICB2YXIgaXNDYXB0dXJlID0gdGhpcy5pc0NhcHR1cmUoZS5jdXJyZW50VGFyZ2V0KTtcbiAgdmFyIGN1cnJlbnRJdGVtID0gZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShcImN1cnJlbnRJdGVtXCIpO1xuICBpZiAoIWlzQ2FwdHVyZSkgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICBpZiAoc2hvdyAmJiBjdXJyZW50SXRlbSA9PT0gXCJ0cnVlXCIpIHtcbiAgICBpZiAoIWRhdGFFdmVudE9mZikgdGhpcy5oaWRlVG9vbHRpcChlKTtcbiAgfSBlbHNlIHtcbiAgICBlLmN1cnJlbnRUYXJnZXQuc2V0QXR0cmlidXRlKFwiY3VycmVudEl0ZW1cIiwgXCJ0cnVlXCIpO1xuICAgIHNldFVudGFyZ2V0SXRlbXMoZS5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldFRhcmdldEFycmF5KGlkKSk7XG4gICAgdGhpcy5zaG93VG9vbHRpcChlKTtcbiAgfVxufTtcblxudmFyIHNldFVudGFyZ2V0SXRlbXMgPSBmdW5jdGlvbiBzZXRVbnRhcmdldEl0ZW1zKGN1cnJlbnRUYXJnZXQsIHRhcmdldEFycmF5KSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGFyZ2V0QXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoY3VycmVudFRhcmdldCAhPT0gdGFyZ2V0QXJyYXlbaV0pIHtcbiAgICAgIHRhcmdldEFycmF5W2ldLnNldEF0dHJpYnV0ZShcImN1cnJlbnRJdGVtXCIsIFwiZmFsc2VcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldEFycmF5W2ldLnNldEF0dHJpYnV0ZShcImN1cnJlbnRJdGVtXCIsIFwidHJ1ZVwiKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBjdXN0b21MaXN0ZW5lcnMgPSB7XG4gIGlkOiBcIjliNjlmOTJlLWQzZmUtNDk4Yi1iMWI0LWM1ZTYzYTUxYjBjZlwiLFxuICBzZXQ6IGZ1bmN0aW9uIHNldCh0YXJnZXQsIGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLmlkIGluIHRhcmdldCkge1xuICAgICAgdmFyIG1hcCA9IHRhcmdldFt0aGlzLmlkXTtcbiAgICAgIG1hcFtldmVudF0gPSBsaXN0ZW5lcjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdGhpcyBpcyB3b3JrYXJvdW5kIGZvciBXZWFrTWFwLCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkIGluIG9sZGVyIGJyb3dzZXJzLCBzdWNoIGFzIElFXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCB0aGlzLmlkLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IF9kZWZpbmVQcm9wZXJ0eSh7fSwgZXZlbnQsIGxpc3RlbmVyKVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBnZXQ6IGZ1bmN0aW9uIGdldCh0YXJnZXQsIGV2ZW50KSB7XG4gICAgdmFyIG1hcCA9IHRhcmdldFt0aGlzLmlkXTtcblxuICAgIGlmIChtYXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG1hcFtldmVudF07XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gY3VzdG9tRXZlbnQgKHRhcmdldCkge1xuICB0YXJnZXQucHJvdG90eXBlLmlzQ3VzdG9tRXZlbnQgPSBmdW5jdGlvbiAoZWxlKSB7XG4gICAgdmFyIGV2ZW50ID0gdGhpcy5zdGF0ZS5ldmVudDtcbiAgICByZXR1cm4gZXZlbnQgfHwgISFlbGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1ldmVudFwiKTtcbiAgfTtcbiAgLyogQmluZCBsaXN0ZW5lciBmb3IgY3VzdG9tIGV2ZW50ICovXG5cblxuICB0YXJnZXQucHJvdG90eXBlLmN1c3RvbUJpbmRMaXN0ZW5lciA9IGZ1bmN0aW9uIChlbGUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgZXZlbnQgPSBfdGhpcyRzdGF0ZS5ldmVudCxcbiAgICAgICAgZXZlbnRPZmYgPSBfdGhpcyRzdGF0ZS5ldmVudE9mZjtcbiAgICB2YXIgZGF0YUV2ZW50ID0gZWxlLmdldEF0dHJpYnV0ZShcImRhdGEtZXZlbnRcIikgfHwgZXZlbnQ7XG4gICAgdmFyIGRhdGFFdmVudE9mZiA9IGVsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWV2ZW50LW9mZlwiKSB8fCBldmVudE9mZjtcbiAgICBkYXRhRXZlbnQuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBlbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgY3VzdG9tTGlzdGVuZXJzLmdldChlbGUsIGV2ZW50KSk7XG4gICAgICB2YXIgY3VzdG9tTGlzdGVuZXIgPSBjaGVja1N0YXR1cy5iaW5kKF90aGlzLCBkYXRhRXZlbnRPZmYpO1xuICAgICAgY3VzdG9tTGlzdGVuZXJzLnNldChlbGUsIGV2ZW50LCBjdXN0b21MaXN0ZW5lcik7XG4gICAgICBlbGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY3VzdG9tTGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGlmIChkYXRhRXZlbnRPZmYpIHtcbiAgICAgIGRhdGFFdmVudE9mZi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZWxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIF90aGlzLmhpZGVUb29sdGlwKTtcbiAgICAgICAgZWxlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIF90aGlzLmhpZGVUb29sdGlwLCBmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIC8qIFVuYmluZCBsaXN0ZW5lciBmb3IgY3VzdG9tIGV2ZW50ICovXG5cblxuICB0YXJnZXQucHJvdG90eXBlLmN1c3RvbVVuYmluZExpc3RlbmVyID0gZnVuY3Rpb24gKGVsZSkge1xuICAgIHZhciBfdGhpcyRzdGF0ZTIgPSB0aGlzLnN0YXRlLFxuICAgICAgICBldmVudCA9IF90aGlzJHN0YXRlMi5ldmVudCxcbiAgICAgICAgZXZlbnRPZmYgPSBfdGhpcyRzdGF0ZTIuZXZlbnRPZmY7XG4gICAgdmFyIGRhdGFFdmVudCA9IGV2ZW50IHx8IGVsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWV2ZW50XCIpO1xuICAgIHZhciBkYXRhRXZlbnRPZmYgPSBldmVudE9mZiB8fCBlbGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1ldmVudC1vZmZcIik7XG4gICAgZWxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZGF0YUV2ZW50LCBjdXN0b21MaXN0ZW5lcnMuZ2V0KGVsZSwgZXZlbnQpKTtcbiAgICBpZiAoZGF0YUV2ZW50T2ZmKSBlbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihkYXRhRXZlbnRPZmYsIHRoaXMuaGlkZVRvb2x0aXApO1xuICB9O1xufVxuXG4vKipcbiAqIFV0aWwgbWV0aG9kIHRvIGp1ZGdlIGlmIGl0IHNob3VsZCBmb2xsb3cgY2FwdHVyZSBtb2RlbFxuICovXG5mdW5jdGlvbiBpc0NhcHR1cmUgKHRhcmdldCkge1xuICB0YXJnZXQucHJvdG90eXBlLmlzQ2FwdHVyZSA9IGZ1bmN0aW9uIChjdXJyZW50VGFyZ2V0KSB7XG4gICAgcmV0dXJuIGN1cnJlbnRUYXJnZXQgJiYgY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlzY2FwdHVyZVwiKSA9PT0gXCJ0cnVlXCIgfHwgdGhpcy5wcm9wcy5pc0NhcHR1cmUgfHwgZmFsc2U7XG4gIH07XG59XG5cbi8qKlxuICogVXRpbCBtZXRob2QgdG8gZ2V0IGVmZmVjdFxuICovXG5mdW5jdGlvbiBnZXRFZmZlY3QgKHRhcmdldCkge1xuICB0YXJnZXQucHJvdG90eXBlLmdldEVmZmVjdCA9IGZ1bmN0aW9uIChjdXJyZW50VGFyZ2V0KSB7XG4gICAgdmFyIGRhdGFFZmZlY3QgPSBjdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtZWZmZWN0XCIpO1xuICAgIHJldHVybiBkYXRhRWZmZWN0IHx8IHRoaXMucHJvcHMuZWZmZWN0IHx8IFwiZmxvYXRcIjtcbiAgfTtcbn1cblxuLyoqXG4gKiBVdGlsIG1ldGhvZCB0byBnZXQgZWZmZWN0XG4gKi9cblxudmFyIG1ha2VQcm94eSA9IGZ1bmN0aW9uIG1ha2VQcm94eShlKSB7XG4gIHZhciBwcm94eSA9IHt9O1xuXG4gIGZvciAodmFyIGtleSBpbiBlKSB7XG4gICAgaWYgKHR5cGVvZiBlW2tleV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcHJveHlba2V5XSA9IGVba2V5XS5iaW5kKGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm94eVtrZXldID0gZVtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwcm94eTtcbn07XG5cbnZhciBib2R5TGlzdGVuZXIgPSBmdW5jdGlvbiBib2R5TGlzdGVuZXIoY2FsbGJhY2ssIG9wdGlvbnMsIGUpIHtcbiAgdmFyIF9vcHRpb25zJHJlc3BlY3RFZmZlYyA9IG9wdGlvbnMucmVzcGVjdEVmZmVjdCxcbiAgICAgIHJlc3BlY3RFZmZlY3QgPSBfb3B0aW9ucyRyZXNwZWN0RWZmZWMgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkcmVzcGVjdEVmZmVjLFxuICAgICAgX29wdGlvbnMkY3VzdG9tRXZlbnQgPSBvcHRpb25zLmN1c3RvbUV2ZW50LFxuICAgICAgY3VzdG9tRXZlbnQgPSBfb3B0aW9ucyRjdXN0b21FdmVudCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyRjdXN0b21FdmVudDtcbiAgdmFyIGlkID0gdGhpcy5wcm9wcy5pZDtcbiAgdmFyIHRpcCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtdGlwXCIpIHx8IG51bGw7XG4gIHZhciBmb3JJZCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtZm9yXCIpIHx8IG51bGw7XG4gIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcblxuICBpZiAodGhpcy5pc0N1c3RvbUV2ZW50KHRhcmdldCkgJiYgIWN1c3RvbUV2ZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGlzVGFyZ2V0QmVsb25nc1RvVG9vbHRpcCA9IGlkID09IG51bGwgJiYgZm9ySWQgPT0gbnVsbCB8fCBmb3JJZCA9PT0gaWQ7XG5cbiAgaWYgKHRpcCAhPSBudWxsICYmICghcmVzcGVjdEVmZmVjdCB8fCB0aGlzLmdldEVmZmVjdCh0YXJnZXQpID09PSBcImZsb2F0XCIpICYmIGlzVGFyZ2V0QmVsb25nc1RvVG9vbHRpcCkge1xuICAgIHZhciBwcm94eSA9IG1ha2VQcm94eShlKTtcbiAgICBwcm94eS5jdXJyZW50VGFyZ2V0ID0gdGFyZ2V0O1xuICAgIGNhbGxiYWNrKHByb3h5KTtcbiAgfVxufTtcblxudmFyIGZpbmRDdXN0b21FdmVudHMgPSBmdW5jdGlvbiBmaW5kQ3VzdG9tRXZlbnRzKHRhcmdldEFycmF5LCBkYXRhQXR0cmlidXRlKSB7XG4gIHZhciBldmVudHMgPSB7fTtcbiAgdGFyZ2V0QXJyYXkuZm9yRWFjaChmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgdmFyIGV2ZW50ID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShkYXRhQXR0cmlidXRlKTtcbiAgICBpZiAoZXZlbnQpIGV2ZW50LnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgcmV0dXJuIGV2ZW50c1tldmVudF0gPSB0cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGV2ZW50cztcbn07XG5cbnZhciBnZXRCb2R5ID0gZnVuY3Rpb24gZ2V0Qm9keSgpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKVswXTtcbn07XG5cbmZ1bmN0aW9uIGJvZHlNb2RlICh0YXJnZXQpIHtcbiAgdGFyZ2V0LnByb3RvdHlwZS5pc0JvZHlNb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAhIXRoaXMucHJvcHMuYm9keU1vZGU7XG4gIH07XG5cbiAgdGFyZ2V0LnByb3RvdHlwZS5iaW5kQm9keUxpc3RlbmVyID0gZnVuY3Rpb24gKHRhcmdldEFycmF5KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGV2ZW50ID0gX3RoaXMkc3RhdGUuZXZlbnQsXG4gICAgICAgIGV2ZW50T2ZmID0gX3RoaXMkc3RhdGUuZXZlbnRPZmYsXG4gICAgICAgIHBvc3NpYmxlQ3VzdG9tRXZlbnRzID0gX3RoaXMkc3RhdGUucG9zc2libGVDdXN0b21FdmVudHMsXG4gICAgICAgIHBvc3NpYmxlQ3VzdG9tRXZlbnRzT2ZmID0gX3RoaXMkc3RhdGUucG9zc2libGVDdXN0b21FdmVudHNPZmY7XG4gICAgdmFyIGJvZHkgPSBnZXRCb2R5KCk7XG4gICAgdmFyIGN1c3RvbUV2ZW50cyA9IGZpbmRDdXN0b21FdmVudHModGFyZ2V0QXJyYXksIFwiZGF0YS1ldmVudFwiKTtcbiAgICB2YXIgY3VzdG9tRXZlbnRzT2ZmID0gZmluZEN1c3RvbUV2ZW50cyh0YXJnZXRBcnJheSwgXCJkYXRhLWV2ZW50LW9mZlwiKTtcbiAgICBpZiAoZXZlbnQgIT0gbnVsbCkgY3VzdG9tRXZlbnRzW2V2ZW50XSA9IHRydWU7XG4gICAgaWYgKGV2ZW50T2ZmICE9IG51bGwpIGN1c3RvbUV2ZW50c09mZltldmVudE9mZl0gPSB0cnVlO1xuICAgIHBvc3NpYmxlQ3VzdG9tRXZlbnRzLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgcmV0dXJuIGN1c3RvbUV2ZW50c1tldmVudF0gPSB0cnVlO1xuICAgIH0pO1xuICAgIHBvc3NpYmxlQ3VzdG9tRXZlbnRzT2ZmLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgcmV0dXJuIGN1c3RvbUV2ZW50c09mZltldmVudF0gPSB0cnVlO1xuICAgIH0pO1xuICAgIHRoaXMudW5iaW5kQm9keUxpc3RlbmVyKGJvZHkpO1xuICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmJvZHlNb2RlTGlzdGVuZXJzID0ge307XG5cbiAgICBpZiAoZXZlbnQgPT0gbnVsbCkge1xuICAgICAgbGlzdGVuZXJzLm1vdXNlb3ZlciA9IGJvZHlMaXN0ZW5lci5iaW5kKHRoaXMsIHRoaXMuc2hvd1Rvb2x0aXAsIHt9KTtcbiAgICAgIGxpc3RlbmVycy5tb3VzZW1vdmUgPSBib2R5TGlzdGVuZXIuYmluZCh0aGlzLCB0aGlzLnVwZGF0ZVRvb2x0aXAsIHtcbiAgICAgICAgcmVzcGVjdEVmZmVjdDogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBsaXN0ZW5lcnMubW91c2VvdXQgPSBib2R5TGlzdGVuZXIuYmluZCh0aGlzLCB0aGlzLmhpZGVUb29sdGlwLCB7fSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2V2ZW50IGluIGN1c3RvbUV2ZW50cykge1xuICAgICAgbGlzdGVuZXJzW19ldmVudF0gPSBib2R5TGlzdGVuZXIuYmluZCh0aGlzLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgdGFyZ2V0RXZlbnRPZmYgPSBlLmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1ldmVudC1vZmZcIikgfHwgZXZlbnRPZmY7XG4gICAgICAgIGNoZWNrU3RhdHVzLmNhbGwoX3RoaXMsIHRhcmdldEV2ZW50T2ZmLCBlKTtcbiAgICAgIH0sIHtcbiAgICAgICAgY3VzdG9tRXZlbnQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvciAodmFyIF9ldmVudDIgaW4gY3VzdG9tRXZlbnRzT2ZmKSB7XG4gICAgICBsaXN0ZW5lcnNbX2V2ZW50Ml0gPSBib2R5TGlzdGVuZXIuYmluZCh0aGlzLCB0aGlzLmhpZGVUb29sdGlwLCB7XG4gICAgICAgIGN1c3RvbUV2ZW50OiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfZXZlbnQzIGluIGxpc3RlbmVycykge1xuICAgICAgYm9keS5hZGRFdmVudExpc3RlbmVyKF9ldmVudDMsIGxpc3RlbmVyc1tfZXZlbnQzXSk7XG4gICAgfVxuICB9O1xuXG4gIHRhcmdldC5wcm90b3R5cGUudW5iaW5kQm9keUxpc3RlbmVyID0gZnVuY3Rpb24gKGJvZHkpIHtcbiAgICBib2R5ID0gYm9keSB8fCBnZXRCb2R5KCk7XG4gICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuYm9keU1vZGVMaXN0ZW5lcnM7XG5cbiAgICBmb3IgKHZhciBldmVudCBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgIGJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2V2ZW50XSk7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIFRyYWNraW5nIHRhcmdldCByZW1vdmluZyBmcm9tIERPTS5cbiAqIEl0J3MgbmVjZXNzYXJ5IHRvIGhpZGUgdG9vbHRpcCB3aGVuIGl0J3MgdGFyZ2V0IGRpc2FwcGVhcnMuXG4gKiBPdGhlcndpc2UsIHRoZSB0b29sdGlwIHdvdWxkIGJlIHNob3duIGZvcmV2ZXIgdW50aWwgYW5vdGhlciB0YXJnZXRcbiAqIGlzIHRyaWdnZXJlZC5cbiAqXG4gKiBJZiBNdXRhdGlvbk9ic2VydmVyIGlzIG5vdCBhdmFpbGFibGUsIHRoaXMgZmVhdHVyZSBqdXN0IGRvZXNuJ3Qgd29yay5cbiAqL1xuLy8gaHR0cHM6Ly9oYWNrcy5tb3ppbGxhLm9yZy8yMDEyLzA1L2RvbS1tdXRhdGlvbm9ic2VydmVyLXJlYWN0aW5nLXRvLWRvbS1jaGFuZ2VzLXdpdGhvdXQta2lsbGluZy1icm93c2VyLXBlcmZvcm1hbmNlL1xudmFyIGdldE11dGF0aW9uT2JzZXJ2ZXJDbGFzcyA9IGZ1bmN0aW9uIGdldE11dGF0aW9uT2JzZXJ2ZXJDbGFzcygpIHtcbiAgcmV0dXJuIHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5Nb3pNdXRhdGlvbk9ic2VydmVyO1xufTtcblxuZnVuY3Rpb24gdHJhY2tSZW1vdmFsICh0YXJnZXQpIHtcbiAgdGFyZ2V0LnByb3RvdHlwZS5iaW5kUmVtb3ZhbFRyYWNrZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBNdXRhdGlvbk9ic2VydmVyID0gZ2V0TXV0YXRpb25PYnNlcnZlckNsYXNzKCk7XG4gICAgaWYgKE11dGF0aW9uT2JzZXJ2ZXIgPT0gbnVsbCkgcmV0dXJuO1xuICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHtcbiAgICAgIGZvciAodmFyIG0xID0gMDsgbTEgPCBtdXRhdGlvbnMubGVuZ3RoOyBtMSsrKSB7XG4gICAgICAgIHZhciBtdXRhdGlvbiA9IG11dGF0aW9uc1ttMV07XG5cbiAgICAgICAgZm9yICh2YXIgbTIgPSAwOyBtMiA8IG11dGF0aW9uLnJlbW92ZWROb2Rlcy5sZW5ndGg7IG0yKyspIHtcbiAgICAgICAgICB2YXIgZWxlbWVudCA9IG11dGF0aW9uLnJlbW92ZWROb2Rlc1ttMl07XG5cbiAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gX3RoaXMuc3RhdGUuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgX3RoaXMuaGlkZVRvb2x0aXAoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIG9ic2VydmVyLm9ic2VydmUod2luZG93LmRvY3VtZW50LCB7XG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5yZW1vdmFsVHJhY2tlciA9IG9ic2VydmVyO1xuICB9O1xuXG4gIHRhcmdldC5wcm90b3R5cGUudW5iaW5kUmVtb3ZhbFRyYWNrZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucmVtb3ZhbFRyYWNrZXIpIHtcbiAgICAgIHRoaXMucmVtb3ZhbFRyYWNrZXIuZGlzY29ubmVjdCgpO1xuICAgICAgdGhpcy5yZW1vdmFsVHJhY2tlciA9IG51bGw7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9zaXRpb24gb2YgdG9vbHRpcFxuICpcbiAqIEBwYXJhbXNcbiAqIC0gYGVgIHtFdmVudH0gdGhlIGV2ZW50IG9mIGN1cnJlbnQgbW91c2VcbiAqIC0gYHRhcmdldGAge0VsZW1lbnR9IHRoZSBjdXJyZW50VGFyZ2V0IG9mIHRoZSBldmVudFxuICogLSBgbm9kZWAge0RPTX0gdGhlIHJlYWN0LXRvb2x0aXAgb2JqZWN0XG4gKiAtIGBwbGFjZWAge1N0cmluZ30gdG9wIC8gcmlnaHQgLyBib3R0b20gLyBsZWZ0XG4gKiAtIGBlZmZlY3RgIHtTdHJpbmd9IGZsb2F0IC8gc29saWRcbiAqIC0gYG9mZnNldGAge09iamVjdH0gdGhlIG9mZnNldCB0byBkZWZhdWx0IHBvc2l0aW9uXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICogLSBgaXNOZXdTdGF0ZWAge0Jvb2x9IHJlcXVpcmVkXG4gKiAtIGBuZXdTdGF0ZWAge09iamVjdH1cbiAqIC0gYHBvc2l0aW9uYCB7T2JqZWN0fSB7bGVmdDoge051bWJlcn0sIHRvcDoge051bWJlcn19XG4gKi9cbmZ1bmN0aW9uIGdldFBvc2l0aW9uIChlLCB0YXJnZXQsIG5vZGUsIHBsYWNlLCBkZXNpcmVkUGxhY2UsIGVmZmVjdCwgb2Zmc2V0KSB7XG4gIHZhciBfZ2V0RGltZW5zaW9ucyA9IGdldERpbWVuc2lvbnMobm9kZSksXG4gICAgICB0aXBXaWR0aCA9IF9nZXREaW1lbnNpb25zLndpZHRoLFxuICAgICAgdGlwSGVpZ2h0ID0gX2dldERpbWVuc2lvbnMuaGVpZ2h0O1xuXG4gIHZhciBfZ2V0RGltZW5zaW9uczIgPSBnZXREaW1lbnNpb25zKHRhcmdldCksXG4gICAgICB0YXJnZXRXaWR0aCA9IF9nZXREaW1lbnNpb25zMi53aWR0aCxcbiAgICAgIHRhcmdldEhlaWdodCA9IF9nZXREaW1lbnNpb25zMi5oZWlnaHQ7XG5cbiAgdmFyIF9nZXRDdXJyZW50T2Zmc2V0ID0gZ2V0Q3VycmVudE9mZnNldChlLCB0YXJnZXQsIGVmZmVjdCksXG4gICAgICBtb3VzZVggPSBfZ2V0Q3VycmVudE9mZnNldC5tb3VzZVgsXG4gICAgICBtb3VzZVkgPSBfZ2V0Q3VycmVudE9mZnNldC5tb3VzZVk7XG5cbiAgdmFyIGRlZmF1bHRPZmZzZXQgPSBnZXREZWZhdWx0UG9zaXRpb24oZWZmZWN0LCB0YXJnZXRXaWR0aCwgdGFyZ2V0SGVpZ2h0LCB0aXBXaWR0aCwgdGlwSGVpZ2h0KTtcblxuICB2YXIgX2NhbGN1bGF0ZU9mZnNldCA9IGNhbGN1bGF0ZU9mZnNldChvZmZzZXQpLFxuICAgICAgZXh0cmFPZmZzZXRfWCA9IF9jYWxjdWxhdGVPZmZzZXQuZXh0cmFPZmZzZXRfWCxcbiAgICAgIGV4dHJhT2Zmc2V0X1kgPSBfY2FsY3VsYXRlT2Zmc2V0LmV4dHJhT2Zmc2V0X1k7XG5cbiAgdmFyIHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gIHZhciB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgdmFyIF9nZXRQYXJlbnQgPSBnZXRQYXJlbnQobm9kZSksXG4gICAgICBwYXJlbnRUb3AgPSBfZ2V0UGFyZW50LnBhcmVudFRvcCxcbiAgICAgIHBhcmVudExlZnQgPSBfZ2V0UGFyZW50LnBhcmVudExlZnQ7IC8vIEdldCB0aGUgZWRnZSBvZmZzZXQgb2YgdGhlIHRvb2x0aXBcblxuXG4gIHZhciBnZXRUaXBPZmZzZXRMZWZ0ID0gZnVuY3Rpb24gZ2V0VGlwT2Zmc2V0TGVmdChwbGFjZSkge1xuICAgIHZhciBvZmZzZXRfWCA9IGRlZmF1bHRPZmZzZXRbcGxhY2VdLmw7XG4gICAgcmV0dXJuIG1vdXNlWCArIG9mZnNldF9YICsgZXh0cmFPZmZzZXRfWDtcbiAgfTtcblxuICB2YXIgZ2V0VGlwT2Zmc2V0UmlnaHQgPSBmdW5jdGlvbiBnZXRUaXBPZmZzZXRSaWdodChwbGFjZSkge1xuICAgIHZhciBvZmZzZXRfWCA9IGRlZmF1bHRPZmZzZXRbcGxhY2VdLnI7XG4gICAgcmV0dXJuIG1vdXNlWCArIG9mZnNldF9YICsgZXh0cmFPZmZzZXRfWDtcbiAgfTtcblxuICB2YXIgZ2V0VGlwT2Zmc2V0VG9wID0gZnVuY3Rpb24gZ2V0VGlwT2Zmc2V0VG9wKHBsYWNlKSB7XG4gICAgdmFyIG9mZnNldF9ZID0gZGVmYXVsdE9mZnNldFtwbGFjZV0udDtcbiAgICByZXR1cm4gbW91c2VZICsgb2Zmc2V0X1kgKyBleHRyYU9mZnNldF9ZO1xuICB9O1xuXG4gIHZhciBnZXRUaXBPZmZzZXRCb3R0b20gPSBmdW5jdGlvbiBnZXRUaXBPZmZzZXRCb3R0b20ocGxhY2UpIHtcbiAgICB2YXIgb2Zmc2V0X1kgPSBkZWZhdWx0T2Zmc2V0W3BsYWNlXS5iO1xuICAgIHJldHVybiBtb3VzZVkgKyBvZmZzZXRfWSArIGV4dHJhT2Zmc2V0X1k7XG4gIH07IC8vXG4gIC8vIEZ1bmN0aW9ucyB0byB0ZXN0IHdoZXRoZXIgdGhlIHRvb2x0aXAncyBzaWRlcyBhcmUgaW5zaWRlXG4gIC8vIHRoZSBjbGllbnQgd2luZG93IGZvciBhIGdpdmVuIG9yaWVudGF0aW9uIHBcbiAgLy9cbiAgLy8gIF9fX19fX19fX19fX19cbiAgLy8gfCAgICAgICAgICAgICB8IDwtLSBSaWdodCBzaWRlXG4gIC8vIHwgcCA9ICdsZWZ0JyAgfFxcXG4gIC8vIHwgICAgICAgICAgICAgfC8gIHxcXFxuICAvLyB8X19fX19fX19fX19fX3wgICB8X1xcICA8LS0gTW91c2VcbiAgLy8gICAgICAvIFxcICAgICAgICAgICB8XG4gIC8vICAgICAgIHxcbiAgLy8gICAgICAgfFxuICAvLyAgQm90dG9tIHNpZGVcbiAgLy9cblxuXG4gIHZhciBvdXRzaWRlTGVmdCA9IGZ1bmN0aW9uIG91dHNpZGVMZWZ0KHApIHtcbiAgICByZXR1cm4gZ2V0VGlwT2Zmc2V0TGVmdChwKSA8IDA7XG4gIH07XG5cbiAgdmFyIG91dHNpZGVSaWdodCA9IGZ1bmN0aW9uIG91dHNpZGVSaWdodChwKSB7XG4gICAgcmV0dXJuIGdldFRpcE9mZnNldFJpZ2h0KHApID4gd2luZG93V2lkdGg7XG4gIH07XG5cbiAgdmFyIG91dHNpZGVUb3AgPSBmdW5jdGlvbiBvdXRzaWRlVG9wKHApIHtcbiAgICByZXR1cm4gZ2V0VGlwT2Zmc2V0VG9wKHApIDwgMDtcbiAgfTtcblxuICB2YXIgb3V0c2lkZUJvdHRvbSA9IGZ1bmN0aW9uIG91dHNpZGVCb3R0b20ocCkge1xuICAgIHJldHVybiBnZXRUaXBPZmZzZXRCb3R0b20ocCkgPiB3aW5kb3dIZWlnaHQ7XG4gIH07IC8vIENoZWNrIHdoZXRoZXIgdGhlIHRvb2x0aXAgd2l0aCBvcmllbnRhdGlvbiBwIGlzIGNvbXBsZXRlbHkgaW5zaWRlIHRoZSBjbGllbnQgd2luZG93XG5cblxuICB2YXIgb3V0c2lkZSA9IGZ1bmN0aW9uIG91dHNpZGUocCkge1xuICAgIHJldHVybiBvdXRzaWRlTGVmdChwKSB8fCBvdXRzaWRlUmlnaHQocCkgfHwgb3V0c2lkZVRvcChwKSB8fCBvdXRzaWRlQm90dG9tKHApO1xuICB9O1xuXG4gIHZhciBpbnNpZGUgPSBmdW5jdGlvbiBpbnNpZGUocCkge1xuICAgIHJldHVybiAhb3V0c2lkZShwKTtcbiAgfTtcblxuICB2YXIgcGxhY2VzTGlzdCA9IFtcInRvcFwiLCBcImJvdHRvbVwiLCBcImxlZnRcIiwgXCJyaWdodFwiXTtcbiAgdmFyIGluc2lkZUxpc3QgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgIHZhciBwID0gcGxhY2VzTGlzdFtpXTtcblxuICAgIGlmIChpbnNpZGUocCkpIHtcbiAgICAgIGluc2lkZUxpc3QucHVzaChwKTtcbiAgICB9XG4gIH1cblxuICB2YXIgaXNOZXdTdGF0ZSA9IGZhbHNlO1xuICB2YXIgbmV3UGxhY2U7XG4gIHZhciBzaG91bGRVcGRhdGVQbGFjZSA9IGRlc2lyZWRQbGFjZSAhPT0gcGxhY2U7XG5cbiAgaWYgKGluc2lkZShkZXNpcmVkUGxhY2UpICYmIHNob3VsZFVwZGF0ZVBsYWNlKSB7XG4gICAgaXNOZXdTdGF0ZSA9IHRydWU7XG4gICAgbmV3UGxhY2UgPSBkZXNpcmVkUGxhY2U7XG4gIH0gZWxzZSBpZiAoaW5zaWRlTGlzdC5sZW5ndGggPiAwICYmIHNob3VsZFVwZGF0ZVBsYWNlICYmIG91dHNpZGUoZGVzaXJlZFBsYWNlKSAmJiBvdXRzaWRlKHBsYWNlKSkge1xuICAgIGlzTmV3U3RhdGUgPSB0cnVlO1xuICAgIG5ld1BsYWNlID0gaW5zaWRlTGlzdFswXTtcbiAgfVxuXG4gIGlmIChpc05ld1N0YXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTmV3U3RhdGU6IHRydWUsXG4gICAgICBuZXdTdGF0ZToge1xuICAgICAgICBwbGFjZTogbmV3UGxhY2VcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc05ld1N0YXRlOiBmYWxzZSxcbiAgICBwb3NpdGlvbjoge1xuICAgICAgbGVmdDogcGFyc2VJbnQoZ2V0VGlwT2Zmc2V0TGVmdChwbGFjZSkgLSBwYXJlbnRMZWZ0LCAxMCksXG4gICAgICB0b3A6IHBhcnNlSW50KGdldFRpcE9mZnNldFRvcChwbGFjZSkgLSBwYXJlbnRUb3AsIDEwKVxuICAgIH1cbiAgfTtcbn1cblxudmFyIGdldERpbWVuc2lvbnMgPSBmdW5jdGlvbiBnZXREaW1lbnNpb25zKG5vZGUpIHtcbiAgdmFyIF9ub2RlJGdldEJvdW5kaW5nQ2xpZSA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICBoZWlnaHQgPSBfbm9kZSRnZXRCb3VuZGluZ0NsaWUuaGVpZ2h0LFxuICAgICAgd2lkdGggPSBfbm9kZSRnZXRCb3VuZGluZ0NsaWUud2lkdGg7XG5cbiAgcmV0dXJuIHtcbiAgICBoZWlnaHQ6IHBhcnNlSW50KGhlaWdodCwgMTApLFxuICAgIHdpZHRoOiBwYXJzZUludCh3aWR0aCwgMTApXG4gIH07XG59OyAvLyBHZXQgY3VycmVudCBtb3VzZSBvZmZzZXRcblxuXG52YXIgZ2V0Q3VycmVudE9mZnNldCA9IGZ1bmN0aW9uIGdldEN1cnJlbnRPZmZzZXQoZSwgY3VycmVudFRhcmdldCwgZWZmZWN0KSB7XG4gIHZhciBib3VuZGluZ0NsaWVudFJlY3QgPSBjdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgdGFyZ2V0VG9wID0gYm91bmRpbmdDbGllbnRSZWN0LnRvcDtcbiAgdmFyIHRhcmdldExlZnQgPSBib3VuZGluZ0NsaWVudFJlY3QubGVmdDtcblxuICB2YXIgX2dldERpbWVuc2lvbnMzID0gZ2V0RGltZW5zaW9ucyhjdXJyZW50VGFyZ2V0KSxcbiAgICAgIHRhcmdldFdpZHRoID0gX2dldERpbWVuc2lvbnMzLndpZHRoLFxuICAgICAgdGFyZ2V0SGVpZ2h0ID0gX2dldERpbWVuc2lvbnMzLmhlaWdodDtcblxuICBpZiAoZWZmZWN0ID09PSBcImZsb2F0XCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbW91c2VYOiBlLmNsaWVudFgsXG4gICAgICBtb3VzZVk6IGUuY2xpZW50WVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1vdXNlWDogdGFyZ2V0TGVmdCArIHRhcmdldFdpZHRoIC8gMixcbiAgICBtb3VzZVk6IHRhcmdldFRvcCArIHRhcmdldEhlaWdodCAvIDJcbiAgfTtcbn07IC8vIExpc3QgYWxsIHBvc3NpYmlsaXR5IG9mIHRvb2x0aXAgZmluYWwgb2Zmc2V0XG4vLyBUaGlzIGlzIHVzZWZ1bCBpbiBqdWRnaW5nIGlmIGl0IGlzIG5lY2Vzc2FyeSBmb3IgdG9vbHRpcCB0byBzd2l0Y2ggcG9zaXRpb24gd2hlbiBvdXQgb2Ygd2luZG93XG5cblxudmFyIGdldERlZmF1bHRQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldERlZmF1bHRQb3NpdGlvbihlZmZlY3QsIHRhcmdldFdpZHRoLCB0YXJnZXRIZWlnaHQsIHRpcFdpZHRoLCB0aXBIZWlnaHQpIHtcbiAgdmFyIHRvcDtcbiAgdmFyIHJpZ2h0O1xuICB2YXIgYm90dG9tO1xuICB2YXIgbGVmdDtcbiAgdmFyIGRpc1RvTW91c2UgPSAzO1xuICB2YXIgdHJpYW5nbGVIZWlnaHQgPSAyO1xuICB2YXIgY3Vyc29ySGVpZ2h0ID0gMTI7IC8vIE9wdGltaXplIGZvciBmbG9hdCBib3R0b20gb25seSwgY2F1c2UgdGhlIGN1cnNvciB3aWxsIGhpZGUgdGhlIHRvb2x0aXBcblxuICBpZiAoZWZmZWN0ID09PSBcImZsb2F0XCIpIHtcbiAgICB0b3AgPSB7XG4gICAgICBsOiAtKHRpcFdpZHRoIC8gMiksXG4gICAgICByOiB0aXBXaWR0aCAvIDIsXG4gICAgICB0OiAtKHRpcEhlaWdodCArIGRpc1RvTW91c2UgKyB0cmlhbmdsZUhlaWdodCksXG4gICAgICBiOiAtZGlzVG9Nb3VzZVxuICAgIH07XG4gICAgYm90dG9tID0ge1xuICAgICAgbDogLSh0aXBXaWR0aCAvIDIpLFxuICAgICAgcjogdGlwV2lkdGggLyAyLFxuICAgICAgdDogZGlzVG9Nb3VzZSArIGN1cnNvckhlaWdodCxcbiAgICAgIGI6IHRpcEhlaWdodCArIGRpc1RvTW91c2UgKyB0cmlhbmdsZUhlaWdodCArIGN1cnNvckhlaWdodFxuICAgIH07XG4gICAgbGVmdCA9IHtcbiAgICAgIGw6IC0odGlwV2lkdGggKyBkaXNUb01vdXNlICsgdHJpYW5nbGVIZWlnaHQpLFxuICAgICAgcjogLWRpc1RvTW91c2UsXG4gICAgICB0OiAtKHRpcEhlaWdodCAvIDIpLFxuICAgICAgYjogdGlwSGVpZ2h0IC8gMlxuICAgIH07XG4gICAgcmlnaHQgPSB7XG4gICAgICBsOiBkaXNUb01vdXNlLFxuICAgICAgcjogdGlwV2lkdGggKyBkaXNUb01vdXNlICsgdHJpYW5nbGVIZWlnaHQsXG4gICAgICB0OiAtKHRpcEhlaWdodCAvIDIpLFxuICAgICAgYjogdGlwSGVpZ2h0IC8gMlxuICAgIH07XG4gIH0gZWxzZSBpZiAoZWZmZWN0ID09PSBcInNvbGlkXCIpIHtcbiAgICB0b3AgPSB7XG4gICAgICBsOiAtKHRpcFdpZHRoIC8gMiksXG4gICAgICByOiB0aXBXaWR0aCAvIDIsXG4gICAgICB0OiAtKHRhcmdldEhlaWdodCAvIDIgKyB0aXBIZWlnaHQgKyB0cmlhbmdsZUhlaWdodCksXG4gICAgICBiOiAtKHRhcmdldEhlaWdodCAvIDIpXG4gICAgfTtcbiAgICBib3R0b20gPSB7XG4gICAgICBsOiAtKHRpcFdpZHRoIC8gMiksXG4gICAgICByOiB0aXBXaWR0aCAvIDIsXG4gICAgICB0OiB0YXJnZXRIZWlnaHQgLyAyLFxuICAgICAgYjogdGFyZ2V0SGVpZ2h0IC8gMiArIHRpcEhlaWdodCArIHRyaWFuZ2xlSGVpZ2h0XG4gICAgfTtcbiAgICBsZWZ0ID0ge1xuICAgICAgbDogLSh0aXBXaWR0aCArIHRhcmdldFdpZHRoIC8gMiArIHRyaWFuZ2xlSGVpZ2h0KSxcbiAgICAgIHI6IC0odGFyZ2V0V2lkdGggLyAyKSxcbiAgICAgIHQ6IC0odGlwSGVpZ2h0IC8gMiksXG4gICAgICBiOiB0aXBIZWlnaHQgLyAyXG4gICAgfTtcbiAgICByaWdodCA9IHtcbiAgICAgIGw6IHRhcmdldFdpZHRoIC8gMixcbiAgICAgIHI6IHRpcFdpZHRoICsgdGFyZ2V0V2lkdGggLyAyICsgdHJpYW5nbGVIZWlnaHQsXG4gICAgICB0OiAtKHRpcEhlaWdodCAvIDIpLFxuICAgICAgYjogdGlwSGVpZ2h0IC8gMlxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRvcDogdG9wLFxuICAgIGJvdHRvbTogYm90dG9tLFxuICAgIGxlZnQ6IGxlZnQsXG4gICAgcmlnaHQ6IHJpZ2h0XG4gIH07XG59OyAvLyBDb25zaWRlciBhZGRpdGlvbmFsIG9mZnNldCBpbnRvIHBvc2l0aW9uIGNhbGN1bGF0aW9uXG5cblxudmFyIGNhbGN1bGF0ZU9mZnNldCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZU9mZnNldChvZmZzZXQpIHtcbiAgdmFyIGV4dHJhT2Zmc2V0X1ggPSAwO1xuICB2YXIgZXh0cmFPZmZzZXRfWSA9IDA7XG5cbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkob2Zmc2V0KSA9PT0gXCJbb2JqZWN0IFN0cmluZ11cIikge1xuICAgIG9mZnNldCA9IEpTT04ucGFyc2Uob2Zmc2V0LnRvU3RyaW5nKCkucmVwbGFjZSgvXFwnL2csICdcIicpKTtcbiAgfVxuXG4gIGZvciAodmFyIGtleSBpbiBvZmZzZXQpIHtcbiAgICBpZiAoa2V5ID09PSBcInRvcFwiKSB7XG4gICAgICBleHRyYU9mZnNldF9ZIC09IHBhcnNlSW50KG9mZnNldFtrZXldLCAxMCk7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiYm90dG9tXCIpIHtcbiAgICAgIGV4dHJhT2Zmc2V0X1kgKz0gcGFyc2VJbnQob2Zmc2V0W2tleV0sIDEwKTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJsZWZ0XCIpIHtcbiAgICAgIGV4dHJhT2Zmc2V0X1ggLT0gcGFyc2VJbnQob2Zmc2V0W2tleV0sIDEwKTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJyaWdodFwiKSB7XG4gICAgICBleHRyYU9mZnNldF9YICs9IHBhcnNlSW50KG9mZnNldFtrZXldLCAxMCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBleHRyYU9mZnNldF9YOiBleHRyYU9mZnNldF9YLFxuICAgIGV4dHJhT2Zmc2V0X1k6IGV4dHJhT2Zmc2V0X1lcbiAgfTtcbn07IC8vIEdldCB0aGUgb2Zmc2V0IG9mIHRoZSBwYXJlbnQgZWxlbWVudHNcblxuXG52YXIgZ2V0UGFyZW50ID0gZnVuY3Rpb24gZ2V0UGFyZW50KGN1cnJlbnRUYXJnZXQpIHtcbiAgdmFyIGN1cnJlbnRQYXJlbnQgPSBjdXJyZW50VGFyZ2V0O1xuXG4gIHdoaWxlIChjdXJyZW50UGFyZW50KSB7XG4gICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGN1cnJlbnRQYXJlbnQpLmdldFByb3BlcnR5VmFsdWUoXCJ0cmFuc2Zvcm1cIikgIT09IFwibm9uZVwiKSBicmVhaztcbiAgICBjdXJyZW50UGFyZW50ID0gY3VycmVudFBhcmVudC5wYXJlbnRFbGVtZW50O1xuICB9XG5cbiAgdmFyIHBhcmVudFRvcCA9IGN1cnJlbnRQYXJlbnQgJiYgY3VycmVudFBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgfHwgMDtcbiAgdmFyIHBhcmVudExlZnQgPSBjdXJyZW50UGFyZW50ICYmIGN1cnJlbnRQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCB8fCAwO1xuICByZXR1cm4ge1xuICAgIHBhcmVudFRvcDogcGFyZW50VG9wLFxuICAgIHBhcmVudExlZnQ6IHBhcmVudExlZnRcbiAgfTtcbn07XG5cbi8qKlxuICogVG8gZ2V0IHRoZSB0b29sdGlwIGNvbnRlbnRcbiAqIGl0IG1heSBjb21lcyBmcm9tIGRhdGEtdGlwIG9yIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAqIGl0IHNob3VsZCBzdXBwb3J0IG11bHRpbGluZVxuICpcbiAqIEBwYXJhbXNcbiAqIC0gYHRpcGAge1N0cmluZ30gdmFsdWUgb2YgZGF0YS10aXBcbiAqIC0gYGNoaWxkcmVuYCB7UmVhY3RFbGVtZW50fSB0aGlzLnByb3BzLmNoaWxkcmVuXG4gKiAtIGBtdWx0aWxpbmVgIHtBbnl9IGNvdWxkIGJlIEJvb2wodHJ1ZS9mYWxzZSkgb3IgU3RyaW5nKCd0cnVlJy8nZmFsc2UnKVxuICpcbiAqIEByZXR1cm5cbiAqIC0gU3RyaW5nIG9yIHJlYWN0IGNvbXBvbmVudFxuICovXG5mdW5jdGlvbiBnZXRUaXBDb250ZW50ICh0aXAsIGNoaWxkcmVuLCBnZXRDb250ZW50LCBtdWx0aWxpbmUpIHtcbiAgaWYgKGNoaWxkcmVuKSByZXR1cm4gY2hpbGRyZW47XG4gIGlmIChnZXRDb250ZW50ICE9PSB1bmRlZmluZWQgJiYgZ2V0Q29udGVudCAhPT0gbnVsbCkgcmV0dXJuIGdldENvbnRlbnQ7IC8vIGdldENvbnRlbnQgY2FuIGJlIDAsICcnLCBldGMuXG5cbiAgaWYgKGdldENvbnRlbnQgPT09IG51bGwpIHJldHVybiBudWxsOyAvLyBUaXAgbm90IGV4aXN0IGFuZCBjaGlsZHJlbiBpcyBudWxsIG9yIHVuZGVmaW5lZFxuXG4gIHZhciByZWdleHAgPSAvPGJyXFxzKlxcLz8+LztcblxuICBpZiAoIW11bHRpbGluZSB8fCBtdWx0aWxpbmUgPT09IFwiZmFsc2VcIiB8fCAhcmVnZXhwLnRlc3QodGlwKSkge1xuICAgIC8vIE5vIHRyaW0oKSwgc28gdGhhdCB1c2VyIGNhbiBrZWVwIHRoZWlyIGlucHV0XG4gICAgcmV0dXJuIHRpcDtcbiAgfSAvLyBNdWx0aWxpbmUgdG9vbHRpcCBjb250ZW50XG5cblxuICByZXR1cm4gdGlwLnNwbGl0KHJlZ2V4cCkubWFwKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGtleTogaSxcbiAgICAgIGNsYXNzTmFtZTogXCJtdWx0aS1saW5lXCJcbiAgICB9LCBkKTtcbiAgfSk7XG59XG5cbi8qKlxuICogU3VwcG9ydCBhcmlhLSBhbmQgcm9sZSBpbiBSZWFjdFRvb2x0aXBcbiAqXG4gKiBAcGFyYW1zIHByb3BzIHtPYmplY3R9XG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlQXJpYShwcm9wcykge1xuICB2YXIgYXJpYU9iaiA9IHt9O1xuICBPYmplY3Qua2V5cyhwcm9wcykuZmlsdGVyKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgLy8gYXJpYS14eHggYW5kIHJvbGUgaXMgYWNjZXB0YWJsZVxuICAgIHJldHVybiAvKF5hcmlhLVxcdyskfF5yb2xlJCkvLnRlc3QocHJvcCk7XG4gIH0pLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICBhcmlhT2JqW3Byb3BdID0gcHJvcHNbcHJvcF07XG4gIH0pO1xuICByZXR1cm4gYXJpYU9iajtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IG5vZGVsaXN0IHRvIGFycmF5XG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mYmpzL2Jsb2IvZTY2YmEyMGFkNWJlNDMzZWI1NDQyM2YyYjA5N2Q4MjkzMjRkOWRlNi9wYWNrYWdlcy9mYmpzL3NyYy9jb3JlL2NyZWF0ZUFycmF5RnJvbU1peGVkLmpzI0wyNFxuICogTm9kZUxpc3RzIGFyZSBmdW5jdGlvbnMgaW4gU2FmYXJpXG4gKi9cbmZ1bmN0aW9uIG5vZGVMaXN0VG9BcnJheSAobm9kZUxpc3QpIHtcbiAgdmFyIGxlbmd0aCA9IG5vZGVMaXN0Lmxlbmd0aDtcblxuICBpZiAobm9kZUxpc3QuaGFzT3duUHJvcGVydHkpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobm9kZUxpc3QpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBBcnJheShsZW5ndGgpLmZpbGwoKS5tYXAoZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIG5vZGVMaXN0W2luZGV4XTtcbiAgfSk7XG59XG5cbl9fXyRpbnNlcnRTdHlsZShcIi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwIHtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIGZvbnQtc2l6ZTogMTNweDtcXG4gIGxlZnQ6IC05OTllbTtcXG4gIG9wYWNpdHk6IDA7XFxuICBwYWRkaW5nOiA4cHggMjFweDtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzIGVhc2Utb3V0O1xcbiAgdG9wOiAtOTk5ZW07XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxuICB6LWluZGV4OiA5OTk7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLmFsbG93X2hvdmVyLCAuX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC5hbGxvd19jbGljayB7XFxuICBwb2ludGVyLWV2ZW50czogYXV0bztcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXA6YmVmb3JlLCAuX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcDphZnRlciB7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC5zaG93IHtcXG4gIG9wYWNpdHk6IDAuOTtcXG4gIG1hcmdpbi10b3A6IDBweDtcXG4gIG1hcmdpbi1sZWZ0OiAwcHg7XFxuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLWRhcmsge1xcbiAgY29sb3I6ICNmZmY7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyO1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLWRhcmsucGxhY2UtdG9wOmFmdGVyIHtcXG4gIGJvcmRlci10b3AtY29sb3I6ICMyMjI7XFxuICBib3JkZXItdG9wLXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci10b3Atd2lkdGg6IDZweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1kYXJrLnBsYWNlLWJvdHRvbTphZnRlciB7XFxuICBib3JkZXItYm90dG9tLWNvbG9yOiAjMjIyO1xcbiAgYm9yZGVyLWJvdHRvbS1zdHlsZTogc29saWQ7XFxuICBib3JkZXItYm90dG9tLXdpZHRoOiA2cHg7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtZGFyay5wbGFjZS1sZWZ0OmFmdGVyIHtcXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiAjMjIyO1xcbiAgYm9yZGVyLWxlZnQtc3R5bGU6IHNvbGlkO1xcbiAgYm9yZGVyLWxlZnQtd2lkdGg6IDZweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1kYXJrLnBsYWNlLXJpZ2h0OmFmdGVyIHtcXG4gIGJvcmRlci1yaWdodC1jb2xvcjogIzIyMjtcXG4gIGJvcmRlci1yaWdodC1zdHlsZTogc29saWQ7XFxuICBib3JkZXItcmlnaHQtd2lkdGg6IDZweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1kYXJrLmJvcmRlciB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZmZmO1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLWRhcmsuYm9yZGVyLnBsYWNlLXRvcDpiZWZvcmUge1xcbiAgYm9yZGVyLXRvcDogOHB4IHNvbGlkICNmZmY7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtZGFyay5ib3JkZXIucGxhY2UtYm90dG9tOmJlZm9yZSB7XFxuICBib3JkZXItYm90dG9tOiA4cHggc29saWQgI2ZmZjtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1kYXJrLmJvcmRlci5wbGFjZS1sZWZ0OmJlZm9yZSB7XFxuICBib3JkZXItbGVmdDogOHB4IHNvbGlkICNmZmY7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtZGFyay5ib3JkZXIucGxhY2UtcmlnaHQ6YmVmb3JlIHtcXG4gIGJvcmRlci1yaWdodDogOHB4IHNvbGlkICNmZmY7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtc3VjY2VzcyB7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM4REM1NzI7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtc3VjY2Vzcy5wbGFjZS10b3A6YWZ0ZXIge1xcbiAgYm9yZGVyLXRvcC1jb2xvcjogIzhEQzU3MjtcXG4gIGJvcmRlci10b3Atc3R5bGU6IHNvbGlkO1xcbiAgYm9yZGVyLXRvcC13aWR0aDogNnB4O1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLXN1Y2Nlc3MucGxhY2UtYm90dG9tOmFmdGVyIHtcXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICM4REM1NzI7XFxuICBib3JkZXItYm90dG9tLXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci1ib3R0b20td2lkdGg6IDZweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1zdWNjZXNzLnBsYWNlLWxlZnQ6YWZ0ZXIge1xcbiAgYm9yZGVyLWxlZnQtY29sb3I6ICM4REM1NzI7XFxuICBib3JkZXItbGVmdC1zdHlsZTogc29saWQ7XFxuICBib3JkZXItbGVmdC13aWR0aDogNnB4O1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLXN1Y2Nlc3MucGxhY2UtcmlnaHQ6YWZ0ZXIge1xcbiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjOERDNTcyO1xcbiAgYm9yZGVyLXJpZ2h0LXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci1yaWdodC13aWR0aDogNnB4O1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLXN1Y2Nlc3MuYm9yZGVyIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNmZmY7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtc3VjY2Vzcy5ib3JkZXIucGxhY2UtdG9wOmJlZm9yZSB7XFxuICBib3JkZXItdG9wOiA4cHggc29saWQgI2ZmZjtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1zdWNjZXNzLmJvcmRlci5wbGFjZS1ib3R0b206YmVmb3JlIHtcXG4gIGJvcmRlci1ib3R0b206IDhweCBzb2xpZCAjZmZmO1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLXN1Y2Nlc3MuYm9yZGVyLnBsYWNlLWxlZnQ6YmVmb3JlIHtcXG4gIGJvcmRlci1sZWZ0OiA4cHggc29saWQgI2ZmZjtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1zdWNjZXNzLmJvcmRlci5wbGFjZS1yaWdodDpiZWZvcmUge1xcbiAgYm9yZGVyLXJpZ2h0OiA4cHggc29saWQgI2ZmZjtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS13YXJuaW5nIHtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0YwQUQ0RTtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS13YXJuaW5nLnBsYWNlLXRvcDphZnRlciB7XFxuICBib3JkZXItdG9wLWNvbG9yOiAjRjBBRDRFO1xcbiAgYm9yZGVyLXRvcC1zdHlsZTogc29saWQ7XFxuICBib3JkZXItdG9wLXdpZHRoOiA2cHg7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtd2FybmluZy5wbGFjZS1ib3R0b206YWZ0ZXIge1xcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogI0YwQUQ0RTtcXG4gIGJvcmRlci1ib3R0b20tc3R5bGU6IHNvbGlkO1xcbiAgYm9yZGVyLWJvdHRvbS13aWR0aDogNnB4O1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLXdhcm5pbmcucGxhY2UtbGVmdDphZnRlciB7XFxuICBib3JkZXItbGVmdC1jb2xvcjogI0YwQUQ0RTtcXG4gIGJvcmRlci1sZWZ0LXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci1sZWZ0LXdpZHRoOiA2cHg7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtd2FybmluZy5wbGFjZS1yaWdodDphZnRlciB7XFxuICBib3JkZXItcmlnaHQtY29sb3I6ICNGMEFENEU7XFxuICBib3JkZXItcmlnaHQtc3R5bGU6IHNvbGlkO1xcbiAgYm9yZGVyLXJpZ2h0LXdpZHRoOiA2cHg7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtd2FybmluZy5ib3JkZXIge1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2ZmZjtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS13YXJuaW5nLmJvcmRlci5wbGFjZS10b3A6YmVmb3JlIHtcXG4gIGJvcmRlci10b3A6IDhweCBzb2xpZCAjZmZmO1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLXdhcm5pbmcuYm9yZGVyLnBsYWNlLWJvdHRvbTpiZWZvcmUge1xcbiAgYm9yZGVyLWJvdHRvbTogOHB4IHNvbGlkICNmZmY7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtd2FybmluZy5ib3JkZXIucGxhY2UtbGVmdDpiZWZvcmUge1xcbiAgYm9yZGVyLWxlZnQ6IDhweCBzb2xpZCAjZmZmO1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLXdhcm5pbmcuYm9yZGVyLnBsYWNlLXJpZ2h0OmJlZm9yZSB7XFxuICBib3JkZXItcmlnaHQ6IDhweCBzb2xpZCAjZmZmO1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLWVycm9yIHtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0JFNjQ2NDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1lcnJvci5wbGFjZS10b3A6YWZ0ZXIge1xcbiAgYm9yZGVyLXRvcC1jb2xvcjogI0JFNjQ2NDtcXG4gIGJvcmRlci10b3Atc3R5bGU6IHNvbGlkO1xcbiAgYm9yZGVyLXRvcC13aWR0aDogNnB4O1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLWVycm9yLnBsYWNlLWJvdHRvbTphZnRlciB7XFxuICBib3JkZXItYm90dG9tLWNvbG9yOiAjQkU2NDY0O1xcbiAgYm9yZGVyLWJvdHRvbS1zdHlsZTogc29saWQ7XFxuICBib3JkZXItYm90dG9tLXdpZHRoOiA2cHg7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtZXJyb3IucGxhY2UtbGVmdDphZnRlciB7XFxuICBib3JkZXItbGVmdC1jb2xvcjogI0JFNjQ2NDtcXG4gIGJvcmRlci1sZWZ0LXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci1sZWZ0LXdpZHRoOiA2cHg7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtZXJyb3IucGxhY2UtcmlnaHQ6YWZ0ZXIge1xcbiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjQkU2NDY0O1xcbiAgYm9yZGVyLXJpZ2h0LXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci1yaWdodC13aWR0aDogNnB4O1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLWVycm9yLmJvcmRlciB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZmZmO1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLWVycm9yLmJvcmRlci5wbGFjZS10b3A6YmVmb3JlIHtcXG4gIGJvcmRlci10b3A6IDhweCBzb2xpZCAjZmZmO1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLWVycm9yLmJvcmRlci5wbGFjZS1ib3R0b206YmVmb3JlIHtcXG4gIGJvcmRlci1ib3R0b206IDhweCBzb2xpZCAjZmZmO1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLWVycm9yLmJvcmRlci5wbGFjZS1sZWZ0OmJlZm9yZSB7XFxuICBib3JkZXItbGVmdDogOHB4IHNvbGlkICNmZmY7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtZXJyb3IuYm9yZGVyLnBsYWNlLXJpZ2h0OmJlZm9yZSB7XFxuICBib3JkZXItcmlnaHQ6IDhweCBzb2xpZCAjZmZmO1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLWluZm8ge1xcbiAgY29sb3I6ICNmZmY7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzM3QUI3O1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLWluZm8ucGxhY2UtdG9wOmFmdGVyIHtcXG4gIGJvcmRlci10b3AtY29sb3I6ICMzMzdBQjc7XFxuICBib3JkZXItdG9wLXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci10b3Atd2lkdGg6IDZweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1pbmZvLnBsYWNlLWJvdHRvbTphZnRlciB7XFxuICBib3JkZXItYm90dG9tLWNvbG9yOiAjMzM3QUI3O1xcbiAgYm9yZGVyLWJvdHRvbS1zdHlsZTogc29saWQ7XFxuICBib3JkZXItYm90dG9tLXdpZHRoOiA2cHg7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtaW5mby5wbGFjZS1sZWZ0OmFmdGVyIHtcXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiAjMzM3QUI3O1xcbiAgYm9yZGVyLWxlZnQtc3R5bGU6IHNvbGlkO1xcbiAgYm9yZGVyLWxlZnQtd2lkdGg6IDZweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1pbmZvLnBsYWNlLXJpZ2h0OmFmdGVyIHtcXG4gIGJvcmRlci1yaWdodC1jb2xvcjogIzMzN0FCNztcXG4gIGJvcmRlci1yaWdodC1zdHlsZTogc29saWQ7XFxuICBib3JkZXItcmlnaHQtd2lkdGg6IDZweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1pbmZvLmJvcmRlciB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZmZmO1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLWluZm8uYm9yZGVyLnBsYWNlLXRvcDpiZWZvcmUge1xcbiAgYm9yZGVyLXRvcDogOHB4IHNvbGlkICNmZmY7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtaW5mby5ib3JkZXIucGxhY2UtYm90dG9tOmJlZm9yZSB7XFxuICBib3JkZXItYm90dG9tOiA4cHggc29saWQgI2ZmZjtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1pbmZvLmJvcmRlci5wbGFjZS1sZWZ0OmJlZm9yZSB7XFxuICBib3JkZXItbGVmdDogOHB4IHNvbGlkICNmZmY7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtaW5mby5ib3JkZXIucGxhY2UtcmlnaHQ6YmVmb3JlIHtcXG4gIGJvcmRlci1yaWdodDogOHB4IHNvbGlkICNmZmY7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtbGlnaHQge1xcbiAgY29sb3I6ICMyMjI7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC50eXBlLWxpZ2h0LnBsYWNlLXRvcDphZnRlciB7XFxuICBib3JkZXItdG9wLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXRvcC1zdHlsZTogc29saWQ7XFxuICBib3JkZXItdG9wLXdpZHRoOiA2cHg7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtbGlnaHQucGxhY2UtYm90dG9tOmFmdGVyIHtcXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICNmZmY7XFxuICBib3JkZXItYm90dG9tLXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci1ib3R0b20td2lkdGg6IDZweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1saWdodC5wbGFjZS1sZWZ0OmFmdGVyIHtcXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLWxlZnQtc3R5bGU6IHNvbGlkO1xcbiAgYm9yZGVyLWxlZnQtd2lkdGg6IDZweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1saWdodC5wbGFjZS1yaWdodDphZnRlciB7XFxuICBib3JkZXItcmlnaHQtY29sb3I6ICNmZmY7XFxuICBib3JkZXItcmlnaHQtc3R5bGU6IHNvbGlkO1xcbiAgYm9yZGVyLXJpZ2h0LXdpZHRoOiA2cHg7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtbGlnaHQuYm9yZGVyIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMyMjI7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtbGlnaHQuYm9yZGVyLnBsYWNlLXRvcDpiZWZvcmUge1xcbiAgYm9yZGVyLXRvcDogOHB4IHNvbGlkICMyMjI7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtbGlnaHQuYm9yZGVyLnBsYWNlLWJvdHRvbTpiZWZvcmUge1xcbiAgYm9yZGVyLWJvdHRvbTogOHB4IHNvbGlkICMyMjI7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnR5cGUtbGlnaHQuYm9yZGVyLnBsYWNlLWxlZnQ6YmVmb3JlIHtcXG4gIGJvcmRlci1sZWZ0OiA4cHggc29saWQgIzIyMjtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAudHlwZS1saWdodC5ib3JkZXIucGxhY2UtcmlnaHQ6YmVmb3JlIHtcXG4gIGJvcmRlci1yaWdodDogOHB4IHNvbGlkICMyMjI7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnBsYWNlLXRvcCB7XFxuICBtYXJnaW4tdG9wOiAtMTBweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAucGxhY2UtdG9wOmJlZm9yZSB7XFxuICBib3JkZXItbGVmdDogMTBweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1yaWdodDogMTBweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvdHRvbTogLThweDtcXG4gIGxlZnQ6IDUwJTtcXG4gIG1hcmdpbi1sZWZ0OiAtMTBweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAucGxhY2UtdG9wOmFmdGVyIHtcXG4gIGJvcmRlci1sZWZ0OiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmlnaHQ6IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvdHRvbTogLTZweDtcXG4gIGxlZnQ6IDUwJTtcXG4gIG1hcmdpbi1sZWZ0OiAtOHB4O1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC5wbGFjZS1ib3R0b20ge1xcbiAgbWFyZ2luLXRvcDogMTBweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAucGxhY2UtYm90dG9tOmJlZm9yZSB7XFxuICBib3JkZXItbGVmdDogMTBweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1yaWdodDogMTBweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIHRvcDogLThweDtcXG4gIGxlZnQ6IDUwJTtcXG4gIG1hcmdpbi1sZWZ0OiAtMTBweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAucGxhY2UtYm90dG9tOmFmdGVyIHtcXG4gIGJvcmRlci1sZWZ0OiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmlnaHQ6IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIHRvcDogLTZweDtcXG4gIGxlZnQ6IDUwJTtcXG4gIG1hcmdpbi1sZWZ0OiAtOHB4O1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC5wbGFjZS1sZWZ0IHtcXG4gIG1hcmdpbi1sZWZ0OiAtMTBweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAucGxhY2UtbGVmdDpiZWZvcmUge1xcbiAgYm9yZGVyLXRvcDogNnB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWJvdHRvbTogNnB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgcmlnaHQ6IC04cHg7XFxuICB0b3A6IDUwJTtcXG4gIG1hcmdpbi10b3A6IC01cHg7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnBsYWNlLWxlZnQ6YWZ0ZXIge1xcbiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWJvdHRvbTogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgcmlnaHQ6IC02cHg7XFxuICB0b3A6IDUwJTtcXG4gIG1hcmdpbi10b3A6IC00cHg7XFxufVxcbi5fX3JlYWN0X2NvbXBvbmVudF90b29sdGlwLnBsYWNlLXJpZ2h0IHtcXG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xcbn1cXG4uX19yZWFjdF9jb21wb25lbnRfdG9vbHRpcC5wbGFjZS1yaWdodDpiZWZvcmUge1xcbiAgYm9yZGVyLXRvcDogNnB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWJvdHRvbTogNnB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgbGVmdDogLThweDtcXG4gIHRvcDogNTAlO1xcbiAgbWFyZ2luLXRvcDogLTVweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAucGxhY2UtcmlnaHQ6YWZ0ZXIge1xcbiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWJvdHRvbTogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgbGVmdDogLTZweDtcXG4gIHRvcDogNTAlO1xcbiAgbWFyZ2luLXRvcDogLTRweDtcXG59XFxuLl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXAgLm11bHRpLWxpbmUge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBwYWRkaW5nOiAycHggMHB4O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cIik7XG5cbnZhciBfY2xhc3MsIF9jbGFzczIsIF90ZW1wO1xuXG52YXIgUmVhY3RUb29sdGlwID0gc3RhdGljTWV0aG9kcyhfY2xhc3MgPSB3aW5kb3dMaXN0ZW5lcihfY2xhc3MgPSBjdXN0b21FdmVudChfY2xhc3MgPSBpc0NhcHR1cmUoX2NsYXNzID0gZ2V0RWZmZWN0KF9jbGFzcyA9IGJvZHlNb2RlKF9jbGFzcyA9IHRyYWNrUmVtb3ZhbChfY2xhc3MgPSAoX3RlbXAgPSBfY2xhc3MyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhSZWFjdFRvb2x0aXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFJlYWN0VG9vbHRpcChwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZWFjdFRvb2x0aXApO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoUmVhY3RUb29sdGlwKS5jYWxsKHRoaXMsIHByb3BzKSk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBwbGFjZTogcHJvcHMucGxhY2UgfHwgXCJ0b3BcIixcbiAgICAgIC8vIERpcmVjdGlvbiBvZiB0b29sdGlwXG4gICAgICBkZXNpcmVkUGxhY2U6IHByb3BzLnBsYWNlIHx8IFwidG9wXCIsXG4gICAgICB0eXBlOiBcImRhcmtcIixcbiAgICAgIC8vIENvbG9yIHRoZW1lIG9mIHRvb2x0aXBcbiAgICAgIGVmZmVjdDogXCJmbG9hdFwiLFxuICAgICAgLy8gZmxvYXQgb3IgZml4ZWRcbiAgICAgIHNob3c6IGZhbHNlLFxuICAgICAgYm9yZGVyOiBmYWxzZSxcbiAgICAgIG9mZnNldDoge30sXG4gICAgICBleHRyYUNsYXNzOiBcIlwiLFxuICAgICAgaHRtbDogZmFsc2UsXG4gICAgICBkZWxheUhpZGU6IDAsXG4gICAgICBkZWxheVNob3c6IDAsXG4gICAgICBldmVudDogcHJvcHMuZXZlbnQgfHwgbnVsbCxcbiAgICAgIGV2ZW50T2ZmOiBwcm9wcy5ldmVudE9mZiB8fCBudWxsLFxuICAgICAgY3VycmVudEV2ZW50OiBudWxsLFxuICAgICAgLy8gQ3VycmVudCBtb3VzZSBldmVudFxuICAgICAgY3VycmVudFRhcmdldDogbnVsbCxcbiAgICAgIC8vIEN1cnJlbnQgdGFyZ2V0IG9mIG1vdXNlIGV2ZW50XG4gICAgICBhcmlhUHJvcHM6IHBhcnNlQXJpYShwcm9wcyksXG4gICAgICAvLyBhcmlhLSBhbmQgcm9sZSBhdHRyaWJ1dGVzXG4gICAgICBpc0VtcHR5VGlwOiBmYWxzZSxcbiAgICAgIGRpc2FibGU6IGZhbHNlLFxuICAgICAgcG9zc2libGVDdXN0b21FdmVudHM6IHByb3BzLnBvc3NpYmxlQ3VzdG9tRXZlbnRzIHx8IFwiXCIsXG4gICAgICBwb3NzaWJsZUN1c3RvbUV2ZW50c09mZjogcHJvcHMucG9zc2libGVDdXN0b21FdmVudHNPZmYgfHwgXCJcIixcbiAgICAgIG9yaWdpblRvb2x0aXA6IG51bGwsXG4gICAgICBpc011bHRpbGluZTogZmFsc2VcbiAgICB9O1xuXG4gICAgX3RoaXMuYmluZChbXCJzaG93VG9vbHRpcFwiLCBcInVwZGF0ZVRvb2x0aXBcIiwgXCJoaWRlVG9vbHRpcFwiLCBcImhpZGVUb29sdGlwT25TY3JvbGxcIiwgXCJnZXRUb29sdGlwQ29udGVudFwiLCBcImdsb2JhbFJlYnVpbGRcIiwgXCJnbG9iYWxTaG93XCIsIFwiZ2xvYmFsSGlkZVwiLCBcIm9uV2luZG93UmVzaXplXCIsIFwibW91c2VPblRvb2xUaXBcIl0pO1xuXG4gICAgX3RoaXMubW91bnQgPSB0cnVlO1xuICAgIF90aGlzLmRlbGF5U2hvd0xvb3AgPSBudWxsO1xuICAgIF90aGlzLmRlbGF5SGlkZUxvb3AgPSBudWxsO1xuICAgIF90aGlzLmRlbGF5UmVzaG93ID0gbnVsbDtcbiAgICBfdGhpcy5pbnRlcnZhbFVwZGF0ZUNvbnRlbnQgPSBudWxsO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogRm9yIHVuaWZ5IHRoZSBiaW5kIGFuZCB1bmJpbmQgbGlzdGVuZXJcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUmVhY3RUb29sdGlwLCBbe1xuICAgIGtleTogXCJiaW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGJpbmQobWV0aG9kQXJyYXkpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBtZXRob2RBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgICAgX3RoaXMyW21ldGhvZF0gPSBfdGhpczJbbWV0aG9kXS5iaW5kKF90aGlzMik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGluc2VjdXJlID0gX3RoaXMkcHJvcHMuaW5zZWN1cmUsXG4gICAgICAgICAgcmVzaXplSGlkZSA9IF90aGlzJHByb3BzLnJlc2l6ZUhpZGU7XG5cbiAgICAgIHRoaXMuYmluZExpc3RlbmVyKCk7IC8vIEJpbmQgbGlzdGVuZXIgZm9yIHRvb2x0aXBcblxuICAgICAgdGhpcy5iaW5kV2luZG93RXZlbnRzKHJlc2l6ZUhpZGUpOyAvLyBCaW5kIGdsb2JhbCBldmVudCBmb3Igc3RhdGljIG1ldGhvZFxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMubW91bnQgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgICAgdGhpcy51bmJpbmRMaXN0ZW5lcigpO1xuICAgICAgdGhpcy5yZW1vdmVTY3JvbGxMaXN0ZW5lcigpO1xuICAgICAgdGhpcy51bmJpbmRXaW5kb3dFdmVudHMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGlmIHRoZSBtb3VzZSBpcyBvbiB0aGUgdG9vbHRpcC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSAtIG1vdXNlIGlzIG9uIHRoZSB0b29sdGlwXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtb3VzZU9uVG9vbFRpcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VzZU9uVG9vbFRpcCgpIHtcbiAgICAgIHZhciBzaG93ID0gdGhpcy5zdGF0ZS5zaG93O1xuXG4gICAgICBpZiAoc2hvdyAmJiB0aGlzLnRvb2x0aXBSZWYpIHtcbiAgICAgICAgLyogb2xkIElFIG9yIEZpcmVmb3ggd29yayBhcm91bmQgKi9cbiAgICAgICAgaWYgKCF0aGlzLnRvb2x0aXBSZWYubWF0Y2hlcykge1xuICAgICAgICAgIC8qIG9sZCBJRSB3b3JrIGFyb3VuZCAqL1xuICAgICAgICAgIGlmICh0aGlzLnRvb2x0aXBSZWYubXNNYXRjaGVzU2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcFJlZi5tYXRjaGVzID0gdGhpcy50b29sdGlwUmVmLm1zTWF0Y2hlc1NlbGVjdG9yO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKiBvbGQgRmlyZWZveCB3b3JrIGFyb3VuZCAqL1xuICAgICAgICAgICAgdGhpcy50b29sdGlwUmVmLm1hdGNoZXMgPSB0aGlzLnRvb2x0aXBSZWYubW96TWF0Y2hlc1NlbGVjdG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXBSZWYubWF0Y2hlcyhcIjpob3ZlclwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQaWNrIG91dCBjb3JyZXNwb25kZWQgdGFyZ2V0IGVsZW1lbnRzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRUYXJnZXRBcnJheVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUYXJnZXRBcnJheShpZCkge1xuICAgICAgdmFyIHRhcmdldEFycmF5O1xuXG4gICAgICBpZiAoIWlkKSB7XG4gICAgICAgIHRhcmdldEFycmF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXRpcF06bm90KFtkYXRhLWZvcl0pXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGVzY2FwZWQgPSBpZC5yZXBsYWNlKC9cXFxcL2csIFwiXFxcXFxcXFxcIikucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpO1xuICAgICAgICB0YXJnZXRBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS10aXBdW2RhdGEtZm9yPVxcXCJcIi5jb25jYXQoZXNjYXBlZCwgXCJcXFwiXVwiKSk7XG4gICAgICB9IC8vIHRhcmdldEFycmF5IGlzIGEgTm9kZUxpc3QsIGNvbnZlcnQgaXQgdG8gYSByZWFsIGFycmF5XG5cblxuICAgICAgcmV0dXJuIG5vZGVMaXN0VG9BcnJheSh0YXJnZXRBcnJheSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmQgbGlzdGVuZXIgdG8gdGhlIHRhcmdldCBlbGVtZW50c1xuICAgICAqIFRoZXNlIGxpc3RlbmVycyB1c2VkIHRvIHRyaWdnZXIgc2hvd2luZyBvciBoaWRpbmcgdGhlIHRvb2x0aXBcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImJpbmRMaXN0ZW5lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kTGlzdGVuZXIoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgaWQgPSBfdGhpcyRwcm9wczIuaWQsXG4gICAgICAgICAgZ2xvYmFsRXZlbnRPZmYgPSBfdGhpcyRwcm9wczIuZ2xvYmFsRXZlbnRPZmYsXG4gICAgICAgICAgaXNDYXB0dXJlID0gX3RoaXMkcHJvcHMyLmlzQ2FwdHVyZTtcbiAgICAgIHZhciB0YXJnZXRBcnJheSA9IHRoaXMuZ2V0VGFyZ2V0QXJyYXkoaWQpO1xuICAgICAgdGFyZ2V0QXJyYXkuZm9yRWFjaChmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKFwiY3VycmVudEl0ZW1cIikgPT09IG51bGwpIHtcbiAgICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKFwiY3VycmVudEl0ZW1cIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMy51bmJpbmRCYXNpY0xpc3RlbmVyKHRhcmdldCk7XG5cbiAgICAgICAgaWYgKF90aGlzMy5pc0N1c3RvbUV2ZW50KHRhcmdldCkpIHtcbiAgICAgICAgICBfdGhpczMuY3VzdG9tVW5iaW5kTGlzdGVuZXIodGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLmlzQm9keU1vZGUoKSkge1xuICAgICAgICB0aGlzLmJpbmRCb2R5TGlzdGVuZXIodGFyZ2V0QXJyYXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0QXJyYXkuZm9yRWFjaChmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgdmFyIGlzQ2FwdHVyZU1vZGUgPSBfdGhpczMuaXNDYXB0dXJlKHRhcmdldCk7XG5cbiAgICAgICAgICB2YXIgZWZmZWN0ID0gX3RoaXMzLmdldEVmZmVjdCh0YXJnZXQpO1xuXG4gICAgICAgICAgaWYgKF90aGlzMy5pc0N1c3RvbUV2ZW50KHRhcmdldCkpIHtcbiAgICAgICAgICAgIF90aGlzMy5jdXN0b21CaW5kTGlzdGVuZXIodGFyZ2V0KTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCBfdGhpczMuc2hvd1Rvb2x0aXAsIGlzQ2FwdHVyZU1vZGUpO1xuXG4gICAgICAgICAgaWYgKGVmZmVjdCA9PT0gXCJmbG9hdFwiKSB7XG4gICAgICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBfdGhpczMudXBkYXRlVG9vbHRpcCwgaXNDYXB0dXJlTW9kZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIF90aGlzMy5oaWRlVG9vbHRpcCwgaXNDYXB0dXJlTW9kZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBHbG9iYWwgZXZlbnQgdG8gaGlkZSB0b29sdGlwXG5cblxuICAgICAgaWYgKGdsb2JhbEV2ZW50T2ZmKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGdsb2JhbEV2ZW50T2ZmLCB0aGlzLmhpZGVUb29sdGlwKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZ2xvYmFsRXZlbnRPZmYsIHRoaXMuaGlkZVRvb2x0aXAsIGlzQ2FwdHVyZSk7XG4gICAgICB9IC8vIFRyYWNrIHJlbW92YWwgb2YgdGFyZ2V0QXJyYXkgZWxlbWVudHMgZnJvbSBET01cblxuXG4gICAgICB0aGlzLmJpbmRSZW1vdmFsVHJhY2tlcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbmJpbmQgbGlzdGVuZXJzIG9uIHRhcmdldCBlbGVtZW50c1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidW5iaW5kTGlzdGVuZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5iaW5kTGlzdGVuZXIoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgaWQgPSBfdGhpcyRwcm9wczMuaWQsXG4gICAgICAgICAgZ2xvYmFsRXZlbnRPZmYgPSBfdGhpcyRwcm9wczMuZ2xvYmFsRXZlbnRPZmY7XG5cbiAgICAgIGlmICh0aGlzLmlzQm9keU1vZGUoKSkge1xuICAgICAgICB0aGlzLnVuYmluZEJvZHlMaXN0ZW5lcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRhcmdldEFycmF5ID0gdGhpcy5nZXRUYXJnZXRBcnJheShpZCk7XG4gICAgICAgIHRhcmdldEFycmF5LmZvckVhY2goZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgIF90aGlzNC51bmJpbmRCYXNpY0xpc3RlbmVyKHRhcmdldCk7XG5cbiAgICAgICAgICBpZiAoX3RoaXM0LmlzQ3VzdG9tRXZlbnQodGFyZ2V0KSkgX3RoaXM0LmN1c3RvbVVuYmluZExpc3RlbmVyKHRhcmdldCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZ2xvYmFsRXZlbnRPZmYpIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGdsb2JhbEV2ZW50T2ZmLCB0aGlzLmhpZGVUb29sdGlwKTtcbiAgICAgIHRoaXMudW5iaW5kUmVtb3ZhbFRyYWNrZXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlIHRoaXMgYmVmb3JlIGJpbmQgbGlzdGVuZXIgYW5kIHVubW91bnQgdGhlIGNvbXBvbmVudFxuICAgICAqIGl0IGlzIG5lY2Vzc2FyeSB0byBpbnZva2UgdGhpcyBldmVuIHdoZW4gYmluZGluZyBjdXN0b20gZXZlbnRcbiAgICAgKiBzbyB0aGF0IHRoZSB0b29sdGlwIGNhbiBzd2l0Y2ggYmV0d2VlbiBjdXN0b20gYW5kIGRlZmF1bHQgbGlzdGVuZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVuYmluZEJhc2ljTGlzdGVuZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5iaW5kQmFzaWNMaXN0ZW5lcih0YXJnZXQpIHtcbiAgICAgIHZhciBpc0NhcHR1cmVNb2RlID0gdGhpcy5pc0NhcHR1cmUodGFyZ2V0KTtcbiAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCB0aGlzLnNob3dUb29sdGlwLCBpc0NhcHR1cmVNb2RlKTtcbiAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMudXBkYXRlVG9vbHRpcCwgaXNDYXB0dXJlTW9kZSk7XG4gICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5oaWRlVG9vbHRpcCwgaXNDYXB0dXJlTW9kZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFRvb2x0aXBDb250ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRvb2x0aXBDb250ZW50KCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZ2V0Q29udGVudCA9IF90aGlzJHByb3BzNC5nZXRDb250ZW50LFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHM0LmNoaWxkcmVuOyAvLyBHZW5lcmF0ZSB0b29sdGlwIGNvbnRlbnRcblxuICAgICAgdmFyIGNvbnRlbnQ7XG5cbiAgICAgIGlmIChnZXRDb250ZW50KSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGdldENvbnRlbnQpKSB7XG4gICAgICAgICAgY29udGVudCA9IGdldENvbnRlbnRbMF0gJiYgZ2V0Q29udGVudFswXSh0aGlzLnN0YXRlLm9yaWdpblRvb2x0aXApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRlbnQgPSBnZXRDb250ZW50KHRoaXMuc3RhdGUub3JpZ2luVG9vbHRpcCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFRpcENvbnRlbnQodGhpcy5zdGF0ZS5vcmlnaW5Ub29sdGlwLCBjaGlsZHJlbiwgY29udGVudCwgdGhpcy5zdGF0ZS5pc011bHRpbGluZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzRW1wdHlUaXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNFbXB0eVRpcChwbGFjZWhvbGRlcikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBwbGFjZWhvbGRlciA9PT0gXCJzdHJpbmdcIiAmJiBwbGFjZWhvbGRlciA9PT0gXCJcIiB8fCBwbGFjZWhvbGRlciA9PT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiBtb3VzZSBlbnRlciwgc2hvdyB0aGUgdG9vbHRpcFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2hvd1Rvb2x0aXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd1Rvb2x0aXAoZSwgaXNHbG9iYWxDYWxsKSB7XG4gICAgICBpZiAoaXNHbG9iYWxDYWxsKSB7XG4gICAgICAgIC8vIERvbid0IHRyaWdnZXIgb3RoZXIgZWxlbWVudHMgYmVsb25ncyB0byBvdGhlciBSZWFjdFRvb2x0aXBcbiAgICAgICAgdmFyIHRhcmdldEFycmF5ID0gdGhpcy5nZXRUYXJnZXRBcnJheSh0aGlzLnByb3BzLmlkKTtcbiAgICAgICAgdmFyIGlzTXlFbGVtZW50ID0gdGFyZ2V0QXJyYXkuc29tZShmdW5jdGlvbiAoZWxlKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZSA9PT0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFpc015RWxlbWVudCkgcmV0dXJuO1xuICAgICAgfSAvLyBHZXQgdGhlIHRvb2x0aXAgY29udGVudFxuICAgICAgLy8gY2FsY3VsYXRlIGluIHRoaXMgcGhyYXNlIHNvIHRoYXQgdGlwIHdpZHRoIGhlaWdodCBjYW4gYmUgZGV0ZWN0ZWRcblxuXG4gICAgICB2YXIgX3RoaXMkcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBtdWx0aWxpbmUgPSBfdGhpcyRwcm9wczUubXVsdGlsaW5lLFxuICAgICAgICAgIGdldENvbnRlbnQgPSBfdGhpcyRwcm9wczUuZ2V0Q29udGVudDtcbiAgICAgIHZhciBvcmlnaW5Ub29sdGlwID0gZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtdGlwXCIpO1xuICAgICAgdmFyIGlzTXVsdGlsaW5lID0gZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtbXVsdGlsaW5lXCIpIHx8IG11bHRpbGluZSB8fCBmYWxzZTsgLy8gSWYgaXQgaXMgZm9jdXMgZXZlbnQgb3IgY2FsbGVkIGJ5IFJlYWN0VG9vbHRpcC5zaG93LCBzd2l0Y2ggdG8gYHNvbGlkYCBlZmZlY3RcblxuICAgICAgdmFyIHN3aXRjaFRvU29saWQgPSBlIGluc3RhbmNlb2Ygd2luZG93LkZvY3VzRXZlbnQgfHwgaXNHbG9iYWxDYWxsOyAvLyBpZiBpdCBuZWVkcyB0byBza2lwIGFkZGluZyBoaWRlIGxpc3RlbmVyIHRvIHNjcm9sbFxuXG4gICAgICB2YXIgc2Nyb2xsSGlkZSA9IHRydWU7XG5cbiAgICAgIGlmIChlLmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zY3JvbGwtaGlkZVwiKSkge1xuICAgICAgICBzY3JvbGxIaWRlID0gZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtc2Nyb2xsLWhpZGVcIikgPT09IFwidHJ1ZVwiO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnNjcm9sbEhpZGUgIT0gbnVsbCkge1xuICAgICAgICBzY3JvbGxIaWRlID0gdGhpcy5wcm9wcy5zY3JvbGxIaWRlO1xuICAgICAgfSAvLyBNYWtlIHN1cmUgdGhlIGNvcnJlY3QgcGxhY2UgaXMgc2V0XG5cblxuICAgICAgdmFyIGRlc2lyZWRQbGFjZSA9IGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlXCIpIHx8IHRoaXMucHJvcHMucGxhY2UgfHwgXCJ0b3BcIjtcbiAgICAgIHZhciBlZmZlY3QgPSBzd2l0Y2hUb1NvbGlkICYmIFwic29saWRcIiB8fCB0aGlzLmdldEVmZmVjdChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgdmFyIG9mZnNldCA9IGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW9mZnNldFwiKSB8fCB0aGlzLnByb3BzLm9mZnNldCB8fCB7fTtcbiAgICAgIHZhciByZXN1bHQgPSBnZXRQb3NpdGlvbihlLCBlLmN1cnJlbnRUYXJnZXQsIHRoaXMudG9vbHRpcFJlZiwgZGVzaXJlZFBsYWNlLCBkZXNpcmVkUGxhY2UsIGVmZmVjdCwgb2Zmc2V0KTtcblxuICAgICAgaWYgKHJlc3VsdC5wb3NpdGlvbiAmJiB0aGlzLnByb3BzLm92ZXJyaWRlUG9zaXRpb24pIHtcbiAgICAgICAgcmVzdWx0LnBvc2l0aW9uID0gdGhpcy5wcm9wcy5vdmVycmlkZVBvc2l0aW9uKHJlc3VsdC5wb3NpdGlvbiwgZS5jdXJyZW50VGFyZ2V0LCB0aGlzLnRvb2x0aXBSZWYsIGRlc2lyZWRQbGFjZSwgZGVzaXJlZFBsYWNlLCBlZmZlY3QsIG9mZnNldCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwbGFjZSA9IHJlc3VsdC5pc05ld1N0YXRlID8gcmVzdWx0Lm5ld1N0YXRlLnBsYWNlIDogZGVzaXJlZFBsYWNlOyAvLyBUbyBwcmV2ZW50IHByZXZpb3VzbHkgY3JlYXRlZCB0aW1lcnMgZnJvbSB0cmlnZ2VyaW5nXG5cbiAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgICAgdmFyIHRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcbiAgICAgIHZhciByZXNob3dEZWxheSA9IHRoaXMuc3RhdGUuc2hvdyA/IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWRlbGF5LXVwZGF0ZVwiKSB8fCB0aGlzLnByb3BzLmRlbGF5VXBkYXRlIDogMDtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgdmFyIHVwZGF0ZVN0YXRlID0gZnVuY3Rpb24gdXBkYXRlU3RhdGUoKSB7XG4gICAgICAgIHNlbGYuc2V0U3RhdGUoe1xuICAgICAgICAgIG9yaWdpblRvb2x0aXA6IG9yaWdpblRvb2x0aXAsXG4gICAgICAgICAgaXNNdWx0aWxpbmU6IGlzTXVsdGlsaW5lLFxuICAgICAgICAgIGRlc2lyZWRQbGFjZTogZGVzaXJlZFBsYWNlLFxuICAgICAgICAgIHBsYWNlOiBwbGFjZSxcbiAgICAgICAgICB0eXBlOiB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIpIHx8IHNlbGYucHJvcHMudHlwZSB8fCBcImRhcmtcIixcbiAgICAgICAgICBlZmZlY3Q6IGVmZmVjdCxcbiAgICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgICBodG1sOiB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1odG1sXCIpID8gdGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtaHRtbFwiKSA9PT0gXCJ0cnVlXCIgOiBzZWxmLnByb3BzLmh0bWwgfHwgZmFsc2UsXG4gICAgICAgICAgZGVsYXlTaG93OiB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1kZWxheS1zaG93XCIpIHx8IHNlbGYucHJvcHMuZGVsYXlTaG93IHx8IDAsXG4gICAgICAgICAgZGVsYXlIaWRlOiB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1kZWxheS1oaWRlXCIpIHx8IHNlbGYucHJvcHMuZGVsYXlIaWRlIHx8IDAsXG4gICAgICAgICAgZGVsYXlVcGRhdGU6IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWRlbGF5LXVwZGF0ZVwiKSB8fCBzZWxmLnByb3BzLmRlbGF5VXBkYXRlIHx8IDAsXG4gICAgICAgICAgYm9yZGVyOiB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1ib3JkZXJcIikgPyB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1ib3JkZXJcIikgPT09IFwidHJ1ZVwiIDogc2VsZi5wcm9wcy5ib3JkZXIgfHwgZmFsc2UsXG4gICAgICAgICAgZXh0cmFDbGFzczogdGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtY2xhc3NcIikgfHwgc2VsZi5wcm9wc1tcImNsYXNzXCJdIHx8IHNlbGYucHJvcHMuY2xhc3NOYW1lIHx8IFwiXCIsXG4gICAgICAgICAgZGlzYWJsZTogdGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtdGlwLWRpc2FibGVcIikgPyB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS10aXAtZGlzYWJsZVwiKSA9PT0gXCJ0cnVlXCIgOiBzZWxmLnByb3BzLmRpc2FibGUgfHwgZmFsc2UsXG4gICAgICAgICAgY3VycmVudFRhcmdldDogdGFyZ2V0XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoc2Nyb2xsSGlkZSkgc2VsZi5hZGRTY3JvbGxMaXN0ZW5lcihzZWxmLnN0YXRlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgIHNlbGYudXBkYXRlVG9vbHRpcChlKTtcblxuICAgICAgICAgIGlmIChnZXRDb250ZW50ICYmIEFycmF5LmlzQXJyYXkoZ2V0Q29udGVudCkpIHtcbiAgICAgICAgICAgIHNlbGYuaW50ZXJ2YWxVcGRhdGVDb250ZW50ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBpZiAoc2VsZi5tb3VudCkge1xuICAgICAgICAgICAgICAgIHZhciBfZ2V0Q29udGVudCA9IHNlbGYucHJvcHMuZ2V0Q29udGVudDtcbiAgICAgICAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBnZXRUaXBDb250ZW50KG9yaWdpblRvb2x0aXAsIFwiXCIsIF9nZXRDb250ZW50WzBdKCksIGlzTXVsdGlsaW5lKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNFbXB0eVRpcCA9IHNlbGYuaXNFbXB0eVRpcChwbGFjZWhvbGRlcik7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICBpc0VtcHR5VGlwOiBpc0VtcHR5VGlwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2VsZi51cGRhdGVQb3NpdGlvbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBnZXRDb250ZW50WzFdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTsgLy8gSWYgdGhlcmUgaXMgbm8gZGVsYXkgY2FsbCBpbW1lZGlhdGVseSwgZG9uJ3QgYWxsb3cgZXZlbnRzIHRvIGdldCBpbiBmaXJzdC5cblxuXG4gICAgICBpZiAocmVzaG93RGVsYXkpIHtcbiAgICAgICAgdGhpcy5kZWxheVJlc2hvdyA9IHNldFRpbWVvdXQodXBkYXRlU3RhdGUsIHJlc2hvd0RlbGF5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZVN0YXRlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gbW91c2UgaG92ZXIsIHVwZGF0ZSB0b29sIHRpcFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlVG9vbHRpcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVUb29sdGlwKGUpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGRlbGF5U2hvdyA9IF90aGlzJHN0YXRlLmRlbGF5U2hvdyxcbiAgICAgICAgICBkaXNhYmxlID0gX3RoaXMkc3RhdGUuZGlzYWJsZTtcbiAgICAgIHZhciBhZnRlclNob3cgPSB0aGlzLnByb3BzLmFmdGVyU2hvdztcbiAgICAgIHZhciBwbGFjZWhvbGRlciA9IHRoaXMuZ2V0VG9vbHRpcENvbnRlbnQoKTtcbiAgICAgIHZhciBkZWxheVRpbWUgPSBwYXJzZUludChkZWxheVNob3csIDEwKTtcbiAgICAgIHZhciBldmVudFRhcmdldCA9IGUuY3VycmVudFRhcmdldCB8fCBlLnRhcmdldDsgLy8gQ2hlY2sgaWYgdGhlIG1vdXNlIGlzIGFjdHVhbGx5IG92ZXIgdGhlIHRvb2x0aXAsIGlmIHNvIGRvbid0IGhpZGUgdGhlIHRvb2x0aXBcblxuICAgICAgaWYgKHRoaXMubW91c2VPblRvb2xUaXAoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzRW1wdHlUaXAocGxhY2Vob2xkZXIpIHx8IGRpc2FibGUpIHJldHVybjsgLy8gaWYgdGhlIHRvb2x0aXAgaXMgZW1wdHksIGRpc2FibGUgdGhlIHRvb2x0aXBcblxuICAgICAgdmFyIHVwZGF0ZVN0YXRlID0gZnVuY3Rpb24gdXBkYXRlU3RhdGUoKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBsYWNlaG9sZGVyKSAmJiBwbGFjZWhvbGRlci5sZW5ndGggPiAwIHx8IHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgdmFyIGlzSW52aXNpYmxlID0gIV90aGlzNS5zdGF0ZS5zaG93O1xuXG4gICAgICAgICAgX3RoaXM1LnNldFN0YXRlKHtcbiAgICAgICAgICAgIGN1cnJlbnRFdmVudDogZSxcbiAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQ6IGV2ZW50VGFyZ2V0LFxuICAgICAgICAgICAgc2hvdzogdHJ1ZVxuICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzNS51cGRhdGVQb3NpdGlvbigpO1xuXG4gICAgICAgICAgICBpZiAoaXNJbnZpc2libGUgJiYgYWZ0ZXJTaG93KSBhZnRlclNob3coZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRlbGF5U2hvd0xvb3ApO1xuXG4gICAgICBpZiAoZGVsYXlTaG93KSB7XG4gICAgICAgIHRoaXMuZGVsYXlTaG93TG9vcCA9IHNldFRpbWVvdXQodXBkYXRlU3RhdGUsIGRlbGF5VGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVTdGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKlxuICAgICAqIElmIHdlJ3JlIG1vdXNpbmcgb3ZlciB0aGUgdG9vbHRpcCByZW1vdmUgaXQgd2hlbiB3ZSBsZWF2ZS5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxpc3RlbkZvclRvb2x0aXBFeGl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RlbkZvclRvb2x0aXBFeGl0KCkge1xuICAgICAgdmFyIHNob3cgPSB0aGlzLnN0YXRlLnNob3c7XG5cbiAgICAgIGlmIChzaG93ICYmIHRoaXMudG9vbHRpcFJlZikge1xuICAgICAgICB0aGlzLnRvb2x0aXBSZWYuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5oaWRlVG9vbHRpcCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUxpc3RlbmVyRm9yVG9vbHRpcEV4aXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJGb3JUb29sdGlwRXhpdCgpIHtcbiAgICAgIHZhciBzaG93ID0gdGhpcy5zdGF0ZS5zaG93O1xuXG4gICAgICBpZiAoc2hvdyAmJiB0aGlzLnRvb2x0aXBSZWYpIHtcbiAgICAgICAgdGhpcy50b29sdGlwUmVmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMuaGlkZVRvb2x0aXApO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIG1vdXNlIGxlYXZlLCBoaWRlIHRvb2x0aXBcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImhpZGVUb29sdGlwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGVUb29sdGlwKGUsIGhhc1RhcmdldCkge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7XG4gICAgICAgIGlzU2Nyb2xsOiBmYWxzZVxuICAgICAgfTtcbiAgICAgIHZhciBkaXNhYmxlID0gdGhpcy5zdGF0ZS5kaXNhYmxlO1xuICAgICAgdmFyIGlzU2Nyb2xsID0gb3B0aW9ucy5pc1Njcm9sbDtcbiAgICAgIHZhciBkZWxheUhpZGUgPSBpc1Njcm9sbCA/IDAgOiB0aGlzLnN0YXRlLmRlbGF5SGlkZTtcbiAgICAgIHZhciBhZnRlckhpZGUgPSB0aGlzLnByb3BzLmFmdGVySGlkZTtcbiAgICAgIHZhciBwbGFjZWhvbGRlciA9IHRoaXMuZ2V0VG9vbHRpcENvbnRlbnQoKTtcbiAgICAgIGlmICghdGhpcy5tb3VudCkgcmV0dXJuO1xuICAgICAgaWYgKHRoaXMuaXNFbXB0eVRpcChwbGFjZWhvbGRlcikgfHwgZGlzYWJsZSkgcmV0dXJuOyAvLyBpZiB0aGUgdG9vbHRpcCBpcyBlbXB0eSwgZGlzYWJsZSB0aGUgdG9vbHRpcFxuXG4gICAgICBpZiAoaGFzVGFyZ2V0KSB7XG4gICAgICAgIC8vIERvbid0IHRyaWdnZXIgb3RoZXIgZWxlbWVudHMgYmVsb25ncyB0byBvdGhlciBSZWFjdFRvb2x0aXBcbiAgICAgICAgdmFyIHRhcmdldEFycmF5ID0gdGhpcy5nZXRUYXJnZXRBcnJheSh0aGlzLnByb3BzLmlkKTtcbiAgICAgICAgdmFyIGlzTXlFbGVtZW50ID0gdGFyZ2V0QXJyYXkuc29tZShmdW5jdGlvbiAoZWxlKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZSA9PT0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFpc015RWxlbWVudCB8fCAhdGhpcy5zdGF0ZS5zaG93KSByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciByZXNldFN0YXRlID0gZnVuY3Rpb24gcmVzZXRTdGF0ZSgpIHtcbiAgICAgICAgdmFyIGlzVmlzaWJsZSA9IF90aGlzNi5zdGF0ZS5zaG93OyAvLyBDaGVjayBpZiB0aGUgbW91c2UgaXMgYWN0dWFsbHkgb3ZlciB0aGUgdG9vbHRpcCwgaWYgc28gZG9uJ3QgaGlkZSB0aGUgdG9vbHRpcFxuXG4gICAgICAgIGlmIChfdGhpczYubW91c2VPblRvb2xUaXAoKSkge1xuICAgICAgICAgIF90aGlzNi5saXN0ZW5Gb3JUb29sdGlwRXhpdCgpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXM2LnJlbW92ZUxpc3RlbmVyRm9yVG9vbHRpcEV4aXQoKTtcblxuICAgICAgICBfdGhpczYuc2V0U3RhdGUoe1xuICAgICAgICAgIHNob3c6IGZhbHNlXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczYucmVtb3ZlU2Nyb2xsTGlzdGVuZXIoKTtcblxuICAgICAgICAgIGlmIChpc1Zpc2libGUgJiYgYWZ0ZXJIaWRlKSBhZnRlckhpZGUoZSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG5cbiAgICAgIGlmIChkZWxheUhpZGUpIHtcbiAgICAgICAgdGhpcy5kZWxheUhpZGVMb29wID0gc2V0VGltZW91dChyZXNldFN0YXRlLCBwYXJzZUludChkZWxheUhpZGUsIDEwKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNldFN0YXRlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gc2Nyb2xsLCBoaWRlIHRvb2x0aXBcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImhpZGVUb29sdGlwT25TY3JvbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZVRvb2x0aXBPblNjcm9sbChldmVudCwgaGFzVGFyZ2V0KSB7XG4gICAgICB0aGlzLmhpZGVUb29sdGlwKGV2ZW50LCBoYXNUYXJnZXQsIHtcbiAgICAgICAgaXNTY3JvbGw6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyIHdoZW4gdG9vbHRpcCBzaG93XG4gICAgICogYXV0b21hdGljYWxseSBoaWRlIHRoZSB0b29sdGlwIHdoZW4gc2Nyb2xsaW5nXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGRTY3JvbGxMaXN0ZW5lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRTY3JvbGxMaXN0ZW5lcihjdXJyZW50VGFyZ2V0KSB7XG4gICAgICB2YXIgaXNDYXB0dXJlTW9kZSA9IHRoaXMuaXNDYXB0dXJlKGN1cnJlbnRUYXJnZXQpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5oaWRlVG9vbHRpcE9uU2Nyb2xsLCBpc0NhcHR1cmVNb2RlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlU2Nyb2xsTGlzdGVuZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlU2Nyb2xsTGlzdGVuZXIoKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLmhpZGVUb29sdGlwT25TY3JvbGwpO1xuICAgIH0gLy8gQ2FsY3VsYXRpb24gdGhlIHBvc2l0aW9uXG5cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVQb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbigpIHtcbiAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBjdXJyZW50RXZlbnQgPSBfdGhpcyRzdGF0ZTIuY3VycmVudEV2ZW50LFxuICAgICAgICAgIGN1cnJlbnRUYXJnZXQgPSBfdGhpcyRzdGF0ZTIuY3VycmVudFRhcmdldCxcbiAgICAgICAgICBwbGFjZSA9IF90aGlzJHN0YXRlMi5wbGFjZSxcbiAgICAgICAgICBkZXNpcmVkUGxhY2UgPSBfdGhpcyRzdGF0ZTIuZGVzaXJlZFBsYWNlLFxuICAgICAgICAgIGVmZmVjdCA9IF90aGlzJHN0YXRlMi5lZmZlY3QsXG4gICAgICAgICAgb2Zmc2V0ID0gX3RoaXMkc3RhdGUyLm9mZnNldDtcbiAgICAgIHZhciBub2RlID0gdGhpcy50b29sdGlwUmVmO1xuICAgICAgdmFyIHJlc3VsdCA9IGdldFBvc2l0aW9uKGN1cnJlbnRFdmVudCwgY3VycmVudFRhcmdldCwgbm9kZSwgcGxhY2UsIGRlc2lyZWRQbGFjZSwgZWZmZWN0LCBvZmZzZXQpO1xuXG4gICAgICBpZiAocmVzdWx0LnBvc2l0aW9uICYmIHRoaXMucHJvcHMub3ZlcnJpZGVQb3NpdGlvbikge1xuICAgICAgICByZXN1bHQucG9zaXRpb24gPSB0aGlzLnByb3BzLm92ZXJyaWRlUG9zaXRpb24ocmVzdWx0LnBvc2l0aW9uLCBjdXJyZW50RXZlbnQsIGN1cnJlbnRUYXJnZXQsIG5vZGUsIHBsYWNlLCBkZXNpcmVkUGxhY2UsIGVmZmVjdCwgb2Zmc2V0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3VsdC5pc05ld1N0YXRlKSB7XG4gICAgICAgIC8vIFN3aXRjaCB0byByZXZlcnNlIHBsYWNlbWVudFxuICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZShyZXN1bHQubmV3U3RhdGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczcudXBkYXRlUG9zaXRpb24oKTtcbiAgICAgICAgfSk7XG4gICAgICB9IC8vIFNldCB0b29sdGlwIHBvc2l0aW9uXG5cblxuICAgICAgbm9kZS5zdHlsZS5sZWZ0ID0gcmVzdWx0LnBvc2l0aW9uLmxlZnQgKyBcInB4XCI7XG4gICAgICBub2RlLnN0eWxlLnRvcCA9IHJlc3VsdC5wb3NpdGlvbi50b3AgKyBcInB4XCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBzdHlsZSB0YWcgaW4gaGVhZGVyXG4gICAgICogaW4gdGhpcyB3YXkgd2UgY2FuIGluc2VydCBkZWZhdWx0IGNzc1xuICAgICAqL1xuXG4gICAgLyogc2V0U3R5bGVIZWFkZXIoKSB7XG4gICAgICBjb25zdCBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xuICAgICAgaWYgKCFoZWFkLnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlW2lkPVwicmVhY3QtdG9vbHRpcFwiXScpKSB7XG4gICAgICAgIGNvbnN0IHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgdGFnLmlkID0gXCJyZWFjdC10b29sdGlwXCI7XG4gICAgICAgIHRhZy5pbm5lckhUTUwgPSBjc3NTdHlsZTsgKi9cblxuICAgIC8qIGVzbGludC1kaXNhYmxlICovXG5cbiAgICAvKiAgICAgIGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnICYmIF9fd2VicGFja19ub25jZV9fKSB7XG4gICAgICAgICAgICB0YWcuc2V0QXR0cmlidXRlKCdub25jZScsIF9fd2VicGFja19ub25jZV9fKVxuICAgICAgICAgIH0qL1xuXG4gICAgLyogZXNsaW50LWVuYWJsZSAqL1xuXG4gICAgLyogICAgaGVhZC5pbnNlcnRCZWZvcmUodGFnLCBoZWFkLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgIH0gKi9cblxuICAgIC8qKlxuICAgICAqIENMZWFyIGFsbCBraW5kcyBvZiB0aW1lb3V0IG9mIGludGVydmFsXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjbGVhclRpbWVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyVGltZXIoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5kZWxheVNob3dMb29wKTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRlbGF5SGlkZUxvb3ApO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVsYXlSZXNob3cpO1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsVXBkYXRlQ29udGVudCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgdmFyIF90aGlzJHN0YXRlMyA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgZXh0cmFDbGFzcyA9IF90aGlzJHN0YXRlMy5leHRyYUNsYXNzLFxuICAgICAgICAgIGh0bWwgPSBfdGhpcyRzdGF0ZTMuaHRtbCxcbiAgICAgICAgICBhcmlhUHJvcHMgPSBfdGhpcyRzdGF0ZTMuYXJpYVByb3BzLFxuICAgICAgICAgIGRpc2FibGUgPSBfdGhpcyRzdGF0ZTMuZGlzYWJsZTtcbiAgICAgIHZhciBwbGFjZWhvbGRlciA9IHRoaXMuZ2V0VG9vbHRpcENvbnRlbnQoKTtcbiAgICAgIHZhciBpc0VtcHR5VGlwID0gdGhpcy5pc0VtcHR5VGlwKHBsYWNlaG9sZGVyKTtcbiAgICAgIHZhciB0b29sdGlwQ2xhc3MgPSBcIl9fcmVhY3RfY29tcG9uZW50X3Rvb2x0aXBcIiArICh0aGlzLnN0YXRlLnNob3cgJiYgIWRpc2FibGUgJiYgIWlzRW1wdHlUaXAgPyBcIiBzaG93XCIgOiBcIlwiKSArICh0aGlzLnN0YXRlLmJvcmRlciA/IFwiIGJvcmRlclwiIDogXCJcIikgKyBcIiBwbGFjZS1cIi5jb25jYXQodGhpcy5zdGF0ZS5wbGFjZSkgKyAvLyB0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHRcbiAgICAgIFwiIHR5cGUtXCIuY29uY2F0KHRoaXMuc3RhdGUudHlwZSkgKyAoIC8vIGRhcmssIHN1Y2Nlc3MsIHdhcm5pbmcsIGVycm9yLCBpbmZvLCBsaWdodFxuICAgICAgdGhpcy5wcm9wcy5kZWxheVVwZGF0ZSA/IFwiIGFsbG93X2hvdmVyXCIgOiBcIlwiKSArICh0aGlzLnByb3BzLmNsaWNrYWJsZSA/IFwiIGFsbG93X2NsaWNrXCIgOiBcIlwiKTtcbiAgICAgIHZhciBXcmFwcGVyID0gdGhpcy5wcm9wcy53cmFwcGVyO1xuXG4gICAgICBpZiAoUmVhY3RUb29sdGlwLnN1cHBvcnRlZFdyYXBwZXJzLmluZGV4T2YoV3JhcHBlcikgPCAwKSB7XG4gICAgICAgIFdyYXBwZXIgPSBSZWFjdFRvb2x0aXAuZGVmYXVsdFByb3BzLndyYXBwZXI7XG4gICAgICB9XG5cbiAgICAgIHZhciB3cmFwcGVyQ2xhc3NOYW1lID0gW3Rvb2x0aXBDbGFzcywgZXh0cmFDbGFzc10uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpO1xuXG4gICAgICBpZiAoaHRtbCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChXcmFwcGVyLCBfZXh0ZW5kcyh7XG4gICAgICAgICAgY2xhc3NOYW1lOiB3cmFwcGVyQ2xhc3NOYW1lLFxuICAgICAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKF9yZWYpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczgudG9vbHRpcFJlZiA9IF9yZWY7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBhcmlhUHJvcHMsIHtcbiAgICAgICAgICBcImRhdGEtaWRcIjogXCJ0b29sdGlwXCIsXG4gICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgICAgIF9faHRtbDogcGxhY2Vob2xkZXJcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZXIsIF9leHRlbmRzKHtcbiAgICAgICAgICBjbGFzc05hbWU6IHdyYXBwZXJDbGFzc05hbWUsXG4gICAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWRcbiAgICAgICAgfSwgYXJpYVByb3BzLCB7XG4gICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZjIpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczgudG9vbHRpcFJlZiA9IF9yZWYyO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkYXRhLWlkXCI6IFwidG9vbHRpcFwiXG4gICAgICAgIH0pLCBwbGFjZWhvbGRlcik7XG4gICAgICB9XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgdmFyIGFyaWFQcm9wcyA9IHByZXZTdGF0ZS5hcmlhUHJvcHM7XG4gICAgICB2YXIgbmV3QXJpYVByb3BzID0gcGFyc2VBcmlhKG5leHRQcm9wcyk7XG4gICAgICB2YXIgaXNDaGFuZ2VkID0gT2JqZWN0LmtleXMobmV3QXJpYVByb3BzKS5zb21lKGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gbmV3QXJpYVByb3BzW3Byb3BzXSAhPT0gYXJpYVByb3BzW3Byb3BzXTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWlzQ2hhbmdlZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQyKHt9LCBwcmV2U3RhdGUsIHtcbiAgICAgICAgYXJpYVByb3BzOiBuZXdBcmlhUHJvcHNcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZWFjdFRvb2x0aXA7XG59KFJlYWN0LkNvbXBvbmVudCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MyLCBcInByb3BUeXBlc1wiLCB7XG4gIGNoaWxkcmVuOiBwcm9wVHlwZXMuYW55LFxuICBwbGFjZTogcHJvcFR5cGVzLnN0cmluZyxcbiAgdHlwZTogcHJvcFR5cGVzLnN0cmluZyxcbiAgZWZmZWN0OiBwcm9wVHlwZXMuc3RyaW5nLFxuICBvZmZzZXQ6IHByb3BUeXBlcy5vYmplY3QsXG4gIG11bHRpbGluZTogcHJvcFR5cGVzLmJvb2wsXG4gIGJvcmRlcjogcHJvcFR5cGVzLmJvb2wsXG4gIGluc2VjdXJlOiBwcm9wVHlwZXMuYm9vbCxcbiAgXCJjbGFzc1wiOiBwcm9wVHlwZXMuc3RyaW5nLFxuICBjbGFzc05hbWU6IHByb3BUeXBlcy5zdHJpbmcsXG4gIGlkOiBwcm9wVHlwZXMuc3RyaW5nLFxuICBodG1sOiBwcm9wVHlwZXMuYm9vbCxcbiAgZGVsYXlIaWRlOiBwcm9wVHlwZXMubnVtYmVyLFxuICBkZWxheVVwZGF0ZTogcHJvcFR5cGVzLm51bWJlcixcbiAgZGVsYXlTaG93OiBwcm9wVHlwZXMubnVtYmVyLFxuICBldmVudDogcHJvcFR5cGVzLnN0cmluZyxcbiAgZXZlbnRPZmY6IHByb3BUeXBlcy5zdHJpbmcsXG4gIHdhdGNoV2luZG93OiBwcm9wVHlwZXMuYm9vbCxcbiAgaXNDYXB0dXJlOiBwcm9wVHlwZXMuYm9vbCxcbiAgZ2xvYmFsRXZlbnRPZmY6IHByb3BUeXBlcy5zdHJpbmcsXG4gIGdldENvbnRlbnQ6IHByb3BUeXBlcy5hbnksXG4gIGFmdGVyU2hvdzogcHJvcFR5cGVzLmZ1bmMsXG4gIGFmdGVySGlkZTogcHJvcFR5cGVzLmZ1bmMsXG4gIG92ZXJyaWRlUG9zaXRpb246IHByb3BUeXBlcy5mdW5jLFxuICBkaXNhYmxlOiBwcm9wVHlwZXMuYm9vbCxcbiAgc2Nyb2xsSGlkZTogcHJvcFR5cGVzLmJvb2wsXG4gIHJlc2l6ZUhpZGU6IHByb3BUeXBlcy5ib29sLFxuICB3cmFwcGVyOiBwcm9wVHlwZXMuc3RyaW5nLFxuICBib2R5TW9kZTogcHJvcFR5cGVzLmJvb2wsXG4gIHBvc3NpYmxlQ3VzdG9tRXZlbnRzOiBwcm9wVHlwZXMuc3RyaW5nLFxuICBwb3NzaWJsZUN1c3RvbUV2ZW50c09mZjogcHJvcFR5cGVzLnN0cmluZyxcbiAgY2xpY2thYmxlOiBwcm9wVHlwZXMuYm9vbFxufSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MyLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGluc2VjdXJlOiB0cnVlLFxuICByZXNpemVIaWRlOiB0cnVlLFxuICB3cmFwcGVyOiBcImRpdlwiLFxuICBjbGlja2FibGU6IGZhbHNlXG59KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzczIsIFwic3VwcG9ydGVkV3JhcHBlcnNcIiwgW1wiZGl2XCIsIFwic3BhblwiXSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3MyLCBcImRpc3BsYXlOYW1lXCIsIFwiUmVhY3RUb29sdGlwXCIpLCBfdGVtcCkpIHx8IF9jbGFzcykgfHwgX2NsYXNzKSB8fCBfY2xhc3MpIHx8IF9jbGFzcykgfHwgX2NsYXNzKSB8fCBfY2xhc3MpIHx8IF9jbGFzcztcblxuZXhwb3J0IGRlZmF1bHQgUmVhY3RUb29sdGlwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-tooltip/dist/index.es.js\n");

/***/ })

},[["./bundles/differential-expression/index.js","vendorCommons"]]]);